(this["webpackJsonperdplus.web"]=this["webpackJsonperdplus.web"]||[]).push([[0],{211:function(e,t,a){},303:function(e,t,a){"use strict";a.r(t);var n,r,i,c=a(1),s=a.n(c),o=a(26),l=a.n(o),d=(a(211),a(13)),u=a(12),h=a(15),b=a(16),j=a(3),m=a(30),p=a(14),g=a(189),O=a(372),f=a(11),x=a(304),v=a(340),y=a(344),C=a(24),w=a(5),D=a(32),S=Object(D.createActions)({login:["email","password","history"],loginSuccess:["session"],loginFailure:null,logout:["history"],logoutSuccess:null,verifyToken:["history"],verifyTokenSuccess:["session"],verifyTokenFailure:null,googleLogin:["idToken","history"],setShowSocialMigrationWarning:["show"]}),A=S.Types,E=S.Creators,T=Object(D.createReducer)({verifyTokenComplete:!1,isLoggedIn:!1,session:{},showSocialMigrationWarning:!1},(n={},Object(w.a)(n,A.LOGIN,(function(e){return e})),Object(w.a)(n,A.LOGIN_SUCCESS,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{session:t.session,isLoggedIn:!0})})),Object(w.a)(n,A.LOGIN_FAILURE,(function(e){return e})),Object(w.a)(n,A.LOGOUT,(function(e){return e})),Object(w.a)(n,A.LOGOUT_SUCCESS,(function(e){return Object(j.a)(Object(j.a)({},e),{},{isLoggedIn:!1,session:{},showSocialMigrationWarning:!1})})),Object(w.a)(n,A.VERIFY_TOKEN,(function(e){return e})),Object(w.a)(n,A.VERIFY_TOKEN_SUCCESS,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{session:t.session,isLoggedIn:!0,verifyTokenComplete:!0})})),Object(w.a)(n,A.VERIFY_TOKEN_FAILURE,(function(e){return Object(j.a)(Object(j.a)({},e),{},{isLoggedIn:!1,verifyTokenComplete:!0,showSocialMigrationWarning:!1})})),Object(w.a)(n,A.GOOGLE_LOGIN,(function(e){return e})),Object(w.a)(n,A.SET_SHOW_SOCIAL_MIGRATION_WARNING,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{showSocialMigrationWarning:t.show})})),n)),I=A,k=E,N=Object(D.createActions)({setBusy:null,clearBusy:null,showToast:["message","err"],hideToast:null}),R=N.Types,M=N.Creators,F=Object(D.createReducer)({busy:!1,toast:!1,toastMessage:""},(r={},Object(w.a)(r,R.SET_BUSY,(function(e){return Object(j.a)(Object(j.a)({},e),{},{busy:!0})})),Object(w.a)(r,R.CLEAR_BUSY,(function(e){return Object(j.a)(Object(j.a)({},e),{},{busy:!1})})),Object(w.a)(r,R.SHOW_TOAST,(function(e,t){var a,n,r,i=null===t||void 0===t||null===(a=t.err)||void 0===a||null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.errors;return"number"===typeof(null===i||void 0===i?void 0:i.length)&&i.length>0?Object(j.a)(Object(j.a)({},e),{},{toast:!0,toastMessage:i[0]}):Object(j.a)(Object(j.a)({},e),{},{toast:!0,toastMessage:t.message})})),Object(w.a)(r,R.HIDE_TOAST,(function(e){return Object(j.a)(Object(j.a)({},e),{},{toast:!1})})),r)),P=M,_=a(110),L=a.n(_),B=a(381),U=a(346),G=a(111),q=a.n(G),z=a(171),W=a.n(z),H=a(170),K=a.n(H),Y=a(305),V=a(0),Q=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleLogout=function(){e.props.logout(e.props.history)},e.hideToast=function(){e.props.hideToast()},e.socialMigrateClose=function(){e.props.setShowSocialMigrationWarning(!1)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.isLoggedIn,a=(e.showSocialMigrationWarning,e.name),n=e.busy,r=e.toast,i=e.toastMessage,c=e.classes,s=e.className;return Object(V.jsx)("div",{className:s,children:Object(V.jsxs)("header",{className:c.header,children:[Object(V.jsx)(v.a,{position:"static",color:"primary",children:Object(V.jsxs)(y.a,{className:c.buttonCollection,children:[Object(V.jsxs)("div",{children:[Object(V.jsx)(x.a,{className:c.button,component:C.a,to:"/",children:Object(V.jsx)(K.a,{})}),Object(V.jsx)(x.a,{className:c.button,component:C.a,to:"/about",children:"About"}),!t&&Object(V.jsx)(x.a,{className:c.button,component:C.a,to:"/standalone",children:"Try It!"}),t&&Object(V.jsx)(x.a,{className:c.button,component:C.a,to:"/account",children:a}),t&&Object(V.jsx)(x.a,{className:c.button,component:C.a,to:"/documents",children:"Documents"})]}),!n&&Object(V.jsxs)("div",{children:[t&&Object(V.jsx)(x.a,{className:c.button,onClick:this.handleLogout,children:"Logout"}),!t&&Object(V.jsx)(x.a,{className:c.button,component:C.a,to:"/create-account",children:"Signup"}),!t&&Object(V.jsx)(x.a,{className:c.button,component:C.a,to:"/login",children:"Login"})]}),n&&Object(V.jsx)(L.a,{className:c.spinner})]})}),Object(V.jsx)(B.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:r,autoHideDuration:7e3,onClose:this.hideToast,children:Object(V.jsx)(U.a,{"aria-describedby":"client-snackbar",className:c.snackbar,message:Object(V.jsxs)("span",{id:"client-snackbar",className:c.snackbarMessage,children:[Object(V.jsx)(q.a,{className:c.snackbarIcon}),i]}),action:Object(V.jsx)(Y.a,{"aria-label":"Close",color:"inherit",className:c.snackbarClose,onClick:this.hideToast,children:Object(V.jsx)(W.a,{})},"close"),children:Object(V.jsx)(q.a,{})})})]})})}}]),a}(c.Component),J=Object(f.a)((function(e){return{header:{zIndex:e.zIndex.appBar},"@keyframes rotator":{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},button:{color:"#ffffff"},spinner:{animation:"$rotator 1.4s linear infinite",width:50,height:50},snackbar:{backgroundColor:e.palette.error.dark},snackbarClose:{padding:e.spacing(.5)},snackbarIcon:{opacity:.9,marginRight:e.spacing(1)},snackbarMessage:{display:"flex",alignItems:"center"},socialMigrate:{backgroundColor:e.palette.error.dark},socialMigrateMessage:{display:"flex",alignItems:"center",width:"500px"},buttonCollection:{display:"flex",justifyContent:"space-between"}}}))(Object(m.f)(Object(p.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn,showSocialMigrationWarning:e.auth.showSocialMigrationWarning,name:e.auth.session.name,busy:e.global.busy,toast:e.global.toast,toastMessage:e.global.toastMessage}}),(function(e){return{logout:function(t){return e(k.logout(t))},hideToast:function(){return e(P.hideToast())},setShowSocialMigrationWarning:function(t){return e(k.setShowSocialMigrationWarning(t))}}}))(Q))),X=a(347),$=a(378),Z=a(77),ee=a(193),te=Object(D.createActions)({createAccount:["name","email","password","history"],getAccount:null,getAccountSuccess:["account"],getAccountFailure:null,editName:null,updateTemporaryName:["temporaryName"],cancelEditName:null,updateAccount:["name"],updateAccountSuccess:["account"],updateAccountFailure:null,editPassword:null,cancelEditPassword:null,changePassword:["currentPassword","newPassword"],changePasswordSuccess:null,changePasswordFailure:null,changeConfirmDeleteAccount:["confirmDeleteAccount"],deleteAccount:["history"],deleteAccountSuccess:null,deleteAccountFailure:null,doSocialMigration:["email","password","history"]}),ae=te.Types,ne=te.Creators,re=Object(D.createReducer)({account:{},name:"",role:"",createdAt:"",temporaryName:"",showEditName:!1,showEditPassword:!1,confirmDeleteAccount:!1},(i={},Object(w.a)(i,ae.CREATE_ACCOUNT,(function(e){return e})),Object(w.a)(i,ae.GET_ACCOUNT,(function(e){return e})),Object(w.a)(i,ae.GET_ACCOUNT_SUCCESS,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{account:t.account,name:t.account.name,role:t.account.role,createdAt:t.account.createdAt})})),Object(w.a)(i,ae.GET_ACCOUNT_FAILURE,(function(e){return e})),Object(w.a)(i,ae.EDIT_NAME,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showEditName:!0,temporaryName:e.name})})),Object(w.a)(i,ae.UPDATE_TEMPORARY_NAME,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{temporaryName:t.temporaryName})})),Object(w.a)(i,ae.CANCEL_EDIT_NAME,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showEditName:!1})})),Object(w.a)(i,ae.UPDATE_ACCOUNT,(function(e){return e})),Object(w.a)(i,ae.UPDATE_ACCOUNT_SUCCESS,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{showEditName:!1,account:t.account,name:t.account.name,role:t.account.role,createdAt:t.account.createdAt})})),Object(w.a)(i,ae.UPDATE_ACCOUNT_FAILURE,(function(e){return e})),Object(w.a)(i,ae.EDIT_PASSWORD,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showEditPassword:!0})})),Object(w.a)(i,ae.CANCEL_EDIT_PASSWORD,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showEditPassword:!1})})),Object(w.a)(i,ae.CHANGE_PASSWORD,(function(e){return e})),Object(w.a)(i,ae.CHANGE_PASSWORD_SUCCESS,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showEditPassword:!1})})),Object(w.a)(i,ae.CHANGE_PASSWORD_FAILURE,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showEditPassword:!1})})),Object(w.a)(i,ae.CHANGE_CONFIRM_DELETE_ACCOUNT,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{confirmDeleteAccount:t.confirmDeleteAccount})})),Object(w.a)(i,ae.DELETE_ACCOUNT,(function(e){return e})),Object(w.a)(i,ae.DELETE_ACCOUNT_SUCCESS,(function(e){return e})),Object(w.a)(i,ae.DELETE_ACCOUNT_FAILURE,(function(e){return e})),Object(w.a)(i,ae.DO_SOCIAL_MIGRATION,(function(e){return e})),i)),ie=ae,ce=ne,se=a(353),oe=a(377),le=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={currentPassword:"",newPassword:"",newPassword2:"",isCurrentPasswordDirty:!1,isNewPasswordDirty:!1,isNewPassword2Dirty:!1,migrateEmail:"",isMigrateEmailDirty:!1},e.handleEditName=function(){e.props.editName()},e.handleNameChange=function(t){var a=t.target.value;e.props.updateTemporaryName(a)},e.handleCancelEditName=function(){e.props.cancelEditName()},e.handleSaveEditName=function(){var t=e.props,a=t.temporaryName;(0,t.updateAccount)(a)},e.handleChangePassword=function(){e.setState({currentPassword:"",newPassword:"",newPassword2:"",isCurrentPasswordDirty:!1,isNewPasswordDirty:!1,isNewPassword2Dirty:!1}),e.props.editPassword()},e.handleCancelChangePassword=function(){e.props.cancelEditPassword()},e.handleSaveChangePassword=function(){var t=e.state,a=t.currentPassword,n=t.newPassword;e.props.changePassword(a,n)},e.handleCurrentPasswordChange=function(t){e.setState({currentPassword:t.target.value,isCurrentPasswordDirty:!0})},e.handleNewPasswordChange=function(t){e.setState({newPassword:t.target.value,isNewPasswordDirty:!0})},e.handleNewPassword2Change=function(t){e.setState({newPassword2:t.target.value,isNewPassword2Dirty:!0})},e.handleMigrateEmailChange=function(t){e.setState({migrateEmail:t.target.value,isMigrateEmailDirty:!0})},e.handleSocialMigration=function(){var t=e.state,a=t.migrateEmail,n=t.newPassword;e.props.doSocialMigration(a,n,e.props.history)},e.handleConfirmDeleteChanged=function(){var t=e.props,a=t.confirmDeleteAccount;(0,t.changeConfirmDeleteAccount)(!a)},e.deleteAccount=function(){e.props.deleteAccount(e.props.history)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.gtag("event","page_view",{page_path:"/account"})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.name,n=e.temporaryName,r=e.showEditName,i=e.showEditPassword,c=e.confirmDeleteAccount,s=this.props.session.identity,o=null;if(this.props.account.email){var l=this.props.account.email,d=this.state,u=d.currentPassword,h=d.newPassword,b=d.newPassword2,j=d.isCurrentPasswordDirty,m=d.isNewPasswordDirty,p=d.isNewPassword2Dirty,g=!u||h.length<8||h!==b,O=j&&0===u.length?"Enter current password":"",f=m&&h.length<8?"Password must be longer than 8 characters":"",v=p&&h!==b?"Passwords do not match":"";o=Object(V.jsxs)(X.a,{container:!0,className:t.grid,spacing:3,children:[Object(V.jsx)(X.a,{item:!0,xs:3}),Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(ee.a,{className:t.paper,elevation:2,children:Object(V.jsxs)(X.a,{container:!0,className:t.grid,spacing:3,children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Z.a,{variant:"h6",children:"Change Password"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Z.a,{variant:"body1",children:l})}),i&&Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)($.a,{id:"currentPassword",label:"Current Password",margin:"normal",className:t.textField,type:"password",helperText:O,value:u,onChange:this.handleCurrentPasswordChange})}),i&&Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)($.a,{id:"newPassword",label:"New Password",margin:"normal",className:t.textField,type:"password",helperText:f,value:h,onChange:this.handleNewPasswordChange})}),i&&Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)($.a,{id:"newPassword2",label:"Confirm New Password",margin:"normal",className:t.textField,type:"password",helperText:v,value:b,onChange:this.handleNewPassword2Change})}),Object(V.jsxs)(X.a,{item:!0,xs:12,className:t.buttonGridItem,children:[!i&&Object(V.jsx)(x.a,{className:t.button,variant:"outlined",onClick:this.handleChangePassword,children:"Change"}),i&&Object(V.jsx)(x.a,{className:t.button,variant:"outlined",onClick:this.handleCancelChangePassword,children:"Cancel"}),i&&Object(V.jsx)(x.a,{className:t.button,variant:"outlined",color:"primary",onClick:this.handleSaveChangePassword,disabled:g,children:"Save"})]})]})})}),Object(V.jsx)(X.a,{item:!0,xs:3})]})}var y=null;return this.props.account.googleId&&(y=Object(V.jsxs)(X.a,{container:!0,className:t.grid,spacing:3,children:[Object(V.jsx)(X.a,{item:!0,xs:3}),Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(ee.a,{className:t.paper,elevation:2,children:Object(V.jsxs)(X.a,{container:!0,className:t.grid,spacing:3,children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Z.a,{variant:"h6",children:"Logged in with Google"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Z.a,{variant:"body1",children:this.props.account.googleId})})]})})}),Object(V.jsx)(X.a,{item:!0,xs:3})]})),Object(V.jsxs)("section",{className:t.section,children:[Object(V.jsx)(J,{}),Object(V.jsx)(X.a,{container:!0,className:t.grid,spacing:3,children:Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Z.a,{variant:"h4",children:"Account Information"})})}),Object(V.jsxs)(X.a,{container:!0,className:t.grid,spacing:3,children:[Object(V.jsx)(X.a,{item:!0,xs:3}),Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(ee.a,{className:t.paper,elevation:2,children:Object(V.jsxs)(X.a,{container:!0,className:t.grid,spacing:3,children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Z.a,{variant:"h6",children:"Name"})}),Object(V.jsxs)(X.a,{item:!0,xs:12,children:[!r&&Object(V.jsx)(Z.a,{variant:"body1",children:a}),r&&Object(V.jsx)($.a,{id:"name",margin:"normal",className:t.textField,value:n,onChange:this.handleNameChange})]}),Object(V.jsxs)(X.a,{item:!0,xs:12,className:t.buttonGridItem,children:[!r&&Object(V.jsx)(x.a,{className:t.button,variant:"outlined",onClick:this.handleEditName,children:"Edit"}),r&&Object(V.jsx)(x.a,{className:t.button,variant:"outlined",onClick:this.handleCancelEditName,children:"Cancel"}),r&&Object(V.jsx)(x.a,{className:t.button,variant:"outlined",color:"primary",onClick:this.handleSaveEditName,children:"Save"})]})]})})}),Object(V.jsx)(X.a,{item:!0,xs:3})]}),"email"===s&&o,"google"===s&&y,Object(V.jsxs)(X.a,{container:!0,className:t.grid,spacing:3,children:[Object(V.jsx)(X.a,{item:!0,xs:3}),Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(ee.a,{className:t.paper,elevation:2,children:Object(V.jsxs)(X.a,{container:!0,className:t.grid,spacing:3,children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Z.a,{variant:"h6",children:"Delete Account"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(se.a,{control:Object(V.jsx)(oe.a,{checked:c,onChange:this.handleConfirmDeleteChanged}),label:"Permanently delete account. The account will be deleted as soon as you press 'Delete' below."})}),Object(V.jsx)(X.a,{item:!0,xs:12,className:t.buttonGridItem,children:!r&&Object(V.jsx)(x.a,{className:t.button,color:"primary",variant:c?"contained":"outlined",disabled:!c,onClick:this.deleteAccount,children:"Delete"})})]})})}),Object(V.jsx)(X.a,{item:!0,xs:3})]})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"string"===typeof e.account.email&&t.migrateEmail!==e.account.email?{migrateEmail:e.account.email}:null}}]),a}(c.Component),de=Object(f.a)((function(e){return{section:{height:"100%",display:"flex",flexFlow:"column"},contentArea:{height:"100%"},grid:{paddingTop:e.spacing(3),textAlign:"center"},paper:{padding:e.spacing(3)},textField:{width:"100%"},buttonGridItem:{width:"100%",textAlign:"right"},button:{marginLeft:e.spacing(1),width:120}}}))(Object(m.f)(Object(p.b)((function(e){return{name:e.account.name,temporaryName:e.account.temporaryName,showEditName:e.account.showEditName,showEditPassword:e.account.showEditPassword,createdAt:e.account.createdAt,account:e.account.account,session:e.auth.session,confirmDeleteAccount:e.account.confirmDeleteAccount}}),(function(e){return{editName:function(){return e(ce.editName())},updateTemporaryName:function(t){return e(ce.updateTemporaryName(t))},cancelEditName:function(){return e(ce.cancelEditName())},updateAccount:function(t){return e(ce.updateAccount(t))},editPassword:function(){return e(ce.editPassword())},changePassword:function(t,a){return e(ce.changePassword(t,a))},cancelEditPassword:function(){return e(ce.cancelEditPassword())},changeConfirmDeleteAccount:function(t){return e(ce.changeConfirmDeleteAccount(t))},deleteAccount:function(t){return e(ce.deleteAccount(t))},doSocialMigration:function(t,a,n){return e(ce.doSocialMigration(t,a,n))}}}))(le))),ue=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={name:"",email:"",password:"",confirmPassword:"",isPasswordDirty:!1,isConfirmPasswordDirty:!1},e.handleSubmit=function(){var t=e.state,a=t.name,n=t.email,r=t.password;e.props.createAccount(a,n,r,e.props.history)},e.handleNameChange=function(t){e.setState({name:t.target.value})},e.handleEmailChange=function(t){e.setState({email:t.target.value})},e.handlePasswordChange=function(t){e.setState({password:t.target.value,isPasswordDirty:!0})},e.handleConfirmPasswordChange=function(t){e.setState({confirmPassword:t.target.value,isConfirmPasswordDirty:!0})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.gtag("event","page_view",{page_path:"/create-account"})}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.email,n=e.password,r=e.confirmPassword,i=e.isPasswordDirty,c=e.isConfirmPasswordDirty,s=this.props.classes,o=!t||!a||!n||n.length<8||n!==r,l=i&&n.length<8?"Password must be longer than 8 characters":"",d=c&&n!==r?"Passwords do not match":"";return Object(V.jsxs)("section",{className:s.section,children:[Object(V.jsx)(J,{}),Object(V.jsxs)(X.a,{container:!0,className:s.grid,spacing:0,children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Z.a,{variant:"h4",children:"Create Account"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)($.a,{id:"name",label:"Name",margin:"normal",className:s.textField,value:t,onChange:this.handleNameChange})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)($.a,{id:"email",label:"Email",margin:"normal",className:s.textField,value:a,onChange:this.handleEmailChange})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)($.a,{id:"password",label:"Password",margin:"normal",className:s.textField,value:n,onChange:this.handlePasswordChange,helperText:l,type:"password"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)($.a,{id:"confirmPassword",label:"Confirm Password",margin:"normal",className:s.textField,value:r,onChange:this.handleConfirmPasswordChange,helperText:d,type:"password"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(x.a,{className:s.submitButton,variant:"outlined",color:"primary",disabled:o,onClick:this.handleSubmit,children:"Create Account"})})]})]})}}]),a}(c.Component),he=Object(f.a)((function(e){return{textField:{width:300},submitButton:{margin:e.spacing(1),width:200},section:{height:"100%",display:"flex",flexFlow:"column"},grid:{paddingTop:e.spacing(3),textAlign:"center"}}}))(Object(m.f)(Object(p.b)((function(e){return{}}),(function(e){return{createAccount:function(t,a,n,r){return e(ce.createAccount(t,a,n,r))}}}))(ue))),be=a(25),je=a(352),me=a(6),pe=a(172),ge=a.n(pe),Oe=["classes","className"];var fe,xe,ve,ye,Ce=a(306),we=a(354),De=a(355),Se=a(176),Ae=a.n(Se),Ee=a(175),Te=a.n(Ee),Ie=a(356),ke=a(173),Ne=a.n(ke),Re=a(174),Me=a.n(Re),Fe=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).toggle=function(t){t.stopPropagation();var a=e.props,n=a.folder,r=a.expandFolder,i=a.collapseFolder;n.isOpen?i(n.id):r(n.id)},e.select=function(){e.props.selectFolder(e.props.folder.id)},e}return Object(u.a)(a,[{key:"render",value:function(){var e,t,a,n=this.props,r=n.classes,i=n.folder,c=n.expandFolder,s=n.collapseFolder,o=n.selectFolder,l=i.children.length>0,d=(e=Ce.a,function(t,a){var n="function"===typeof t?function(e){return{root:t(e)}}:{root:t};return Object(f.a)(n,a)((function(t){var a=t.classes,n=t.className,r=Object(me.a)(t,Oe);return Object(V.jsx)(e,Object(j.a)({className:ge()(a.root,n)},r))}))})((function(e){return{height:48,paddingTop:0,paddingBottom:0,paddingLeft:e.spacing(2)*i.depth}}));l&&(t=i.isOpen?Object(V.jsx)(Y.a,{className:r.iconButton,"aria-label":"Collapse",onClick:this.toggle,children:Object(V.jsx)(Ne.a,{})}):Object(V.jsx)(Y.a,{className:r.iconButton,"aria-label":"Expand",onClick:this.toggle,children:Object(V.jsx)(Me.a,{})})),i.isSelected&&(a=r.selected);var u="root"===i.folderType?"Diagrams":i.name;return Object(V.jsxs)("div",{children:[Object(V.jsx)("div",{className:a,children:Object(V.jsxs)(d,{button:!0,onClick:this.select,children:[Object(V.jsx)(we.a,{children:i.isOpen?Object(V.jsx)(Te.a,{}):Object(V.jsx)(Ae.a,{})}),Object(V.jsx)(De.a,{inset:!0,primary:u}),t]})}),Object(V.jsx)(Ie.a,{in:i.isOpen,timeout:"auto",unmountOnExit:!0,children:Object(V.jsx)(je.a,{component:"div",disablePadding:!0,children:i.children.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return Object(V.jsx)(Pe,{folder:e,expandFolder:c,collapseFolder:s,selectFolder:o},e.id)}))})})]})}}]),a}(c.Component),Pe=Object(f.a)((function(e){return{iconButton:{margin:e.spacing(1)},listItemDefault:{height:48,paddingTop:0,paddingBottom:0},selected:{backgroundColor:e.palette.action.selected}}}))(Object(p.b)((function(e){return{}}),(function(e){return{}}))(Fe)),_e=Pe,Le=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.folderTree,n=e.expandFolder,r=e.collapseFolder,i=e.selectFolder;return Object(V.jsx)(je.a,{className:t.root,component:"nav",children:a.map((function(e){return Object(V.jsx)(_e,{folder:e,expandFolder:n,collapseFolder:r,selectFolder:i},e.id)}))})}}]),a}(c.Component),Be=Object(f.a)((function(e){return{root:{height:"100%",width:"100%",backgroundColor:e.palette.background.paper},nested:{paddingLeft:e.spacing(1)}}}))(Object(p.b)((function(e){return{}}),(function(e){return{}}))(Le)),Ue=a(66),Ge=function(e){return e.diagram.diagrams},qe=Object(Ue.a)([Ge,function(e){return e.folder.currentFolderId}],(function(e,t){return e.filter((function(e){return e.folderId===t}))})),ze=Object(Ue.a)([Ge,function(e,t){return t.history.location.pathname}],(function(e,t){var a=t.split("/");if(3===a.length&&"edit-diagram"===a[1]){var n=a[2];return e.find((function(e){return e.id===n}))}return null})),We=a(359),He=a(177),Ke=a.n(He),Ye=a(178),Ve=a.n(Ye),Qe=a(192),Je=a(357),Xe=a(358),$e=Object(D.createActions)({getDiagrams:null,getDiagramsSuccess:["diagrams"],getDiagramsFailure:null,saveDiagram:["diagram"],saveDiagramSuccess:["diagram"],saveDiagramFailure:null,createDiagram:["diagram"],createDiagramSuccess:["diagram"],createDiagramFailure:null,createDiagramDialogShow:null,setCreateDiagramName:["name"],setCreateDiagramType:["typ"],createDiagramDialogCancel:null,renameDiagramDialogShow:["diagram"],renameDiagramDialogCancel:null,renameDiagramNameChanged:["name"],importDiagramDialogShow:null,importDiagramDialogCancel:null,dropImportFile:["file","currentFolderId"],dropImportFileSuccess:["fileResult"],dropImportFileFailure:["fileResult"],removeImportFile:["index"],importDiagrams:["diagrams"],importDiagramsSuccess:["diagrams"],importDiagramsFailure:null,deleteDiagram:["diagramId"],deleteDiagramSuccess:null,deleteDiagramFailure:null,moveToFolderDialogShow:null,moveToFolderDialogCancel:null,saveManyDiagrams:["diagrams"],saveManyDiagramsSuccess:["diagrams"],saveManyDiagramsFailure:null,setDocumentsPageMode:["mode"]}),Ze=$e.Types,et=$e.Creators,tt=Object(D.createReducer)({diagrams:[],showCreateDiagramDialog:!1,createDiagramName:"",createDiagramType:"er",showRenameDiagramDialog:!1,showImportDiagramDialog:!1,showMoveToFolderDialog:!1,renameDiagramName:null,renameDiagramId:null,dropImportFileResults:[],documentsPageMode:"list"},(fe={},Object(w.a)(fe,Ze.GET_DIAGRAMS,(function(e){return e})),Object(w.a)(fe,Ze.GET_DIAGRAMS_SUCCESS,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{diagrams:t.diagrams})})),Object(w.a)(fe,Ze.GET_DIAGRAMS_FAILURE,(function(e){return e})),Object(w.a)(fe,Ze.SAVE_DIAGRAM,(function(e){return e})),Object(w.a)(fe,Ze.SAVE_DIAGRAM_SUCCESS,(function(e,t){var a=e.diagrams.filter((function(e){return e.id!==t.diagram.id}));return Object(j.a)(Object(j.a)({},e),{},{diagrams:[].concat(Object(be.a)(a),[t.diagram])})})),Object(w.a)(fe,Ze.SAVE_DIAGRAM_FAILURE,(function(e){return e})),Object(w.a)(fe,Ze.CREATE_DIAGRAM,(function(e){return e})),Object(w.a)(fe,Ze.CREATE_DIAGRAM_SUCCESS,(function(e,t){var a=e.diagrams;return Object(j.a)(Object(j.a)({},e),{},{diagrams:[].concat(Object(be.a)(a),[t.diagram]),showCreateDiagramDialog:!1,createDiagramName:"",createDiagramType:"er"})})),Object(w.a)(fe,Ze.CREATE_DIAGRAM_DIALOG_SHOW,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showCreateDiagramDialog:!0})})),Object(w.a)(fe,Ze.CREATE_DIAGRAM_DIALOG_CANCEL,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showCreateDiagramDialog:!1,createDiagramName:"",createDiagramType:"er"})})),Object(w.a)(fe,Ze.SET_CREATE_DIAGRAM_NAME,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{createDiagramName:t.name})})),Object(w.a)(fe,Ze.SET_CREATE_DIAGRAM_TYPE,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{createDiagramType:t.typ})})),Object(w.a)(fe,Ze.RENAME_DIAGRAM_DIALOG_SHOW,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{showRenameDiagramDialog:!0,renameDiagramName:t.diagram.name,renameDiagramId:t.diagram.id})})),Object(w.a)(fe,Ze.RENAME_DIAGRAM_DIALOG_CANCEL,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showRenameDiagramDialog:!1,renameDiagramName:"",renameDiagramId:null})})),Object(w.a)(fe,Ze.IMPORT_DIAGRAM_DIALOG_SHOW,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showImportDiagramDialog:!0,dropImportFileResults:[]})})),Object(w.a)(fe,Ze.IMPORT_DIAGRAM_DIALOG_CANCEL,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showImportDiagramDialog:!1})})),Object(w.a)(fe,Ze.DROP_IMPORT_FILE,(function(e){return e})),Object(w.a)(fe,Ze.DROP_IMPORT_FILE_SUCCESS,(function(e,t){var a=e.dropImportFileResults;return Object(j.a)(Object(j.a)({},e),{},{dropImportFileResults:[].concat(Object(be.a)(a),[t.fileResult])})})),Object(w.a)(fe,Ze.DROP_IMPORT_FILE_FAILURE,(function(e,t){var a=e.dropImportFileResults;return Object(j.a)(Object(j.a)({},e),{},{dropImportFileResults:[].concat(Object(be.a)(a),[t.fileResult])})})),Object(w.a)(fe,Ze.REMOVE_IMPORT_FILE,(function(e,t){var a=Object(be.a)(e.dropImportFileResults);return a.splice(t.index,1),Object(j.a)(Object(j.a)({},e),{},{dropImportFileResults:a})})),Object(w.a)(fe,Ze.RENAME_DIAGRAM_NAME_CHANGED,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{renameDiagramName:t.name})})),Object(w.a)(fe,Ze.IMPORT_DIAGRAMS,(function(e){return e})),Object(w.a)(fe,Ze.IMPORT_DIAGRAMS_SUCCESS,(function(e,t){var a=e.diagrams;return Object(j.a)(Object(j.a)({},e),{},{diagrams:[].concat(Object(be.a)(a),Object(be.a)(t.diagrams)),dropImportFileResults:[],showImportDiagramDialog:!1})})),Object(w.a)(fe,Ze.IMPORT_DIAGRAMS_FAILURE,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showImportDiagramDialog:!1})})),Object(w.a)(fe,Ze.DELETE_DIAGRAM,(function(e){return e})),Object(w.a)(fe,Ze.DELETE_DIAGRAM_SUCCESS,(function(e){return e})),Object(w.a)(fe,Ze.DELETE_DIAGRAM_FAILURE,(function(e){return e})),Object(w.a)(fe,Ze.MOVE_TO_FOLDER_DIALOG_SHOW,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showMoveToFolderDialog:!0})})),Object(w.a)(fe,Ze.MOVE_TO_FOLDER_DIALOG_CANCEL,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showMoveToFolderDialog:!1})})),Object(w.a)(fe,Ze.SAVE_MANY_DIAGRAMS,(function(e){return e})),Object(w.a)(fe,Ze.SAVE_MANY_DIAGRAMS_SUCCESS,(function(e,t){var a=t.diagrams.map((function(e){return e.id})),n=e.diagrams.filter((function(e){return-1===a.indexOf(e.id)}));return Object(j.a)(Object(j.a)({},e),{},{documentsPageMode:"list",diagrams:[].concat(Object(be.a)(n),Object(be.a)(t.diagrams))})})),Object(w.a)(fe,Ze.SAVE_MANY_DIAGRAMS_FAILURE,(function(e){return Object(j.a)(Object(j.a)({},e),{},{documentsPageMode:"list"})})),Object(w.a)(fe,Ze.SET_DOCUMENTS_PAGE_MODE,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{documentsPageMode:t.mode})})),fe)),at=Ze,nt=et,rt=Object(D.createActions)({showConvertToRelationalDialog:["diagramId","name"],hideConvertToRelationalDialog:null,convertToRelational:["folderId","name","content","edit","history"],nameChanged:["name"],generateSql:["content"],generateSqlSuccess:["sql"],generateSqlFailure:null,hideConvertSqlDialog:null,setSqlCopied:null}),it=rt.Types,ct=rt.Creators,st=Object(D.createReducer)({showDialog:!1,autoFocusName:!1,diagramId:0,name:"",sql:"",showConvertSqlDialog:!1,sqlCopied:!1},(xe={},Object(w.a)(xe,it.SHOW_CONVERT_TO_RELATIONAL_DIALOG,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{showDialog:!0,autoFocusName:!0,diagramId:t.diagramId,name:t.name})})),Object(w.a)(xe,it.HIDE_CONVERT_TO_RELATIONAL_DIALOG,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showDialog:!1,autoFocusName:!1})})),Object(w.a)(xe,it.CONVERT_TO_RELATIONAL,(function(e){return e})),Object(w.a)(xe,it.NAME_CHANGED,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{name:t.name,autoFocusName:!1})})),Object(w.a)(xe,it.GENERATE_SQL,(function(e){return e})),Object(w.a)(xe,it.GENERATE_SQL_SUCCESS,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{showConvertSqlDialog:!0,sqlCopied:!1,sql:t.sql})})),Object(w.a)(xe,it.GENERATE_SQL_FAILURE,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{showConvertSqlDialog:!0,sql:"Error"})})),Object(w.a)(xe,it.HIDE_CONVERT_SQL_DIALOG,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{showConvertSqlDialog:!1,sql:""})})),Object(w.a)(xe,it.SET_SQL_COPIED,(function(e){return Object(j.a)(Object(j.a)({},e),{},{sqlCopied:!0})})),xe)),ot=it,lt=ct,dt=function(e){return e.folder.folders},ut=Object(Ue.a)([dt,function(e){return e.folder.foldersMeta},function(e){return e.folder.currentFolderId}],(function(e,t,a){if(0===e.length)return[];var n=e.map((function(e){var n=t.find((function(t){return t.id===e.id}));return Object(j.a)(Object(j.a)(Object(j.a)({},n),e),{},{isSelected:e.id===a})})),r=n.find((function(e){return"root"===e.folderType})),i=n.find((function(e){return"trash"===e.folderType}));r.depth=0,i.depth=0,i.children=[];return function e(t){var a=n.filter((function(e){return e.parentId===t.id}));a.forEach((function(a){a.depth=t.depth+1,e(a)})),t.children=a}(r),[r,i]})),ht=(Object(Ue.a)([dt],(function(e){if(0===e.length)return[];var t=e.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{isOpen:!1,isSelected:!1})})),a=t.find((function(e){return"root"===e.folderType}));a.isOpen=!0,a.depth=0;return function e(a){var n=t.filter((function(e){return e.parentId===a.id}));n.forEach((function(t){t.depth=a.depth+1,e(t)})),a.children=n}(a),[a]})),Object(Ue.a)([dt],(function(e){if(e.length>0){var t=e.find((function(e){return"trash"===e.folderType}));if(t)return t.id}return null}))),bt=window.saveAs,jt="er",mt="relational",pt="star",gt=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={menuAnchor:null,diagramId:null,diagramType:null,isMoving:!1,selectedIds:[]},e.handleClick=function(t){var a=e.props,n=a.mode,r=a.onSelectDiagram,i=a.history,c=a.currentFolderId,s=a.trashFolderId;"select"===n?r(t):c!==s&&i.push("/edit-diagram/".concat(t))},e.handleMenuClick=function(t,a,n){e.setState({menuAnchor:t,diagramId:a,diagramType:n})},e.handleMenuClose=function(){e.setState({menuAnchor:null,diagramId:null,diagramType:null})},e.handleOpen=function(){e.handleClick(e.state.diagramId),e.handleMenuClose()},e.handleRename=function(){var t=e.props.currentFolderDiagrams.find((function(t){return t.id===e.state.diagramId}));e.handleMenuClose(),e.props.renameDiagramDialogShow(t)},e.handleTrash=function(){var t=e.props.currentFolderDiagrams.find((function(t){return t.id===e.state.diagramId}));e.props.saveDiagram(Object(j.a)(Object(j.a)({},t),{},{folderId:e.props.trashFolderId})),e.handleMenuClose()},e.handleCopy=function(){var t=e.props.currentFolderDiagrams.find((function(t){return t.id===e.state.diagramId})),a={folderId:t.folderId,name:"".concat(t.name," Copy"),diagramType:t.diagramType,content:t.content};e.props.createDiagram(a),e.handleMenuClose()},e.handleExport=function(){var t=e.props.currentFolderDiagrams.find((function(t){return t.id===e.state.diagramId})),a=new Blob([t.content],{type:"text/plain;charset=utf-8"});bt(a,"".concat(t.name,".erdplus")),e.handleMenuClose()},e.handleConvertToRelational=function(){var t=e.props.currentFolderDiagrams.find((function(t){return t.id===e.state.diagramId}));e.handleMenuClose(),e.props.showConvertToRelationalDialog(t.id,t.name)},e.handleGenerateSql=function(){var t=e.props.currentFolderDiagrams.find((function(t){return t.id===e.state.diagramId}));e.handleMenuClose(),e.props.generateSql(t.content)},e.typeToName=function(e){return e===jt?"ER Diagram":e===mt?"Relational Schema":e===pt?"Star Schema":""},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.menuAnchor,n=t.diagramType,r=this.props,i=r.currentFolderDiagrams,c=r.classes,s=r.mode,o=r.selectedIds,l=r.currentFolderId,d=r.trashFolderId;i.sort((function(e,t){return e.name.localeCompare(t.name)}));var u=l===d;return Object(V.jsxs)(je.a,{className:c.root,children:[Object(V.jsxs)(Qe.a,{id:"diagram-menu",open:Boolean(a),anchorEl:a,onClose:this.handleMenuClose,children:[Object(V.jsx)(Je.a,{onClick:this.handleOpen,children:"Open ..."}),Object(V.jsx)(Xe.a,{}),Object(V.jsx)(Je.a,{onClick:this.handleRename,children:"Rename ..."}),Object(V.jsx)(Je.a,{onClick:this.handleTrash,children:"Move to Trash"}),Object(V.jsx)(Je.a,{onClick:this.handleCopy,children:"Copy"}),Object(V.jsx)(Je.a,{onClick:this.handleExport,children:"Export"}),Object(V.jsx)(Je.a,{onClick:this.handleConvertToRelational,disabled:"er"!==n,children:"Convert to Relational Schema"}),Object(V.jsx)(Je.a,{onClick:this.handleGenerateSql,disabled:"er"===n,children:"Generate SQL"})]}),i.map((function(t,n){return Object(V.jsxs)(Ce.a,{button:!u,onClick:function(){return e.handleClick(t.id)},children:["select"===s&&Object(V.jsx)(oe.a,{checked:o.includes(t.id),tabIndex:n}),Object(V.jsx)(we.a,{children:Object(V.jsx)(Ke.a,{})}),Object(V.jsx)(De.a,{primary:t.name,secondary:e.typeToName(t.diagramType)}),Object(V.jsx)(De.a,{secondary:window.moment(t.updatedAt).fromNow(),className:c.lastModified}),!u&&Object(V.jsx)(We.a,{children:Object(V.jsx)(Y.a,{"aria-label":"diagram menu","aria-owns":a?"diagram-menu":null,"aria-haspopup":"true",onClick:function(a){return e.handleMenuClick(a.currentTarget,t.id,t.diagramType)},children:Object(V.jsx)(Ve.a,{})})})]},t.id)}))]})}}]),a}(c.Component),Ot=Object(f.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},lastModified:{textAlign:"right",marginRight:30}}}))(Object(m.f)(Object(p.b)((function(e){return{currentFolderId:e.folder.currentFolderId,currentFolderDiagrams:qe(e),trashFolderId:ht(e)}}),(function(e){return{createDiagram:function(t){return e(nt.createDiagram(t))},deleteDiagram:function(t){return e(nt.deleteDiagram(t))},saveDiagram:function(t){return e(nt.saveDiagram(t))},renameDiagramDialogShow:function(t){return e(nt.renameDiagramDialogShow(t))},showConvertToRelationalDialog:function(t,a){return e(lt.showConvertToRelationalDialog(t,a))},generateSql:function(t){return e(lt.generateSql(t))}}}))(gt))),ft=a(365),xt=Object(D.createActions)({getFolders:null,getFoldersSuccess:["folders"],getFoldersFailure:null,expandFolder:["folderId"],collapseFolder:["folderId"],createFolderDialogShow:null,createFolderDialogCancel:null,newFolderNameChanged:["newFolderName"],createFolder:["name","parentId"],createFolderSuccess:["folder"],createFolderFailure:null,selectFolder:["folderId"],editFolderDialogShow:["folderId","name"],editFolderDialogCancel:null,editFolderNameChanged:["name"],renameFolder:["folder"],renameFolderSuccess:["folder"],renameFolderFailure:null,deleteFolderDialogShow:["folderId"],deleteFolderDialogCancel:null,deleteFolder:["folderId"],deleteFolderSuccess:null,deleteFolderFailure:null,emptyTrashShow:null,emptyTrashCancel:null,emptyTrash:null,emptyTrashSuccess:null,emptyTrashFailure:null}),vt=xt.Types,yt=xt.Creators,Ct=Object(D.createReducer)({folders:[],foldersMeta:[],currentFolderId:null,showNewFolder:!1,newFolderName:"",showEditFolder:!1,editFolderNewName:"",editFolderId:null,showDeleteFolder:!1,deleteFolderName:"",deleteFolderId:null,showEmptyTrash:!1},(ve={},Object(w.a)(ve,vt.GET_FOLDERS,(function(e){return e})),Object(w.a)(ve,vt.GET_FOLDERS_SUCCESS,(function(e,t){var a=t.folders.map((function(e){return{id:e.id,isOpen:"root"===e.folderType}})),n=t.folders.find((function(e){return"root"===e.folderType}));return Object(j.a)(Object(j.a)({},e),{},{folders:t.folders,foldersMeta:a,currentFolderId:n?n.id:null})})),Object(w.a)(ve,vt.GET_FOLDERS_FAILURE,(function(e){return Object(j.a)(Object(j.a)({},e),{},{folders:[],foldersMeta:[]})})),Object(w.a)(ve,vt.EXPAND_FOLDER,(function(e,t){var a=e.foldersMeta.map((function(e){return e.id===t.folderId?Object(j.a)(Object(j.a)({},e),{},{isOpen:!0}):e}));return Object(j.a)(Object(j.a)({},e),{},{foldersMeta:a})})),Object(w.a)(ve,vt.COLLAPSE_FOLDER,(function(e,t){var a=e.foldersMeta.map((function(e){return e.id===t.folderId?Object(j.a)(Object(j.a)({},e),{},{isOpen:!1}):e}));return Object(j.a)(Object(j.a)({},e),{},{foldersMeta:a})})),Object(w.a)(ve,vt.CREATE_FOLDER_DIALOG_SHOW,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showNewFolder:!0,newFolderName:""})})),Object(w.a)(ve,vt.CREATE_FOLDER_DIALOG_CANCEL,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showNewFolder:!1})})),Object(w.a)(ve,vt.NEW_FOLDER_NAME_CHANGED,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{newFolderName:t.newFolderName})})),Object(w.a)(ve,vt.CREATE_FOLDER,(function(e){return e})),Object(w.a)(ve,vt.CREATE_FOLDER_SUCCESS,(function(e,t){var a=[].concat(Object(be.a)(e.foldersMeta),[{id:t.folder.id,isOpen:!1}]),n=[].concat(Object(be.a)(e.folders),[t.folder]);return Object(j.a)(Object(j.a)({},e),{},{showNewFolder:!1,folders:n,foldersMeta:a})})),Object(w.a)(ve,vt.CREATE_FOLDER_FAILURE,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showNewFolder:!1})})),Object(w.a)(ve,vt.SELECT_FOLDER,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{currentFolderId:t.folderId})})),Object(w.a)(ve,vt.EDIT_FOLDER_DIALOG_SHOW,(function(e,t){var a=e.folders.find((function(e){return e.id===t.folderId}));return Object(j.a)(Object(j.a)({},e),{},{showEditFolder:!0,editFolderNewName:a.name,editFolderId:t.folderId})})),Object(w.a)(ve,vt.EDIT_FOLDER_DIALOG_CANCEL,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showEditFolder:!1})})),Object(w.a)(ve,vt.EDIT_FOLDER_NAME_CHANGED,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{editFolderNewName:t.name})})),Object(w.a)(ve,vt.RENAME_FOLDER,(function(e){return e})),Object(w.a)(ve,vt.RENAME_FOLDER_SUCCESS,(function(e,t){var a=e.folders.filter((function(e){return e.id!==t.folder.id})),n=[].concat(Object(be.a)(a),[t.folder]);return Object(j.a)(Object(j.a)({},e),{},{showEditFolder:!1,folders:n})})),Object(w.a)(ve,vt.RENAME_FOLDER_FAILURE,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{showEditFolder:!1})})),Object(w.a)(ve,vt.DELETE_FOLDER_DIALOG_SHOW,(function(e,t){var a=e.folders.find((function(e){return e.id===t.folderId}));return Object(j.a)(Object(j.a)({},e),{},{showDeleteFolder:!0,deleteFolderName:a.name,deleteFolderId:t.folderId})})),Object(w.a)(ve,vt.DELETE_FOLDER_DIALOG_CANCEL,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{showDeleteFolder:!1})})),Object(w.a)(ve,vt.DELETE_FOLDER,(function(e){return e})),Object(w.a)(ve,vt.DELETE_FOLDER_SUCCESS,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{showDeleteFolder:!1})})),Object(w.a)(ve,vt.DELETE_FOLDER_FAILURE,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{showDeleteFolder:!1})})),Object(w.a)(ve,vt.EMPTY_TRASH_SHOW,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showEmptyTrash:!0})})),Object(w.a)(ve,vt.EMPTY_TRASH_CANCEL,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showEmptyTrash:!1})})),Object(w.a)(ve,vt.EMPTY_TRASH,(function(e){return e})),Object(w.a)(ve,vt.EMPTY_TRASH_SUCCESS,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{showEmptyTrash:!1})})),Object(w.a)(ve,vt.EMPTY_TRASH_FAILURE,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{showEmptyTrash:!1})})),ve)),wt=vt,Dt=yt,St=Object(D.createActions)({setContext:["contextDetails","contextType"],clearContext:null,setMouseMode:["mouseMode"],setUndoRedo:["canUndo","canRedo"],setCanDelete:["canDelete"],setCanvasSize:["width","height"],showCanvasSizeDialog:["minCanvasWidth","minCanvasHeight"],hideCanvasSizeDialog:null,showExportImageDialog:["diagramContent"],hideExportImageDialog:null,createExportImageData:["diagramContent","transparent","scale"],createExportImageDataSuccess:["dataUrl","blob"],updateExportImageOptions:["transparent","scale"],setIsDirty:["isDirty"],saveEditDiagram:["diagram"]}),At=St.Types,Et=St.Creators,Tt=Object(D.createReducer)({contextDetails:{},contextType:"",mouseMode:"none",canUndo:!1,canRedo:!1,canDelete:!1,canvasWidth:2e3,canvasHeight:1e3,showCanvasSizeDialog:!1,minCanvasWidth:0,minCanvasHeight:0,showExportImageDialog:!1,exportImageContent:"",exportImageTransparent:!1,exportImageScale:1,exportImageDataUrl:"",exportImageBlob:null,isDirty:!1},(ye={},Object(w.a)(ye,At.SET_CONTEXT,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{contextDetails:t.contextDetails,contextType:t.contextType})})),Object(w.a)(ye,At.CLEAR_CONTEXT,(function(e){return Object(j.a)(Object(j.a)({},e),{},{contextDetails:{},contextType:""})})),Object(w.a)(ye,At.SET_MOUSE_MODE,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{mouseMode:t.mouseMode})})),Object(w.a)(ye,At.SET_UNDO_REDO,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{canUndo:t.canUndo,canRedo:t.canRedo})})),Object(w.a)(ye,At.SET_CAN_DELETE,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{canDelete:t.canDelete})})),Object(w.a)(ye,At.SET_CANVAS_SIZE,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{canvasWidth:t.width,canvasHeight:t.height,showCanvasSizeDialog:!1})})),Object(w.a)(ye,At.SHOW_CANVAS_SIZE_DIALOG,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{showCanvasSizeDialog:!0,minCanvasWidth:t.minCanvasWidth,minCanvasHeight:t.minCanvasHeight})})),Object(w.a)(ye,At.HIDE_CANVAS_SIZE_DIALOG,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showCanvasSizeDialog:!1})})),Object(w.a)(ye,At.SHOW_EXPORT_IMAGE_DIALOG,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{showExportImageDialog:!0,exportImageContent:t.diagramContent})})),Object(w.a)(ye,At.HIDE_EXPORT_IMAGE_DIALOG,(function(e){return Object(j.a)(Object(j.a)({},e),{},{showExportImageDialog:!1,exportImageDataUrl:"",exportImageBlob:null})})),Object(w.a)(ye,At.CREATE_EXPORT_IMAGE_DATA,(function(e){return e})),Object(w.a)(ye,At.CREATE_EXPORT_IMAGE_DATA_SUCCESS,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{exportImageDataUrl:t.dataUrl,exportImageBlob:t.blob})})),Object(w.a)(ye,At.UPDATE_EXPORT_IMAGE_OPTIONS,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{exportImageTransparent:t.transparent,exportImageScale:t.scale})})),Object(w.a)(ye,At.SET_IS_DIRTY,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{isDirty:t.isDirty})})),Object(w.a)(ye,At.SAVE_EDIT_DIAGRAM,(function(e){return e})),ye)),It=At,kt=Et,Nt=a(379),Rt=a(363),Mt=a(361),Ft=a(362),Pt=a(360),_t=a(380),Lt=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleCancel=function(){e.props.emptyTrashCancel()},e.handleSubmit=function(){e.props.emptyTrash()},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.showEmptyTrash,a=e.classes;return Object(V.jsxs)(Nt.a,{open:t,"aria-labelledby":"confirm-empty-trash-dialog",onEscapeKeyDown:this.handleCancel,className:a.dialog,children:[Object(V.jsx)(Pt.a,{id:"confirm-empty-trash-dialog",children:"Empty Trash"}),Object(V.jsx)(Mt.a,{children:Object(V.jsx)(Ft.a,{children:"Permanently delete all documents in the Trash folder?"})}),Object(V.jsxs)(Rt.a,{children:[Object(V.jsx)(x.a,{onClick:this.handleCancel,color:"primary",children:"Cancel (ESC)"}),Object(V.jsx)(x.a,{onClick:this.handleSubmit,color:"primary",children:"Empty Trash"})]})]})}}]),a}(c.Component),Bt=Object(f.a)((function(e){return{dialog:{},input:{width:300}}}))(Object(p.b)((function(e){return{showEmptyTrash:e.folder.showEmptyTrash}}),(function(e){return{emptyTrashCancel:function(){return e(Dt.emptyTrashCancel())},emptyTrash:function(){return e(Dt.emptyTrash())}}}))(Object(_t.a)()(Lt))),Ut=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleCancel=function(){e.props.createFolderDialogCancel()},e.handleSubmit=function(){e.props.createFolder(e.props.newFolderName,e.props.currentFolderId)},e.newFolderNameChanged=function(t){e.props.newFolderNameChanged(t.target.value)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.showNewFolder,a=e.newFolderName,n=e.classes;return Object(V.jsxs)(Nt.a,{open:t,"aria-labelledby":"new-folder-dialog",onEscapeKeyDown:this.handleCancel,className:n.dialog,children:[Object(V.jsx)(Pt.a,{id:"new-folder-dialog",children:"Create New Folder"}),Object(V.jsxs)(Mt.a,{children:[Object(V.jsx)(Ft.a,{children:"Create a new folder."}),Object(V.jsx)($.a,{autoFocus:!0,margin:"dense",id:"name",label:"Name",type:"text",fullWidth:!0,value:a,onChange:this.newFolderNameChanged,className:n.input})]}),Object(V.jsxs)(Rt.a,{children:[Object(V.jsx)(x.a,{onClick:this.handleCancel,color:"primary",children:"Cancel (ESC)"}),Object(V.jsx)(x.a,{onClick:this.handleSubmit,color:"primary",children:"Create"})]})]})}}]),a}(c.Component),Gt=Object(f.a)((function(e){return{dialog:{},input:{width:300}}}))(Object(p.b)((function(e){return{showNewFolder:e.folder.showNewFolder,newFolderName:e.folder.newFolderName,currentFolderId:e.folder.currentFolderId}}),(function(e){return{createFolderDialogCancel:function(){return e(Dt.createFolderDialogCancel())},createFolder:function(t,a){return e(Dt.createFolder(t,a))},newFolderNameChanged:function(t){return e(Dt.newFolderNameChanged(t))}}}))(Object(_t.a)()(Ut))),qt=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleCancel=function(){e.props.editFolderDialogCancel()},e.handleSubmit=function(){var t=Object(j.a)(Object(j.a)({},e.props.editFolder),{},{name:e.props.editFolderNewName});e.props.renameFolder(t)},e.editFolderNameChanged=function(t){e.props.editFolderNameChanged(t.target.value)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.showEditFolder,a=e.editFolderNewName,n=e.classes;return Object(V.jsxs)(Nt.a,{open:t,"aria-labelledby":"edit-folder-dialog",onEscapeKeyDown:this.handleCancel,className:n.dialog,children:[Object(V.jsx)(Pt.a,{id:"edit-folder-dialog",children:"Rename Folder"}),Object(V.jsx)(Mt.a,{children:Object(V.jsx)($.a,{autoFocus:!0,margin:"dense",id:"name",label:"Name",type:"text",fullWidth:!0,value:a,onChange:this.editFolderNameChanged,className:n.input})}),Object(V.jsxs)(Rt.a,{children:[Object(V.jsx)(x.a,{onClick:this.handleCancel,color:"primary",children:"Cancel (ESC)"}),Object(V.jsx)(x.a,{onClick:this.handleSubmit,color:"primary",children:"Rename"})]})]})}}]),a}(c.Component),zt=Object(f.a)((function(e){return{dialog:{},input:{width:300}}}))(Object(p.b)((function(e){return{editFolder:e.folder.folders.find((function(t){return t.id===e.folder.editFolderId})),showEditFolder:e.folder.showEditFolder,editFolderNewName:e.folder.editFolderNewName,editFolderId:e.folder.editFolderId}}),(function(e){return{editFolderDialogCancel:function(){return e(Dt.editFolderDialogCancel())},renameFolder:function(t){return e(Dt.renameFolder(t))},editFolderNameChanged:function(t){return e(Dt.editFolderNameChanged(t))}}}))(Object(_t.a)()(qt))),Wt=a(376),Ht=a(364),Kt=a(350),Yt=a(351),Vt="er",Qt="relational",Jt="star",Xt=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleCancel=function(){e.props.createDiagramDialogCancel()},e.handleSubmit=function(){var t=e.props,a={folderId:t.currentFolderId,name:t.createDiagramName,diagramType:t.createDiagramType,content:JSON.stringify({version:2,www:"erdplus.com",shapes:[],connectors:[],width:2e3,height:1e3})};e.props.createDiagram(a)},e.handleNameChanged=function(t){e.props.setCreateDiagramName(t.target.value)},e.handleTypeChange=function(t){e.props.setCreateDiagramType(t.target.value)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.createDiagramName,a=e.createDiagramType,n=e.showCreateDiagramDialog,r=e.classes;return Object(V.jsxs)(Nt.a,{open:n,"aria-labelledby":"new-diagram-dialog",onEscapeKeyDown:this.handleCancel,className:r.dialog,children:[Object(V.jsx)(Pt.a,{id:"new-diagram-dialog",children:"Create New Diagram"}),Object(V.jsxs)(Mt.a,{children:[Object(V.jsx)(Ft.a,{children:"Create a new diagram."}),Object(V.jsxs)(X.a,{container:!0,spacing:1,children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)($.a,{autoFocus:!0,margin:"dense",id:"name",label:"Name",type:"text",fullWidth:!0,value:t,onChange:this.handleNameChanged,className:r.input})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsxs)(Kt.a,{component:"fieldset",children:[Object(V.jsx)(Yt.a,{children:"Type"}),Object(V.jsxs)(Ht.a,{value:a,onChange:this.handleTypeChange,children:[Object(V.jsx)(se.a,{value:Vt,control:Object(V.jsx)(Wt.a,{}),label:"ER Diagram"}),Object(V.jsx)(se.a,{value:Qt,control:Object(V.jsx)(Wt.a,{}),label:"Relational Schema"}),Object(V.jsx)(se.a,{value:Jt,control:Object(V.jsx)(Wt.a,{}),label:"Star Schema"})]})]})})]})]}),Object(V.jsxs)(Rt.a,{children:[Object(V.jsx)(x.a,{onClick:this.handleCancel,color:"primary",children:"Cancel (ESC)"}),Object(V.jsx)(x.a,{onClick:this.handleSubmit,color:"primary",children:"Create"})]})]})}}]),a}(c.Component),$t=Object(f.a)((function(e){return{dialog:{},input:{width:500}}}))(Object(p.b)((function(e){return{createDiagramName:e.diagram.createDiagramName,createDiagramType:e.diagram.createDiagramType,showCreateDiagramDialog:e.diagram.showCreateDiagramDialog,currentFolderId:e.folder.currentFolderId}}),(function(e){return{createDiagramDialogCancel:function(){return e(nt.createDiagramDialogCancel())},createDiagram:function(t){return e(nt.createDiagram(t))},setCreateDiagramName:function(t){return e(nt.setCreateDiagramName(t))},setCreateDiagramType:function(t){return e(nt.setCreateDiagramType(t))}}}))(Object(_t.a)()(Xt))),Zt=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleCancel=function(){e.props.deleteFolderDialogCancel()},e.handleSubmit=function(){e.props.deleteFolder(e.props.deleteFolderId)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.showDeleteFolder,a=e.deleteFolderName,n=e.classes;return Object(V.jsxs)(Nt.a,{open:t,"aria-labelledby":"delete-folder-dialog",onEscapeKeyDown:this.handleCancel,className:n.dialog,children:[Object(V.jsx)(Pt.a,{id:"delete-folder-dialog",children:"Delete Folder"}),Object(V.jsx)(Mt.a,{children:Object(V.jsxs)(Ft.a,{children:['Delete the folder named "',a,'" and all subfolders?',Object(V.jsxs)("p",{children:["Diagrams in the deleted folders will be deleted and ",Object(V.jsx)("br",{}),"moved to the Trash folder."]})]})}),Object(V.jsxs)(Rt.a,{children:[Object(V.jsx)(x.a,{onClick:this.handleCancel,color:"primary",children:"Cancel (ESC)"}),Object(V.jsx)(x.a,{onClick:this.handleSubmit,color:"primary",children:"Delete"})]})]})}}]),a}(c.Component),ea=Object(f.a)((function(e){return{dialog:{}}}))(Object(p.b)((function(e){return{showDeleteFolder:e.folder.showDeleteFolder,deleteFolderName:e.folder.deleteFolderName,deleteFolderId:e.folder.deleteFolderId}}),(function(e){return{deleteFolderDialogCancel:function(){return e(Dt.deleteFolderDialogCancel())},deleteFolder:function(t){return e(Dt.deleteFolder(t))}}}))(Object(_t.a)()(Zt))),ta=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleCancel=function(){e.props.renameDiagramDialogCancel()},e.handleSubmit=function(){var t=e.props,a=t.diagram,n=t.renameDiagramName,r=t.renameDiagramDialogCancel,i=t.saveDiagram,c=Object(j.a)(Object(j.a)({},a),{},{name:n});r(),i(c)},e.handleNameChanged=function(t){var a=t.target.value;e.props.renameDiagramNameChanged(a)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.showRenameDiagramDialog,a=e.renameDiagramName,n=e.classes;return Object(V.jsxs)(Nt.a,{open:t,"aria-labelledby":"rename-diagram-dialog",onEscapeKeyDown:this.handleCancel,className:n.dialog,children:[Object(V.jsx)(Pt.a,{id:"rename-diagram-dialog",children:"Rename New Diagram"}),Object(V.jsxs)(Mt.a,{children:[Object(V.jsx)(Ft.a,{children:"Rename a new diagram."}),Object(V.jsx)(X.a,{container:!0,spacing:1,children:Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)($.a,{autoFocus:!0,margin:"dense",id:"name",label:"Name",type:"text",fullWidth:!0,inputProps:{ref:function(e){}},value:a,onChange:this.handleNameChanged,className:n.input})})})]}),Object(V.jsxs)(Rt.a,{children:[Object(V.jsx)(x.a,{onClick:this.handleCancel,color:"primary",children:"Cancel (ESC)"}),Object(V.jsx)(x.a,{onClick:this.handleSubmit,color:"primary",children:"Rename"})]})]})}}]),a}(c.Component),aa=Object(f.a)((function(e){return{dialog:{},input:{width:500}}}))(Object(p.b)((function(e){var t=e.diagram.renameDiagramId,a=e.diagram.diagrams.find((function(e){return e.id===t}));return{showRenameDiagramDialog:e.diagram.showRenameDiagramDialog,renameDiagramName:e.diagram.renameDiagramName,renameDiagramId:t,diagram:a}}),(function(e){return{renameDiagramDialogCancel:function(){return e(nt.renameDiagramDialogCancel())},renameDiagramNameChanged:function(t){return e(nt.renameDiagramNameChanged(t))},saveDiagram:function(t){return e(nt.saveDiagram(t))}}}))(Object(_t.a)()(ta))),na=a(191),ra=a(180),ia=a.n(ra),ca=a(181),sa=a.n(ca),oa=a(182),la=a.n(oa),da=a(384),ua=a(383),ha=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleCancel=function(){e.props.importDiagramDialogCancel()},e.handleSubmit=function(){var t=e.props,a=t.dropImportFileResults;(0,t.importDiagrams)(a.filter((function(e){return e.ok})).map((function(e){return e.diagram})))},e.handleOnDrop=function(t){var a=e.props,n=a.dropImportFile,r=a.currentFolderId;t.forEach((function(e){n(e,r)}))},e.handleDeleteChip=function(t){e.props.removeImportFile(t)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.showImportDiagramDialog,n=t.dropImportFileResults,r=t.standalone,i=t.classes,c=n.length>0,s=r?"Import New Diagram":"Import New Diagrams",o=r?"Drag and drop file here or click to browse for a file":"Drag and drop multiple files here or click to browse for a file";return Object(V.jsxs)(Nt.a,{open:a,"aria-labelledby":"import-diagram-dialog",onEscapeKeyDown:this.handleCancel,children:[Object(V.jsx)(Pt.a,{id:"import-diagram-dialog",children:s}),Object(V.jsx)(Mt.a,{children:Object(V.jsx)(X.a,{container:!0,spacing:1,children:Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(na.a,{onDrop:this.handleOnDrop,className:i.dropzone,multiple:!r,children:Object(V.jsxs)(X.a,{container:!0,spacing:1,children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Z.a,{align:"center",variant:"body2",children:o})}),Object(V.jsx)(X.a,{item:!0,xs:12,align:"center",children:Object(V.jsx)(ia.a,{})}),Object(V.jsx)(X.a,{item:!0,xs:12,align:"center",children:n.map((function(t,a){var n=t.ok?Object(V.jsx)(ua.a,{children:Object(V.jsx)(sa.a,{})}):Object(V.jsx)(ua.a,{children:Object(V.jsx)(la.a,{})});return Object(V.jsx)(da.a,{label:t.name,className:i.chip,onDelete:function(){return e.handleDeleteChip(a)},avatar:n},a)}))})]})})})})}),Object(V.jsxs)(Rt.a,{children:[Object(V.jsx)(x.a,{onClick:this.handleCancel,color:"primary",children:"Cancel (ESC)"}),Object(V.jsx)(x.a,{onClick:this.handleSubmit,color:"primary",disabled:!c,children:"Import"})]})]})}}]),a}(c.Component),ba=Object(f.a)((function(e){return{dropzone:{height:250,width:500,borderWidth:2,borderColor:"#999999",borderStyle:"dashed",borderRadius:5},list:{maxHeight:200,overflowY:"auto"},chip:{margin:5}}}))(Object(p.b)((function(e){return{showImportDiagramDialog:e.diagram.showImportDiagramDialog,dropImportFileResults:e.diagram.dropImportFileResults,currentFolderId:e.folder.currentFolderId}}),(function(e){return{importDiagramDialogCancel:function(){return e(nt.importDiagramDialogCancel())},dropImportFile:function(t,a){return e(nt.dropImportFile(t,a))},removeImportFile:function(t){return e(nt.removeImportFile(t))}}}))(Object(_t.a)()(ha))),ja=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleCancel=function(){e.props.hideConvertToRelationalDialog()},e.handleCreate=function(){var t=e.props,a=t.diagram,n=t.name,r=t.convertToRelational,i=t.history;r(a.folderId,n,a.content,!1,i)},e.handleEdit=function(){var t=e.props,a=t.diagram,n=t.name,r=t.convertToRelational,i=t.history;r(a.folderId,n,a.content,!0,i)},e.handleNameChanged=function(t){var a=t.target.value;e.props.nameChanged(a)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.showDialog,a=e.name,n=e.classes,r=e.autoFocusName;return Object(V.jsxs)(Nt.a,{open:t,"aria-labelledby":"convert-diagram-dialog",onEscapeKeyDown:this.handleCancel,className:n.dialog,children:[Object(V.jsx)(Pt.a,{id:"convert-diagram-dialog",children:"Convert to Relational Schema"}),Object(V.jsxs)(Mt.a,{children:[Object(V.jsx)(Ft.a,{children:"The relational diagram will be created in the same folder as this ER diagram."}),Object(V.jsx)(X.a,{container:!0,spacing:1,children:Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)($.a,{autoFocus:!0,margin:"dense",id:"name",label:"Name",type:"text",fullWidth:!0,inputProps:{ref:function(e){e&&r&&setTimeout((function(){e.focus(),e.select()}),0)}},value:a,onChange:this.handleNameChanged,className:n.input})})})]}),Object(V.jsxs)(Rt.a,{children:[Object(V.jsx)(x.a,{onClick:this.handleCancel,color:"primary",children:"Cancel (ESC)"}),Object(V.jsx)(x.a,{onClick:this.handleCreate,color:"primary",children:"Create"}),Object(V.jsx)(x.a,{onClick:this.handleEdit,color:"primary",children:"Create & Edit"})]})]})}}]),a}(s.a.Component),ma=Object(f.a)((function(e){return{dialog:{},input:{width:500}}}))(Object(m.f)(Object(p.b)((function(e){var t=e.convert.diagramId;return{diagram:e.diagram.diagrams.find((function(e){return e.id===t})),showDialog:e.convert.showDialog,autoFocusName:e.convert.autoFocusName,name:e.convert.name}}),(function(e){return{hideConvertToRelationalDialog:function(){return e(lt.hideConvertToRelationalDialog())},nameChanged:function(t){return e(lt.nameChanged(t))},convertToRelational:function(t,a,n,r,i){return e(lt.convertToRelational(t,a,n,r,i))}}}))(Object(_t.a)()(ja)))),pa=a(183),ga=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleCancel=function(){e.props.hideConvertSqlDialog()},e.handleCopy=function(){e.props.setSqlCopied()},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.showConvertSqlDialog,a=e.sql,n=e.sqlCopied,r=e.classes,i=n?"Generate SQL - Copied":"Generate SQL";return Object(V.jsxs)(Nt.a,{open:t,"aria-labelledby":"convert-diagram-dialog",onEscapeKeyDown:this.handleCancel,className:r.dialog,children:[Object(V.jsx)(Pt.a,{id:"convert-diagram-dialog",children:i}),Object(V.jsx)(Mt.a,{children:Object(V.jsx)(X.a,{container:!0,spacing:1,children:Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)("pre",{align:"left",variant:"body2",children:a})})})}),Object(V.jsxs)(Rt.a,{children:[Object(V.jsx)(x.a,{onClick:this.handleCancel,color:"primary",children:"Close (ESC)"}),Object(V.jsx)(pa.CopyToClipboard,{text:a,onCopy:this.handleCopy,children:Object(V.jsx)(x.a,{color:"primary",children:"Copy"})})]})]})}}]),a}(s.a.Component),Oa=Object(f.a)((function(e){return{dialog:{},sql:{width:500,height:300}}}))(Object(p.b)((function(e){var t=e.convert.diagramId;return{diagram:e.diagram.diagrams.find((function(e){return e.id===t})),sql:e.convert.sql,showConvertSqlDialog:e.convert.showConvertSqlDialog,sqlCopied:e.convert.sqlCopied}}),(function(e){return{hideConvertSqlDialog:function(){return e(lt.hideConvertSqlDialog())},setSqlCopied:function(){return e(lt.setSqlCopied())}}}))(Object(_t.a)()(ga))),fa=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={foldersMeta:[],currendFolderId:0},e.handleSubmit=function(){e.props.onSubmit(e.state.currendFolderId),e.props.moveToFolderDialogCancel()},e.handleCancel=function(){e.props.moveToFolderDialogCancel()},e.expandFolder=function(t){var a=e.state.foldersMeta.map((function(e){return e.id===t?Object(j.a)(Object(j.a)({},e),{},{isOpen:!0}):e}));e.setState({foldersMeta:a})},e.collapseFolder=function(t){var a=e.state.foldersMeta.map((function(e){return e.id===t?Object(j.a)(Object(j.a)({},e),{},{isOpen:!1}):e}));e.setState({foldersMeta:a})},e.selectFolder=function(t){e.setState({currendFolderId:t})},e.makeFolderTree=function(e,t,a){if(0===e.length)return[];var n=e.map((function(e){var n=t.find((function(t){return t.id===e.id}));return Object(j.a)(Object(j.a)(Object(j.a)({},n),e),{},{isSelected:e.id===a})})),r=n.find((function(e){return"root"===e.folderType})),i=n.find((function(e){return"trash"===e.folderType}));r.depth=0,i.depth=0,i.children=[];return function e(t){var a=n.filter((function(e){return e.parentId===t.id}));a.forEach((function(a){a.depth=t.depth+1,e(a)})),t.children=a}(r),[r,i]},e}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){if(!1===e.showMoveToFolderDialog&&!0===this.props.showMoveToFolderDialog){var n=this.props.folders.map((function(e){return{id:e.id,isOpen:"root"===e.folderType}}));this.setState({foldersMeta:n,currendFolderId:0})}}},{key:"render",value:function(){var e=this.state,t=e.foldersMeta,a=e.currendFolderId,n=this.props,r=n.classes,i=n.folders,c=n.showMoveToFolderDialog,s=this.makeFolderTree(i,t,a);return Object(V.jsxs)(Nt.a,{open:c,"aria-labelledby":"move-to-folder-dialog",onEscapeKeyDown:this.handleCancel,children:[Object(V.jsxs)(Mt.a,{children:[Object(V.jsx)(Ft.a,{children:"Select a folder"}),Object(V.jsx)(X.a,{container:!0,spacing:1,children:Object(V.jsx)(X.a,{item:!0,xs:12,className:r.folderTree,children:Object(V.jsx)(Be,{folderTree:s,expandFolder:this.expandFolder,collapseFolder:this.collapseFolder,selectFolder:this.selectFolder})})})]}),Object(V.jsxs)(Rt.a,{children:[Object(V.jsx)(x.a,{onClick:this.handleCancel,color:"primary",children:"Cancel (ESC)"}),Object(V.jsx)(x.a,{onClick:this.handleSubmit,color:"primary",disabled:0===a,children:"Move"})]})]})}}]),a}(s.a.Component),xa=Object(f.a)((function(e){return{dialog:{},folderTree:{width:420,height:280,overflowY:"scroll",overflowX:"hidden",border:"1px solid #efefef"}}}))(Object(m.f)(Object(p.b)((function(e){return{folders:e.folder.folders,showMoveToFolderDialog:e.diagram.showMoveToFolderDialog}}),(function(e){return{moveToFolderDialogCancel:function(){return e(nt.moveToFolderDialogCancel())}}}))(Object(_t.a)()(fa)))),va=function(e){var t=e.id;return Object(V.jsx)("h4",{id:"adText-"+t,style:{display:"table",textAlign:"left",color:"lightgray",position:"relative",marginTop:"8px",marginBottom:"4px"},children:"Advertisement"})},ya=function(e){var t=e.id,a=e.dataAdSlot,n=e.height,r=e.width,i=!n&&!r;return Object(c.useEffect)((function(){try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(e){}}),[]),Object(V.jsx)(V.Fragment,{children:Object(V.jsx)("ins",{id:"ad-"+t,className:"adsbygoogle",style:{display:"flex",alignItems:"center",flexDirection:"column",width:r,height:n},"data-ad-client":"ca-pub-9122012703187454","data-ad-slot":a,"data-ad-format":i?"auto":void 0,"data-full-width-responsive":i?"true":void 0})})},Ca=function(e){var t=e.dataAdSlot,a=e.width,n=e.height,r=e.className,i=crypto.randomUUID();return Object(c.useEffect)((function(){var e=document.getElementById("ad-"+i),t=document.getElementById("adText-"+i);e.style.height||(t.style.display="none")}),[]),Object(V.jsxs)("div",{className:r,children:[Object(V.jsx)(va,{id:i}),Object(V.jsx)(ya,{id:i,dataAdSlot:t,width:a,height:n})]})},wa=400,Da=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={anchorEl:null,selectedIds:[]},e.handleClick=function(t){e.setState({anchorEl:t.currentTarget})},e.handleClose=function(){e.setState({anchorEl:null})},e.handleNewFolderClick=function(){e.props.createFolderDialogShow()},e.handleRenameFolderClick=function(){e.props.editFolderDialogShow(e.props.currentFolderId)},e.handleDeleteFolderClick=function(){e.props.deleteFolderDialogShow(e.props.currentFolderId)},e.handleNewDiagramClick=function(){e.props.createDiagramDialogShow()},e.handleImportDiagram=function(){e.props.importDiagramDialogShow()},e.handleOrganizeDiagram=function(){e.props.setDocumentsPageMode("select"),e.setState({selectedIds:[]})},e.handleMoveDone=function(){e.props.setDocumentsPageMode("list")},e.handleMoveTo=function(){e.props.moveToFolderDialogShow()},e.handleSelectDiagram=function(t){var a=Object(be.a)(e.state.selectedIds),n=a.indexOf(t);-1===n?a.push(t):a.splice(n,1),e.setState({selectedIds:a})},e.handleMoveToFolderSubmit=function(t){var a=e.state.selectedIds,n=e.props.diagrams.filter((function(e){return-1!==a.indexOf(e.id)})).map((function(e){return Object(j.a)(Object(j.a)({},e),{},{folderId:t})}));e.props.saveManyDiagrams(n)},e.selectFolder=function(t){e.handleMoveDone(),e.props.selectFolder(t)},e.handleEmptyTrash=function(){e.props.emptyTrashShow()},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.gtag("event","page_view",{page_path:"/documents"})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.folderTree,n=e.expandFolder,r=e.collapseFolder,i=e.documentsPageMode,c=e.currentFolderType,s=this.state.selectedIds,o="trash"!==c&&"root"!==c,l="trash"===c;return Object(V.jsxs)("section",{className:t.section,children:[Object(V.jsx)(J,{}),Object(V.jsxs)("div",{className:t.contentArea,children:[Object(V.jsx)(Bt,{}),Object(V.jsx)(Gt,{}),Object(V.jsx)(zt,{}),Object(V.jsx)($t,{}),Object(V.jsx)(aa,{}),Object(V.jsx)(ea,{}),Object(V.jsx)(ba,{importDiagrams:this.props.importDiagrams,standalone:!1}),Object(V.jsx)(ma,{}),Object(V.jsx)(Oa,{}),Object(V.jsx)(xa,{onSubmit:this.handleMoveToFolderSubmit}),Object(V.jsx)("div",{className:t.folderButtonsArea,children:Object(V.jsx)(X.a,{container:!0,spacing:1,className:t.grid,children:Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)("div",{className:t.buttonContainer,children:Object(V.jsxs)(ft.a,{children:[Object(V.jsx)(x.a,{className:t.button,onClick:this.handleNewFolderClick,children:"New Folder..."}),Object(V.jsx)(x.a,{className:t.button,onClick:this.handleRenameFolderClick,disabled:!o,children:"Rename..."}),Object(V.jsx)(x.a,{className:t.button,onClick:this.handleDeleteFolderClick,disabled:!o,children:"Delete..."})]})})})})}),Object(V.jsx)("div",{className:t.folderArea,children:Object(V.jsx)(X.a,{container:!0,spacing:1,className:t.grid,children:Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Be,{folderTree:a,expandFolder:n,collapseFolder:r,selectFolder:this.selectFolder})})})}),Object(V.jsx)("div",{className:t.documentButtonsArea,children:Object(V.jsx)(X.a,{container:!0,spacing:1,className:t.grid,children:Object(V.jsxs)(X.a,{item:!0,xs:12,children:["list"===i&&Object(V.jsx)("div",{className:t.buttonContainer,children:Object(V.jsxs)(ft.a,{children:[Object(V.jsx)(x.a,{className:t.button,onClick:this.handleNewDiagramClick,disabled:l,children:"New Diagram..."}),Object(V.jsx)(x.a,{className:t.button,onClick:this.handleImportDiagram,disabled:l,children:"Import..."}),Object(V.jsx)(x.a,{className:t.button,onClick:this.handleOrganizeDiagram,children:"Organize..."}),l&&Object(V.jsx)(x.a,{className:t.button,onClick:this.handleEmptyTrash,children:"Empty Trash..."})]})}),"select"===i&&Object(V.jsxs)("div",{className:t.buttonContainer,children:[Object(V.jsxs)(ft.a,{children:[Object(V.jsx)(x.a,{variant:"outlined",className:t.button,onClick:this.handleMoveDone,children:"Back"}),Object(V.jsx)(x.a,{variant:"outlined",className:t.button,onClick:this.handleMoveTo,disabled:0===s.length,children:"Move..."})]}),Object(V.jsx)(Z.a,{className:t.helperText,variant:"body1",children:"Select diagrams to move to another folder or to Trash."})]})]})})}),Object(V.jsxs)("div",{className:t.documentsArea,style:{display:"flex",flexDirection:"column"},children:[Object(V.jsx)(X.a,{container:!0,spacing:1,className:t.grid,style:{flexGrow:1,overflow:"scroll"},children:Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Ot,{mode:i,selectedIds:s,onSelectDiagram:this.handleSelectDiagram})})}),Object(V.jsx)(Ca,{dataAdSlot:"9447069709",height:"90px",width:"728px"})]})]})]})}}]),a}(c.Component),Sa=Object(f.a)((function(e){return{root:{flexGrow:1},grid:{},button:{},buttonIcon:{marginRight:12},helperText:{display:"inline-flex",marginLeft:10},buttonContainer:{},section:{height:"100%",display:"flex",flexFlow:"column",backgroundColor:"#eeeeee"},contentArea:{height:"100%"},folderButtonsArea:{position:"fixed",top:75,left:5,width:wa,height:40},folderArea:{position:"fixed",top:120,left:5,width:wa,bottom:5,backgroundColor:"white",overflowY:"auto",overflowX:"hidden",border:"1px solid #e0e0e0"},documentButtonsArea:{position:"fixed",top:75,left:410,right:5,height:40},documentsArea:{position:"fixed",top:120,left:410,right:5,bottom:5,backgroundColor:"white",overflowY:"audo",overflowX:"hidden",border:"1px solid #e0e0e0"}}}))(Object(p.b)((function(e){var t=e.folder.folders.find((function(t){return t.id===e.folder.currentFolderId})),a=t?t.folderType:"";return{folderTree:ut(e),diagrams:e.diagram.diagrams,documentsPageMode:e.diagram.documentsPageMode,currentFolderId:e.folder.currentFolderId,currentFolderType:a}}),(function(e){return{createFolderDialogShow:function(){return e(Dt.createFolderDialogShow())},editFolderDialogShow:function(t){return e(Dt.editFolderDialogShow(t))},deleteFolderDialogShow:function(t){return e(Dt.deleteFolderDialogShow(t))},expandFolder:function(t){return e(Dt.expandFolder(t))},collapseFolder:function(t){return e(Dt.collapseFolder(t))},selectFolder:function(t){return e(Dt.selectFolder(t))},createDiagramDialogShow:function(){return e(nt.createDiagramDialogShow())},importDiagramDialogShow:function(){return e(nt.importDiagramDialogShow())},setCanvasSize:function(t,a){return e(kt.setCanvasSize(t,a))},moveToFolderDialogShow:function(){return e(nt.moveToFolderDialogShow())},saveManyDiagrams:function(t){return e(nt.saveManyDiagrams(t))},setDocumentsPageMode:function(t){return e(nt.setDocumentsPageMode(t))},importDiagrams:function(t){return e(nt.importDiagrams(t))},emptyTrashShow:function(){return e(Dt.emptyTrashShow())}}}))(Da)),Aa=a(115),Ea=a.n(Aa),Ta=a(116),Ia=a.n(Ta),ka=a(117),Na=a.n(ka),Ra=a(114),Ma=a.n(Ra),Fa=a(184),Pa=a.n(Fa),_a=window.erd,La={none:[],er:[{name:"Select",mouseMode:"select"},{name:"Connect",mouseMode:"connect"},{name:"Entity",mouseMode:"entity"},{name:"Attribute",mouseMode:"attribute"},{name:"Relationship",mouseMode:"relationship"},{name:"Label",mouseMode:"label"}],relational:[{name:"Select",mouseMode:"select"},{name:"Connect",mouseMode:"connect"},{name:"Table",mouseMode:"table"},{name:"Label",mouseMode:"label"}],star:[{name:"Select",mouseMode:"select"},{name:"Connect",mouseMode:"connect"},{name:"Fact",mouseMode:"fact"},{name:"Dimension",mouseMode:"dimension"},{name:"Label",mouseMode:"label"}]},Ba=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={menuAnchor:null},e.handleUndo=function(){var t=e.props.getStage();e.props.clearContext(),t.undoManager.undo()},e.handleRedo=function(){var t=e.props.getStage();e.props.clearContext(),t.undoManager.redo()},e.handleDelete=function(){var t=e.props.getStage();t.deleteSelection(),e.props.clearContext(),t.draw()},e.changeMode=function(t){var a=e.props.getStage(),n=e.props.setMouseMode;a.undoManager.hasCurrentAction()&&a.undoManager.endAction(),a.mouseMode=t,n(t)},e.handleMenuClick=function(t){e.setState({menuAnchor:t})},e.handleMenuClose=function(){e.setState({menuAnchor:null})},e.handleExportImage=function(){var t=e.props,a=t.showExportImageDialog,n=t.createExportImageData,r=t.exportImageTransparent,i=t.exportImageScale,c=e.props.getStage(),s=new _a.DiagramArchive(c).toJson();a(s),n(s,r,i),e.handleMenuClose()},e.handleResize=function(){var t=e.props.getStage().getBounds(!1);e.props.showCanvasSizeDialog(t.right,t.bottom),e.setState({menuAnchor:null})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state.menuAnchor,a=this.props,n=a.classes,r=a.diagramType,i=a.mouseMode,c=a.canUndo,s=a.canRedo,o=a.canDelete,l=a.isDirty,d=La[r];return Object(V.jsxs)("div",{className:n.buttonBar,children:[Object(V.jsxs)(Qe.a,{id:"diagram-menu",open:Boolean(t),anchorEl:t,onClose:this.handleMenuClose,children:[Object(V.jsx)(Je.a,{onClick:this.handleExportImage,children:"Export Image ..."}),Object(V.jsx)(Je.a,{onClick:this.handleRename,children:"Rename ..."}),Object(V.jsx)(Je.a,{onClick:this.handleResize,children:"Canvas Size ..."})]}),Object(V.jsxs)(x.a,{variant:"outlined",className:n.button,onClick:function(t){return e.handleMenuClick(t.currentTarget)},children:[Object(V.jsx)(Ma.a,{})," Menu"]}),Object(V.jsxs)(x.a,{variant:"outlined",className:n.button,onClick:this.props.handleSave,disabled:!l,children:[Object(V.jsx)(Pa.a,{})," Save"]}),Object(V.jsxs)(x.a,{variant:"outlined",className:n.button,onClick:this.handleUndo,disabled:!c,children:[Object(V.jsx)(Ea.a,{})," Undo"]}),Object(V.jsxs)(x.a,{variant:"outlined",className:n.button,onClick:this.handleRedo,disabled:!s,children:[Object(V.jsx)(Ia.a,{})," Redo"]}),Object(V.jsxs)(x.a,{variant:"outlined",className:n.button,onClick:this.handleDelete,disabled:!o,children:[Object(V.jsx)(Na.a,{})," Delete"]}),d.map((function(t){return Object(V.jsx)(x.a,{variant:"outlined",className:n.button,color:t.mouseMode===i?"primary":"default",onClick:function(){return e.changeMode(t.mouseMode)},children:t.name},t.mouseMode)}))]})}}]),a}(c.Component),Ua=Object(f.a)((function(e){return{button:{marginTop:e.spacing(1),marginBottom:0,marginLeft:e.spacing(1),marginRight:0},buttonBar:{background:"#eeeeee",paddingBottom:10,zIndex:1e3}}}))(Object(m.f)(Object(p.b)((function(e,t){return{mouseMode:e.edit.mouseMode,editDiagram:ze(e,t),canUndo:e.edit.canUndo,canRedo:e.edit.canRedo,canDelete:e.edit.canDelete,exportImageTransparent:e.edit.exportImageTransparent,exportImageScale:e.edit.exportImageScale,isDirty:e.edit.isDirty}}),(function(e){return{clearContext:function(){return e(kt.clearContext())},setMouseMode:function(t){return e(kt.setMouseMode(t))},showCanvasSizeDialog:function(t,a){return e(kt.showCanvasSizeDialog(t,a))},showExportImageDialog:function(t){return e(kt.showExportImageDialog(t))},createExportImageData:function(t,a,n){return e(kt.createExportImageData(t,a,n))}}}))(Ba))),Ga=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={width:e.props.canvasWidth,height:e.props.canvasHeight},e.handleCancel=function(){e.props.hideCanvasSizeDialog()},e.handleSubmit=function(){var t=e.state,a=t.width,n=t.height;e.props.setCanvasSize(a,n)},e.handleWidthChange=function(t){e.setState({width:t.target.value})},e.handleHeightChange=function(t){e.setState({height:t.target.value})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.showCanvasSizeDialog,a=e.classes,n=Math.max(this.props.minCanvasWidth,200),r=parseInt(this.state.width,10),i=!0,c=" ";isNaN(r)?i=!1:r<n?(i=!1,c="Must be at least ".concat(n)):r>12e3&&(i=!1,c="Must be less than ".concat(12e3));var s=Math.max(this.props.minCanvasHeight,200),o=parseInt(this.state.height,10),l=!0,d=" ";return isNaN(o)?l=!1:o<s?(l=!1,d="Must be at least ".concat(s)):o>12e3&&(l=!1,d="Must be less than ".concat(12e3)),Object(V.jsxs)(Nt.a,{open:t,"aria-labelledby":"canvas-size-dialog",onEscapeKeyDown:this.handleCancel,className:a.dialog,children:[Object(V.jsx)(Pt.a,{id:"canvas-size-dialog",children:"Canvas Size"}),Object(V.jsxs)(Mt.a,{children:[Object(V.jsx)(Ft.a,{children:"Canvas Size."}),Object(V.jsxs)(X.a,{container:!0,spacing:1,children:[Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)($.a,{id:"width",label:"Width",margin:"normal",autoComplete:"off",helperText:c,error:!i,value:this.state.width,onChange:this.handleWidthChange})}),Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)($.a,{id:"height",label:"Height",margin:"normal",autoComplete:"off",helperText:d,error:!l,value:this.state.height,onChange:this.handleHeightChange})})]})]}),Object(V.jsxs)(Rt.a,{children:[Object(V.jsx)(x.a,{onClick:this.handleCancel,color:"primary",children:"Cancel (ESC)"}),Object(V.jsx)(x.a,{onClick:this.handleSubmit,color:"primary",disabled:!(i&&l),children:"Save"})]})]})}}]),a}(c.Component),qa=Object(f.a)((function(e){return{dialog:{},input:{width:500}}}))(Object(p.b)((function(e){return{canvasWidth:e.edit.canvasWidth,canvasHeight:e.edit.canvasHeight,minCanvasWidth:e.edit.minCanvasWidth,minCanvasHeight:e.edit.minCanvasHeight,showCanvasSizeDialog:e.edit.showCanvasSizeDialog}}),(function(e){return{createDiagramDialogCancel:function(){return e(nt.createDiagramDialogCancel())},createDiagram:function(t){return e(nt.createDiagram(t))},setCanvasSize:function(t,a){return e(kt.setCanvasSize(t,a))},hideCanvasSizeDialog:function(){return e(kt.hideCanvasSizeDialog())}}}))(Object(_t.a)()(Ga))),za=window.saveAs,Wa=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleCancel=function(){e.props.hideExportImageDialog()},e.handleSubmit=function(){za(e.props.exportImageBlob,"image.png");e.props.hideExportImageDialog()},e.handleChangeTransparent=function(){var t=e.props,a=t.updateExportImageOptions,n=t.createExportImageData,r=t.exportImageContent,i=t.exportImageTransparent,c=t.exportImageScale;a(!i,c),n(r,!i,c)},e.handleChangeScale=function(){var t=e.props,a=t.updateExportImageOptions,n=t.createExportImageData,r=t.exportImageContent,i=t.exportImageTransparent,c=1===t.exportImageScale?4:1;a(i,c),n(r,i,c)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.showExportImageDialog,a=e.exportImageDataUrl,n=e.exportImageTransparent,r=e.exportImageScale,i=e.classes;return Object(V.jsxs)(Nt.a,{open:t,"aria-labelledby":"canvas-size-dialog",onEscapeKeyDown:this.handleCancel,className:i.dialog,children:[Object(V.jsx)(Pt.a,{id:"canvas-size-dialog",children:"Export Image"}),Object(V.jsxs)(Mt.a,{children:[Object(V.jsx)(Ft.a,{children:"Preview"}),Object(V.jsxs)(X.a,{container:!0,spacing:1,children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)("div",{className:i.imageContainer,children:Object(V.jsx)("img",{src:a,alt:"diagram",className:i.image})})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(se.a,{control:Object(V.jsx)(oe.a,{checked:n,onChange:this.handleChangeTransparent}),label:"Transparent Background"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(se.a,{control:Object(V.jsx)(oe.a,{checked:4===r,onChange:this.handleChangeScale}),label:"High Resolution (4x normal size)"})})]})]}),Object(V.jsxs)(Rt.a,{children:[Object(V.jsx)(x.a,{onClick:this.handleCancel,color:"primary",children:"Cancel (ESC)"}),Object(V.jsx)(x.a,{onClick:this.handleSubmit,color:"primary",children:"Save"})]})]})}}]),a}(c.Component),Ha=Object(f.a)((function(e){return{dialog:{},input:{width:500},canvas:{display:"none"},imageContainer:{width:500,height:250,overflow:"scroll",backgroundColor:"#eee",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px",backgroundImage:"linear-gradient(45deg,#e0e0e0 25%,transparent 25%,transparent 75%,#e0e0e0 75%,#e0e0e0),linear-gradient(45deg,#e0e0e0 25%,transparent 25%,transparent 75%,#e0e0e0 75%,#e0e0e0)"},image:{}}}))(Object(p.b)((function(e){return{showExportImageDialog:e.edit.showExportImageDialog,exportImageDataUrl:e.edit.exportImageDataUrl,exportImageBlob:e.edit.exportImageBlob,exportImageContent:e.edit.exportImageContent,exportImageTransparent:e.edit.exportImageTransparent,exportImageScale:e.edit.exportImageScale}}),(function(e){return{hideExportImageDialog:function(){return e(kt.hideExportImageDialog())},createExportImageData:function(t,a,n){return e(kt.createExportImageData(t,a,n))},updateExportImageOptions:function(t,a){return e(kt.updateExportImageOptions(t,a))}}}))(Object(_t.a)()(Wa))),Ka=window.erd,Ya=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state=Object(j.a)(Object(j.a)({},e.props.contextDetails),{},{disjointed:e.props.contextDetails.isDisjointed?"d":"o"}),e.handleNameChange=function(t){var a=t.target.value,n=e.props.getStage();n.undoManager.startAction(),n.findById(e.props.contextDetails.id).details.name=a,n.draw(),e.setState({name:a})},e.handleTypeChange=function(t){var a=t.target.value,n=e.props.getStage();n.undoManager.startAction(),n.findById(e.props.contextDetails.id).details.type=a,n.draw(),e.setState({type:a})},e.handleIsDisjointedChange=function(t){var a="d"===t.target.value,n=e.props.getStage();n.undoManager.startAction(),n.findById(e.props.contextDetails.id).details.isDisjointed=a,n.draw(),e.setState({disjointed:a?"d":"o"})},e.handleTotalSpecializationChange=function(){var t=!e.state.isTotalSpecialization,a=e.props.getStage();a.undoManager.startAction(),a.findById(e.props.contextDetails.id).details.isTotalSpecialization=t,a.draw(),e.setState({isTotalSpecialization:t})},e.handleAddAttribute=function(){var t=e.props.getStage();t.undoManager.hasCurrentAction()||t.undoManager.startAction();var a=t.findById(e.props.contextDetails.id),n=a.getNextAutomaticPosition(),r=t.factory.attribute({x:n.x,y:n.y,name:"NewAttribute"});t.addItem(r),t.connect.items(r,a),t.selectItem(r),t.draw(),t.invokeDirtyCallback()},e.handleAddSubtype=function(){var t=e.props.getStage();t.undoManager.hasCurrentAction()||t.undoManager.startAction();var a=t.findById(e.props.contextDetails.id),n=a.getNextAutomaticSubtypePosition(),r=t.factory.entity({x:n.x,y:n.y,name:"Subtype Entity",isSubtype:!0,supertypeEntityId:a.details.id});t.addItem(r),t.connect.items(r,a,{isSupertypeConnector:!0}),t.selectItem(r),t.draw(),t.invokeDirtyCallback()},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.nameTextField;setTimeout((function(){e.focus(),e.select()}),0)}},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(V.jsxs)(X.a,{container:!0,spacing:0,children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsxs)(Kt.a,{component:"fieldset",className:t.formControl,children:[Object(V.jsx)(Yt.a,{children:"Entity Name"}),Object(V.jsx)($.a,{id:"name",margin:"normal",autoComplete:"off",value:this.state.name,onChange:this.handleNameChange,inputProps:{ref:function(t){return e.nameTextField=t}},className:t.textField})]})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsxs)(Kt.a,{component:"fieldset",className:t.formControl,children:[Object(V.jsx)(Yt.a,{children:"Type"}),Object(V.jsxs)(Ht.a,{value:this.state.type,onChange:this.handleTypeChange,children:[Object(V.jsx)(se.a,{value:Ka.EntityType.Regular,control:Object(V.jsx)(Wt.a,{}),label:"Regular"}),Object(V.jsx)(se.a,{value:Ka.EntityType.Weak,control:Object(V.jsx)(Wt.a,{}),label:"Weak",disabled:this.state.isSubtype}),Object(V.jsx)(se.a,{value:Ka.EntityType.Associative,control:Object(V.jsx)(Wt.a,{}),label:"Associative",disabled:this.state.isSubtype}),Object(V.jsx)(se.a,{value:Ka.EntityType.Supertype,control:Object(V.jsx)(Wt.a,{}),label:"Supertype"})]})]})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(x.a,{variant:"outlined",onClick:this.handleAddAttribute,children:"Add Attribute"})}),this.state.type===Ka.EntityType.Supertype&&Object(V.jsxs)(X.a,{children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsxs)(Kt.a,{component:"fieldset",className:t.formControl,children:[Object(V.jsx)(Yt.a,{children:"Supertype"}),Object(V.jsxs)(Ht.a,{value:this.state.disjointed,onChange:this.handleIsDisjointedChange,children:[Object(V.jsx)(se.a,{value:"d",control:Object(V.jsx)(Wt.a,{}),label:"Disjointed"}),Object(V.jsx)(se.a,{value:"o",control:Object(V.jsx)(Wt.a,{}),label:"Overlapping"})]})]})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(se.a,{label:"Total Specialization",control:Object(V.jsx)(oe.a,{checked:this.state.isTotalSpecialization,onChange:this.handleTotalSpecializationChange})})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(x.a,{variant:"outlined",onClick:this.handleAddSubtype,children:"Add Subtype Entity"})})]})]})}}]),a}(c.Component),Va=Object(f.a)((function(e){return{formControl:{marginTop:16,width:"100%"},textField:{marginTop:0,width:"100%"}}}))(Object(p.b)((function(e){return{}}),(function(e){return{}}))(Ya)),Qa=a(307),Ja=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state=Object(j.a)({},e.props.contextDetails),e.handleNameChange=function(t){var a=t.target.value,n=e.props.getStage();n.undoManager.startAction(),n.findById(e.props.contextDetails.id).details.name=a,n.draw(),e.setState({name:a})},e.handleFlagChange=function(t){return function(a){var n=e.props.getStage(),r=n.findById(e.props.contextDetails.id);n.undoManager.startAction(),"isComposite"===t&&r.removeAllChildAttributes(n);var i=!r.details[t];r.details[t]=i,n.draw(),e.setState(Object(w.a)({},t,i))}},e.handleAddAttributeToEntity=function(){var t=e.props.getStage();t.undoManager.hasCurrentAction()||t.undoManager.startAction();var a=t.findById(e.props.contextDetails.id).getOwner(),n=a.getNextAutomaticPosition(),r=t.factory.attribute({x:n.x,y:n.y,name:"NewAttribute"});t.addItem(r),t.connect.items(r,a),t.selectItem(r),t.draw(),t.invokeDirtyCallback()},e.handleAddComponentAttribute=function(){var t=e.props.getStage();t.undoManager.hasCurrentAction()||t.undoManager.startAction();var a=t.findById(e.props.contextDetails.id),n=a.getNextAutomaticPosition(),r=t.factory.attribute({x:n.x,y:n.y,name:"NewAttribute"});t.addItem(r),t.connect.items(r,a),t.selectItem(r),t.draw(),t.invokeDirtyCallback()},e.handleAddAttributeToComposite=function(){var t=e.props.getStage();t.undoManager.hasCurrentAction()||t.undoManager.startAction();var a=t.findById(e.props.contextDetails.id).getOwner(),n=a.getNextAutomaticPosition(),r=t.factory.attribute({x:n.x,y:n.y,name:"NewAttribute"});t.addItem(r),t.connect.items(r,a),t.selectItem(r),t.draw(),t.invokeDirtyCallback()},e.handleAddAttributeToRelationship=function(){var t=e.props.getStage();t.undoManager.hasCurrentAction()||t.undoManager.startAction();var a=t.findById(e.props.contextDetails.id).getOwner(),n=a.getNextAutomaticPosition(),r=t.factory.attribute({x:n.x,y:n.y,name:"NewAttribute"});t.addItem(r),t.connect.items(r,a),t.selectItem(r),t.draw(),t.invokeDirtyCallback()},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.nameTextField;setTimeout((function(){e.focus(),e.select()}),0)}},{key:"render",value:function(){var e=this,t=this.props.getStage().findById(this.props.contextDetails.id).getOwner(),a=t&&"Entity"===t.getType(),n=t&&"Relationship"===t.getType(),r=this.state.isComposite,i=t&&"Attribute"===t.getType()&&t.details.isComposite,c=a&&"weak"===t.details.type,s=this.props.classes;return Object(V.jsxs)(X.a,{container:!0,spacing:0,children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsxs)(Kt.a,{component:"fieldset",className:s.formControl,children:[Object(V.jsx)(Yt.a,{children:"Attribute Name"}),Object(V.jsx)($.a,{id:"name",margin:"normal",autoComplete:"off",value:this.state.name,onChange:this.handleNameChange,inputProps:{ref:function(t){return e.nameTextField=t}},className:s.textField})]})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Kt.a,{component:"fieldset",className:s.formControl,children:Object(V.jsxs)(Qa.a,{children:[Object(V.jsx)(se.a,{label:c?"Partially Unique":"Unique",control:Object(V.jsx)(oe.a,{checked:this.state.isUnique,onChange:this.handleFlagChange("isUnique")})}),Object(V.jsx)(se.a,{label:"Multivalued",control:Object(V.jsx)(oe.a,{checked:this.state.isMultivalued,onChange:this.handleFlagChange("isMultivalued")})}),Object(V.jsx)(se.a,{label:"Optional",control:Object(V.jsx)(oe.a,{checked:this.state.isOptional,onChange:this.handleFlagChange("isOptional")})}),Object(V.jsx)(se.a,{label:"Composite",control:Object(V.jsx)(oe.a,{checked:this.state.isComposite,onChange:this.handleFlagChange("isComposite")})}),Object(V.jsx)(se.a,{label:"Derived",control:Object(V.jsx)(oe.a,{checked:this.state.isDerived,onChange:this.handleFlagChange("isDerived")})})]})})}),a&&Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(x.a,{variant:"outlined",onClick:this.handleAddAttributeToEntity,children:"Add Attribute to Entity"})}),n&&Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(x.a,{variant:"outlined",onClick:this.handleAddAttributeToRelationship,children:"Add Attribute to Relationship"})}),r&&Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(x.a,{variant:"outlined",onClick:this.handleAddComponentAttribute,children:"Add Component Attribute"})}),i&&Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(x.a,{variant:"outlined",onClick:this.handleAddAttributeToComposite,children:"Add Attribute to Composite"})})]})}}]),a}(c.Component),Xa=Object(f.a)((function(e){return{formControl:{marginTop:16,width:"100%"},textField:{marginTop:0,width:"100%"}}}))(Object(p.b)((function(e){return{}}),(function(e){return{}}))(Ja)),$a=a(374),Za=a(366),en=window.erd,tn=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={name:e.props.contextDetails.name,isIdentifying:e.props.contextDetails.isIdentifying,slot0:e.props.contextDetails.slots[0],slot1:e.props.contextDetails.slots[1],showExact:!1},e.handleShowExactChange=function(t){var a=!e.state.showExact;e.setState({showExact:a})},e.handleNameChange=function(t){var a=t.target.value,n=e.props.getStage();n.undoManager.startAction(),n.findById(e.props.contextDetails.id).details.name=a,n.draw(),e.setState({name:a})},e.handleIdentifyingChange=function(t){var a=e.props.getStage();a.undoManager.startAction();var n=a.findById(e.props.contextDetails.id);n.details.isIdentifying=!n.details.isIdentifying,a.draw(),e.setState({isIdentifying:n.details.isIdentifying})},e.handleChangeEntity=function(t){return function(a){var n="slot".concat(t),r=e.props.getStage();r.undoManager.startAction();var i=r.findById(e.props.contextDetails.id),c=e.state[n],s=a.target.value;if(s!==c.entityId){if(0!==c.entityId){var o=i.getSlotConnector(t);o&&o.removeFromStage(r)}if(s>0){var l=r.findById(s);r.connect.items(l,i,{slotIndex:t})}e.setState(Object(w.a)({},n,Object(j.a)(Object(j.a)({},c),{},{entityId:s}))),r.invokeDirtyCallback(),r.draw()}}},e.handleMinimumChange=function(t){return function(a){var n="slot".concat(t),r=e.props.getStage(),i=r.findById(e.props.contextDetails.id);r.undoManager.startAction();var c=e.state[n];i.details.slots[t].minimum=a.target.value,r.invokeDirtyCallback(),r.draw(),e.setState(Object(w.a)({},n,Object(j.a)(Object(j.a)({},c),{},{minimum:a.target.value})))}},e.handleMaximumChange=function(t){return function(a){var n="slot".concat(t),r=e.props.getStage(),i=r.findById(e.props.contextDetails.id);r.undoManager.startAction();var c=e.state[n];i.details.slots[t].maximum=a.target.value,r.invokeDirtyCallback(),r.draw(),e.setState(Object(w.a)({},n,Object(j.a)(Object(j.a)({},c),{},{maximum:a.target.value})))}},e.handleRoleChange=function(t){return function(a){var n="slot".concat(t),r=e.props.getStage(),i=r.findById(e.props.contextDetails.id);r.undoManager.startAction();var c=e.state[n];i.details.slots[t].role=a.target.value,r.invokeDirtyCallback(),r.draw(),e.setState(Object(w.a)({},n,Object(j.a)(Object(j.a)({},c),{},{role:a.target.value})))}},e.handleParticipationChange=function(t){return function(a){var n="slot".concat(t),r=e.props.getStage(),i=r.findById(e.props.contextDetails.id);r.undoManager.startAction();var c=e.state[n];i.details.slots[t].participation=a.target.value,r.invokeDirtyCallback(),r.draw(),e.setState(Object(w.a)({},n,Object(j.a)(Object(j.a)({},c),{},{participation:a.target.value})))}},e.handleCardinalityChange=function(t){return function(a){var n="slot".concat(t),r=e.props.getStage(),i=r.findById(e.props.contextDetails.id);r.undoManager.startAction();var c=e.state[n];i.details.slots[t].cardinality=a.target.value,r.invokeDirtyCallback(),r.draw(),e.setState(Object(w.a)({},n,Object(j.a)(Object(j.a)({},c),{},{cardinality:a.target.value})))}},e.handleAddAttribute=function(){var t=e.props.getStage();t.undoManager.hasCurrentAction()||t.undoManager.startAction();var a=t.findById(e.props.contextDetails.id),n=a.getNextAutomaticPosition(),r=t.factory.attribute({x:n.x,y:n.y,name:"NewAttribute"});t.addItem(r),t.connect.items(r,a),t.selectItem(r),t.draw(),t.invokeDirtyCallback()},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.nameTextField;setTimeout((function(){e.focus(),e.select()}),0)}},{key:"render",value:function(){var e=this,t=this.props.getStage().findAllByType("Entity"),a=this.state,n=a.showExact,r=a.slot0,i=a.slot1,c=this.props.classes;return Object(V.jsxs)(X.a,{container:!0,spacing:0,children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsxs)(Kt.a,{component:"fieldset",className:c.formControl,children:[Object(V.jsx)(Yt.a,{children:"Relationship Name"}),Object(V.jsx)($.a,{id:"name",margin:"normal",autoComplete:"off",value:this.state.name,onChange:this.handleNameChange,inputProps:{ref:function(t){return e.nameTextField=t}},className:c.textField})]})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Kt.a,{component:"fieldset",children:Object(V.jsx)(Qa.a,{children:Object(V.jsx)(se.a,{label:"Identifying",control:Object(V.jsx)(oe.a,{checked:this.state.isIdentifying,onChange:this.handleIdentifyingChange})})})})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Yt.a,{children:"Entity One"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Kt.a,{className:c.formControl,children:Object(V.jsxs)($a.a,{value:r.entityId,onChange:this.handleChangeEntity(0),displayEmpty:!0,name:"entity1",children:[Object(V.jsx)(Je.a,{value:0,children:Object(V.jsx)("em",{children:"None"})}),t.map((function(e){return Object(V.jsx)(Je.a,{value:e.details.id,children:e.details.name},e.details.id)}))]})})}),!n&&Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(Kt.a,{component:"fieldset",children:Object(V.jsxs)(Ht.a,{value:r.participation,onChange:this.handleParticipationChange(0),children:[Object(V.jsx)(se.a,{value:en.ParticipationType.mandatory,control:Object(V.jsx)(Wt.a,{}),label:"Mandatory"}),Object(V.jsx)(se.a,{value:en.ParticipationType.optional,control:Object(V.jsx)(Wt.a,{}),label:"Optional"}),Object(V.jsx)(se.a,{value:en.ParticipationType.unspecified,control:Object(V.jsx)(Wt.a,{}),label:"Unspecified"})]})})}),!n&&Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(Kt.a,{component:"fieldset",children:Object(V.jsxs)(Ht.a,{value:r.cardinality,onChange:this.handleCardinalityChange(0),children:[Object(V.jsx)(se.a,{value:en.CardinalityType.one,control:Object(V.jsx)(Wt.a,{}),label:"One"}),Object(V.jsx)(se.a,{value:en.CardinalityType.many,control:Object(V.jsx)(Wt.a,{}),label:"Many"}),Object(V.jsx)(se.a,{value:en.CardinalityType.unspecified,control:Object(V.jsx)(Wt.a,{}),label:"Unspecified"})]})})}),n&&Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsxs)(Kt.a,{component:"fieldset",children:[Object(V.jsx)($.a,{id:"slot0min",label:"Minimum",margin:"normal",autoComplete:"off",value:r.minimum,onChange:this.handleMinimumChange(0)}),Object(V.jsx)($.a,{id:"slot0max",label:"Maximum",margin:"normal",autoComplete:"off",value:r.maximum,onChange:this.handleMaximumChange(0)}),Object(V.jsx)($.a,{id:"slot0role",label:"Role",margin:"normal",autoComplete:"off",value:r.role,onChange:this.handleRoleChange(0)})]})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Yt.a,{children:"Entity Two"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Kt.a,{className:c.formControl,children:Object(V.jsxs)($a.a,{value:i.entityId,onChange:this.handleChangeEntity(1),displayEmpty:!0,name:"entity1",children:[Object(V.jsx)(Je.a,{value:0,children:Object(V.jsx)("em",{children:"None"})}),t.map((function(e){return Object(V.jsx)(Je.a,{value:e.details.id,children:e.details.name},e.details.id)}))]})})}),!n&&Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(Kt.a,{component:"fieldset",children:Object(V.jsxs)(Ht.a,{value:i.participation,onChange:this.handleParticipationChange(1),children:[Object(V.jsx)(se.a,{value:en.ParticipationType.mandatory,control:Object(V.jsx)(Wt.a,{}),label:"Mandatory"}),Object(V.jsx)(se.a,{value:en.ParticipationType.optional,control:Object(V.jsx)(Wt.a,{}),label:"Optional"}),Object(V.jsx)(se.a,{value:en.ParticipationType.unspecified,control:Object(V.jsx)(Wt.a,{}),label:"Unspecified"})]})})}),!n&&Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(Kt.a,{component:"fieldset",children:Object(V.jsxs)(Ht.a,{value:i.cardinality,onChange:this.handleCardinalityChange(1),children:[Object(V.jsx)(se.a,{value:en.CardinalityType.one,control:Object(V.jsx)(Wt.a,{}),label:"One"}),Object(V.jsx)(se.a,{value:en.CardinalityType.many,control:Object(V.jsx)(Wt.a,{}),label:"Many"}),Object(V.jsx)(se.a,{value:en.CardinalityType.unspecified,control:Object(V.jsx)(Wt.a,{}),label:"Unspecified"})]})})}),n&&Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsxs)(Kt.a,{component:"fieldset",children:[Object(V.jsx)($.a,{id:"slot1min",label:"Minimum",margin:"normal",autoComplete:"off",value:i.minimum,onChange:this.handleMinimumChange(1)}),Object(V.jsx)($.a,{id:"slot1max",label:"Maximum",margin:"normal",autoComplete:"off",value:i.maximum,onChange:this.handleMaximumChange(1)}),Object(V.jsx)($.a,{id:"slot1role",label:"Role",margin:"normal",autoComplete:"off",value:i.role,onChange:this.handleRoleChange(1)})]})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(se.a,{control:Object(V.jsx)(Za.a,{checked:this.state.showExact,onChange:this.handleShowExactChange,color:"primary"}),label:"Edit Exact Constraints"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(x.a,{variant:"outlined",onClick:this.handleAddAttribute,children:"Add Attribute"})})]})}}]),a}(c.Component),an=Object(f.a)((function(e){return{formControl:{marginTop:0,width:"100%"},textField:{marginTop:0,width:"100%"}}}))(Object(m.f)(Object(p.b)((function(e,t){return{}}),(function(e){return{}}))(tn))),nn=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state=Object(j.a)({},e.props.contextDetails),e.handleTextChange=function(t){var a=t.target.value,n=e.props.getStage();n.undoManager.startAction(),n.findById(e.props.contextDetails.id).details.text=a,n.draw(),e.setState({text:a})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.textField;setTimeout((function(){e.focus(),e.select()}),0)}},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(V.jsx)(X.a,{container:!0,spacing:0,children:Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsxs)(Kt.a,{component:"fieldset",className:t.formControl,children:[Object(V.jsx)(Yt.a,{children:"Text Label"}),Object(V.jsx)($.a,{id:"text",margin:"normal",autoComplete:"off",value:this.state.text,onChange:this.handleTextChange,multiline:!0,variant:"outlined",maxrows:10,inputProps:{ref:function(t){return e.textField=t}},className:t.textField})]})})})}}]),a}(c.Component),rn=Object(f.a)((function(e){return{formControl:{marginTop:16,width:"100%"},textField:{marginTop:0,width:"100%"}}}))(Object(p.b)((function(e){return{}}),(function(e){return{}}))(nn)),cn=a(369),sn=a(371),on=a(368),ln=a(370),dn=a(367);var un=Object(f.a)((function(e){return{nameCell:{textAlign:"left",paddingLeft:8,paddingRight:4},nameCellPrimaryKey:{textAlign:"left",paddingLeft:8,paddingRight:4,fontWeight:800,textDecoration:"underline"},nameP:{width:80},checkCell:{textAlign:"center",paddingLeft:4,paddingRight:4},dataTypeCell:{textAlign:"left",paddingLeft:8,paddingRight:4},dataTypeSizeCell:{textAlign:"left",paddingLeft:8,paddingRight:4},dataTypeP:{width:90},dataTypeSizeP:{width:60},fkNoteP:{margin:0,textAlign:"right"}}}))((function(e){var t=e.classes,a=e.handleClickRow,n=e.names,r=e.pkMember,i=(e.optional,e.soloUnique,e.dataType),c=e.fk,s=e.dataTypeSize;return Object(V.jsxs)(dn.a,{hover:!0,onClick:a,children:[Object(V.jsx)(on.a,{className:r?t.nameCellPrimaryKey:t.nameCell,children:n.map((function(e,a){return Object(V.jsx)("p",{className:t.nameP,children:e},a)}))}),!c&&Object(V.jsx)(on.a,{className:t.dataTypeCell,children:Object(V.jsx)("p",{className:t.dataTypeP,children:i&&i.name})}),!c&&Object(V.jsx)(on.a,{className:t.dataTypeSizeCell,children:Object(V.jsx)("p",{className:t.dataTypeSizeP,children:i&&s})}),c&&Object(V.jsx)(on.a,{colSpan:2,children:Object(V.jsx)("p",{className:t.fkNoteP,children:"(Foreign Key)"})})]})})),hn=a(348),bn=[{id:"none",sql:"",name:"None",hasSize:!1,isCustom:!1},{id:"charn",name:"CHAR(n)",sql:"CHAR",hasSize:!0,isCustom:!1},{id:"varcharn",name:"VARCHAR(n)",sql:"VARCHAR",hasSize:!0,isCustom:!1},{id:"int",name:"INT",sql:"INT",hasSize:!1,isCustom:!1},{id:"numeric",name:"NUMERIC(p s)",sql:"NUMERIC",hasSize:!0,isCustom:!1},{id:"date",name:"DATE",sql:"DATE",hasSize:!1,isCustom:!1},{id:"float",name:"FLOAT",sql:"FLOAT",hasSize:!1,isCustom:!1},{id:"custom",name:"Custom",sql:"",hasSize:!0,isCustom:!0}];var jn=Object(f.a)((function(e){return{nameCell:{textAlign:"left",paddingLeft:8,paddingRight:4},cell:{textAlign:"center",paddingLeft:4,paddingRight:4},input:{width:"100%",fontSize:"0.8125rem"},dataTypeCell:{textAlign:"left",paddingLeft:4,paddingRight:4},dataTypeSelect:{width:90,fontSize:"0.8125rem"}}}))((function(e){var t=function(t){t&&e.focusAttributeName&&setTimeout((function(){t.focus(),t.select()}),0)},a=e.classes,n=e.names,r=e.fk,i=e.dataType,c=e.dataTypeSize,s=e.handleAttributeNameChange,o=e.handleDataTypeChange,l=e.handleDataTypeSizeChange;return Object(V.jsxs)(dn.a,{selected:!0,hover:!0,children:[Object(V.jsx)(on.a,{className:a.nameCell,children:n.map((function(e,n){return 0===n?Object(V.jsx)(hn.a,{value:e,className:a.input,inputProps:{ref:t},onChange:function(e){return s(e.target.value,n)}},n):Object(V.jsx)(hn.a,{value:e,className:a.input,onChange:function(e){return s(e.target.value,n)}},n)}))}),!r&&Object(V.jsx)(on.a,{className:a.dataTypeCell,children:Object(V.jsx)(Kt.a,{children:Object(V.jsx)($a.a,{value:i&&i.id,onChange:o,displayEmpty:!0,name:"dataType",className:a.dataTypeSelect,children:bn.map((function(e){return Object(V.jsx)(Je.a,{value:e.id,children:e.name},e.id)}))})})}),!r&&Object(V.jsx)(on.a,{className:a.cell,children:i&&i.hasSize&&Object(V.jsx)(hn.a,{value:c,className:a.input,onChange:l})}),r&&Object(V.jsx)(on.a,{colSpan:2,children:Object(V.jsx)("p",{className:a.fkNoteP,children:"Foreign Key data types cannot be changed."})})]})}));var mn=Object(f.a)((function(e){return{nameCell:{textAlign:"left",paddingLeft:8,paddingRight:4},checkCell:{textAlign:"center",paddingLeft:4,paddingRight:4}}}))((function(e){var t=e.classes,a=e.attributes,n=e.selectedAttributeId,r=e.focusAttributeName,i=e.handleAttributeNameChange,c=e.handleClickRow,s=e.handleDataTypeChange,o=e.handleDataTypeSizeChange,l=e.dataTypes;return Object(V.jsxs)(cn.a,{children:[Object(V.jsx)(ln.a,{children:Object(V.jsxs)(dn.a,{children:[Object(V.jsx)(on.a,{className:t.nameCell,children:"Name"}),Object(V.jsx)(on.a,{className:t.nameCell,children:"Data Type"}),Object(V.jsx)(on.a,{className:t.checkCell,children:"Data Type Size"})]})}),Object(V.jsx)(sn.a,{children:a.map((function(e){var t=function(e){var t=bn.find((function(t){return t.id===e}));return t||(t=bn.find((function(e){return"none"===e.id}))),t}(e.dataType);return n===e.id?Object(V.jsx)(jn,{names:e.names,pkMember:e.pkMember,fk:e.fk,dataType:t,dataTypeSize:e.dataTypeSize,handleAttributeNameChange:i,handleDataTypeChange:s,handleDataTypeSizeChange:o,dataTypes:l,focusAttributeName:r},e.id):Object(V.jsx)(un,{names:e.names,pkMember:e.pkMember,fk:e.fk,dataType:t,dataTypeSize:e.dataTypeSize,handleClickRow:function(){return c(e.id)}},e.id)}))})]})}));var pn=Object(f.a)((function(e){return{cell:{textAlign:"center",paddingLeft:0,paddingRight:0}}}))((function(e){var t=e.classes,a=e.attributes,n=e.checkedAttributeIds,r=e.handleAttributeChecked,i=e.disabledAttributes,c=[];return i&&(c=i.map((function(e){return e.id}))),Object(V.jsxs)(cn.a,{children:[Object(V.jsx)(ln.a,{children:Object(V.jsxs)(dn.a,{children:[Object(V.jsx)(on.a,{className:t.cell,children:"Key"}),Object(V.jsx)(on.a,{className:t.cell,children:"Name"})]})}),Object(V.jsx)(sn.a,{children:a.map((function(e){return Object(V.jsxs)(dn.a,{children:[Object(V.jsx)(on.a,{className:t.cell,children:Object(V.jsx)(oe.a,{disabled:c.includes(e.id),checked:n.includes(e.id),onChange:function(){return r(e.id)}})}),Object(V.jsx)(on.a,{children:e.names.map((function(e,t){return Object(V.jsx)("p",{children:e},t)}))})]},e.id)}))})]})})),gn=a(185),On=a.n(gn),fn=a(186),xn=a.n(fn);var vn,yn=Object(f.a)((function(e){return{nameCell:{textAlign:"left",paddingLeft:8,paddingRight:4},cell:{textAlign:"center",paddingLeft:0,paddingRight:0}}}))((function(e){for(var t=e.classes,a=e.attributes,n=e.handleAttributeMoveUp,r=e.handleAttributeMoveDown,i=[],c=0;c<a.length;++c)i.push(Object(j.a)(Object(j.a)({},a[c]),{},{prevId:c>0?a[c-1].id:null,nextId:c<a.length-1?a[c+1].id:null}));return Object(V.jsxs)(cn.a,{children:[Object(V.jsx)(ln.a,{children:Object(V.jsxs)(dn.a,{children:[Object(V.jsx)(on.a,{className:t.nameCell,children:"Name"}),Object(V.jsx)(on.a,{className:t.cell})]})}),Object(V.jsx)(sn.a,{children:i.map((function(e){return Object(V.jsxs)(dn.a,{children:[Object(V.jsx)(on.a,{className:t.nameCell,children:e.names.map((function(e,t){return Object(V.jsx)("p",{children:e},t)}))}),Object(V.jsxs)(on.a,{className:t.cell,children:[Object(V.jsx)(Y.a,{"aria-label":"Move Up",onClick:function(){return n(e.id,e.prevId)},disabled:!e.prevId,children:Object(V.jsx)(On.a,{})}),Object(V.jsx)(Y.a,{"aria-label":"Move Down",onClick:function(){return r(e.id,e.nextId)},disabled:!e.nextId,children:Object(V.jsx)(xn.a,{})})]})]},e.id)}))})]})})),Cn="normal",wn="remove",Dn="groups",Sn="reorder",An="primaryKey",En="unique",Tn="optional",In=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state=Object(j.a)(Object(j.a)({},e.props.contextDetails),{},{selectedAttributeId:0,mode:Cn,checkedAttributeIds:[],currentGroupIndex:-1,menuAnchor:null}),e.handleNameChange=function(t){var a=t.target.value,n=e.props.getStage();n.undoManager.startAction(),n.findById(e.props.contextDetails.id).details.name=a,n.draw(),e.setState({name:a})},e.handleClickRow=function(t){e.setState({selectedAttributeId:t,focusAttributeName:!0})},e.handleAttributeNameChange=function(t,a){var n=e.props.getStage();n.undoManager.startAction();var r=n.findById(e.props.contextDetails.id);r.getAttributeById(e.state.selectedAttributeId).names[a]=t,n.draw(),e.setState(Object(j.a)(Object(j.a)({},r.details),{},{focusAttributeName:!1}))},e.handleAddAttribute=function(){var t=e.props.getStage();t.undoManager.startAction();var a=t.findById(e.props.contextDetails.id).addAttribute({names:["New Column"]});t.draw(),e.setState(Object(j.a)(Object(j.a)({},e.props.contextDetails),{},{selectedAttributeId:a.id,focusAttributeName:!0}))},e.handleSetMode=function(t){e.setState({mode:t})},e.handleAttributeChecked=function(t){var a=Object(be.a)(e.state.checkedAttributeIds);a=a.includes(t)?a.filter((function(e){return e!==t})):[].concat(Object(be.a)(a),[t]),e.setState({checkedAttributeIds:a})},e.handleRemoveCheckedAttributes=function(){var t=e.props.getStage();t.undoManager.startAction();var a=t.findById(e.props.contextDetails.id);e.state.checkedAttributeIds.forEach((function(e){var n=a.getAttributeById(e);a.removeAttribute(n,t)})),e.handleEndAttributeChecks(),t.draw()},e.handleEndAttributeChecks=function(){e.setState({mode:Cn,checkedAttributeIds:[]})},e.handlePrimaryKeyMode=function(){var t=e.props.getStage().findById(e.props.contextDetails.id).getAttributesByOrder().filter((function(e){return e.pkMember})).map((function(e){return e.id}));e.setState({mode:An,checkedAttributeIds:t})},e.handleSavePrimaryKeyChecks=function(){var t=e.props.getStage(),a=t.findById(e.props.contextDetails.id);a.removePkConnectors(t),a.getAttributesByOrder().map((function(e){return e.id})).forEach((function(t){var n=a.getAttributeById(t);n.pkMember=e.state.checkedAttributeIds.includes(n.id),n.pkMember&&(n.optional=!1)})),t.draw(),t.invokeDirtyCallback(),e.setState(Object(j.a)(Object(j.a)({},e.props.contextDetails),{},{mode:Cn,checkedAttributeIds:[]}))},e.handleCancelPrimaryKeyChecks=function(){e.setState({mode:Cn,checkedAttributeIds:[]})},e.handleOptionalMode=function(){var t=e.props.getStage().findById(e.props.contextDetails.id).getAttributesByOrder().filter((function(e){return e.optional})).map((function(e){return e.id}));e.setState({mode:Tn,checkedAttributeIds:t})},e.handleSaveOptionalMode=function(){var t=e.props.getStage(),a=t.findById(e.props.contextDetails.id);a.getAttributesByOrder().map((function(e){return e.id})).forEach((function(t){var n=a.getAttributeById(t);n.optional=e.state.checkedAttributeIds.includes(n.id)})),t.draw(),t.invokeDirtyCallback(),e.setState(Object(j.a)(Object(j.a)({},e.props.contextDetails),{},{mode:Cn,checkedAttributeIds:[]}))},e.handleCancelOptionalMode=function(){e.setState({mode:Cn,checkedAttributeIds:[]})},e.handleUniqueMode=function(){var t=e.props.getStage().findById(e.props.contextDetails.id).getAttributesByOrder().filter((function(e){return e.soloUnique})).map((function(e){return e.id}));e.setState({mode:En,checkedAttributeIds:t})},e.handleSaveUniqueMode=function(){var t=e.props.getStage(),a=t.findById(e.props.contextDetails.id);a.getAttributesByOrder().map((function(e){return e.id})).forEach((function(t){var n=a.getAttributeById(t);n.soloUnique=e.state.checkedAttributeIds.includes(n.id)})),t.draw(),t.invokeDirtyCallback(),e.setState(Object(j.a)(Object(j.a)({},e.props.contextDetails),{},{mode:Cn,checkedAttributeIds:[]}))},e.handleCancelUniqueMode=function(){e.setState({mode:Cn,checkedAttributeIds:[]})},e.handleEditGroup=function(t){var a=t>=0?e.state.uniqueGroups[t]:[];e.setState({currentGroupIndex:t,checkedAttributeIds:a}),e.handleMenuClose(),e.handleSetMode(Dn)},e.handleAddGroup=function(){var t=e.props.getStage();t.undoManager.startAction();var a=t.findById(e.props.contextDetails.id);a.details.uniqueGroups.push([]),t.draw();var n=a.details.uniqueGroups.length-1;e.setState({currentGroupIndex:n,checkedAttributeIds:[],contextDetails:a.details}),e.handleMenuClose(),e.handleSetMode(Dn)},e.handleRemoveGroup=function(){var t=e.state.currentGroupIndex,a=e.props.getStage();a.undoManager.startAction();var n=a.findById(e.props.contextDetails.id);n.details.uniqueGroups.splice(t,1),a.draw();var r=(t=Math.min(t,n.details.uniqueGroups.lenght-1))>=0?e.state.uniqueGroups[t]:[];e.setState({currentGroupIndex:t,contextDetails:n.details,checkedAttributeIds:r}),e.handleSetMode(Cn)},e.handleGroupAttributeChecked=function(t){var a=Object(be.a)(e.state.checkedAttributeIds);a=a.includes(t)?a.filter((function(e){return e!==t})):[].concat(Object(be.a)(a),[t]);var n=e.props.getStage();n.undoManager.startAction();var r=n.findById(e.props.contextDetails.id);r.details.uniqueGroups[e.state.currentGroupIndex]=a,n.draw(),e.setState({contextDetails:r.details,checkedAttributeIds:a})},e.handleMenuOpen=function(t){e.setState({menuAnchor:t})},e.handleMenuClose=function(){e.setState({menuAnchor:null})},e.handleDataTypeChange=function(t){var a=e.props.getStage();a.undoManager.startAction();var n=a.findById(e.props.contextDetails.id).getAttributeById(e.state.selectedAttributeId);n.dataType=t.target.value,n.dataTypeSize="",a.draw(),e.setState(Object(j.a)(Object(j.a)({},e.props.contextDetails),{},{focusAttributeName:!1}))},e.handleDataTypeSizeChange=function(t){var a=e.props.getStage();a.undoManager.startAction(),a.findById(e.props.contextDetails.id).getAttributeById(e.state.selectedAttributeId).dataTypeSize=t.target.value,a.draw(),e.setState(Object(j.a)(Object(j.a)({},e.props.contextDetails),{},{focusAttributeName:!1}))},e.handleEndAttributeReorder=function(){e.setState({mode:Cn})},e.handleAttributeOrderSwap=function(t,a){var n=e.props.getStage();n.undoManager.startAction();var r=n.findById(e.props.contextDetails.id);r.details.sort="manual";var i=r.getAttributeById(t),c=r.getAttributeById(a);i.order===c.order&&r.getAttributesByOrder().forEach((function(e,t){e.order=t}));var s=i.order;i.order=c.order,c.order=s,r.updateAllAnchors(),n.draw(),e.setState({contextDetails:r.details})},e.handleAddRecursiveKey=function(){var t=e.props.getStage();t.undoManager.startAction();var a=t.findById(e.props.contextDetails.id);t.connect.items(a,a),a.updateAllAnchors(),t.draw(),e.setState({contextDetails:a.details})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.nameTextField;setTimeout((function(){e.focus(),e.select()}),0)}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.menuAnchor,r=a.uniqueGroups,i=a.selectedAttributeId,c=a.focusAttributeName,s=a.mode,o=a.checkedAttributeIds,l=a.currentGroupIndex,d=this.props.getStage().findById(this.props.contextDetails.id).getAttributesByOrder();return Object(V.jsxs)(X.a,{container:!0,spacing:0,children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsxs)(Kt.a,{component:"fieldset",className:t.formControl,children:[Object(V.jsx)(Yt.a,{children:"Table Name"}),Object(V.jsx)($.a,{id:"name",margin:"normal",autoComplete:"off",value:this.state.name,onChange:this.handleNameChange,inputProps:{ref:function(t){return e.nameTextField=t}},className:t.textField})]})}),s===Cn&&Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsxs)(X.a,{container:!0,spacing:1,children:[Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(x.a,{variant:"outlined",className:t.mainButton,onClick:this.handlePrimaryKeyMode,children:"Primary Key"})}),Object(V.jsxs)(X.a,{item:!0,xs:6,children:[Object(V.jsx)(x.a,{"aria-owns":n?"ugroups-menu":null,variant:"outlined",className:t.mainButton,onClick:function(t){return e.handleMenuOpen(t.currentTarget)},children:"(U) Groups ..."}),Object(V.jsxs)(Qe.a,{id:"ugroups-menu",open:Boolean(n),anchorEl:n,onClose:this.handleMenuClose,children:[Object(V.jsx)(Je.a,{onClick:this.handleAddGroup,children:"Add New Unique Group"}),r.map((function(t,a){return Object(V.jsxs)(Je.a,{value:a,onClick:function(){return e.handleEditGroup(a)},children:["Edit Unique Group ",a+1]},a)}))]})]}),Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(x.a,{variant:"outlined",className:t.mainButton,onClick:this.handleAddRecursiveKey,children:"Recursive Key"})}),Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(x.a,{variant:"outlined",className:t.mainButton,onClick:function(){return e.handleSetMode(Sn)},children:"Reorder ..."})}),Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(x.a,{variant:"outlined",className:t.mainButton,onClick:this.handleUniqueMode,children:"Unique ..."})}),Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(x.a,{variant:"outlined",className:t.mainButton,onClick:this.handleOptionalMode,children:"Optional ..."})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Yt.a,{children:"Columns"})}),Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(x.a,{variant:"outlined",className:t.mainButton,onClick:this.handleAddAttribute,children:"Add"})}),Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(x.a,{variant:"outlined",className:t.mainButton,onClick:function(){return e.handleSetMode(wn)},children:"Remove ..."})})]})}),s===An&&Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsxs)(X.a,{container:!0,spacing:1,children:[Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(x.a,{variant:"outlined",className:t.mainButton,onClick:this.handleSavePrimaryKeyChecks,children:"Save"})}),Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(x.a,{variant:"outlined",className:t.mainButton,onClick:this.handleCancelPrimaryKeyChecks,children:"Cancel"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Yt.a,{children:"Select columns for the Primary Key"})})]})}),s===wn&&Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsxs)(X.a,{container:!0,spacing:1,children:[Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(x.a,{variant:"outlined",className:t.mainButton,onClick:this.handleRemoveCheckedAttributes,children:"Remove"})}),Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(x.a,{variant:"outlined",className:t.mainButton,onClick:this.handleEndAttributeChecks,children:"Cancel"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Yt.a,{children:"Select columns to remove"})})]})}),s===En&&Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsxs)(X.a,{container:!0,spacing:1,children:[Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(x.a,{variant:"outlined",className:t.mainButton,onClick:this.handleSaveUniqueMode,children:"Save"})}),Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(x.a,{variant:"outlined",className:t.mainButton,onClick:this.handleCancelUniqueMode,children:"Cancel"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Yt.a,{children:"Select Unique columns"})})]})}),s===Tn&&Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsxs)(X.a,{container:!0,spacing:1,children:[Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(x.a,{variant:"outlined",className:t.mainButton,onClick:this.handleSaveOptionalMode,children:"Save"})}),Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(x.a,{variant:"outlined",className:t.mainButton,onClick:this.handleCancelOptionalMode,children:"Cancel"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Yt.a,{children:"Select Optional columns"})})]})}),s===Sn&&Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(X.a,{container:!0,spacing:1,children:Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(x.a,{variant:"outlined",className:t.mainButton,onClick:this.handleEndAttributeReorder,children:"Done"})})})}),s===Dn&&Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsxs)(X.a,{container:!0,spacing:1,children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsxs)(Yt.a,{children:["Edit Unique Group ",l+1]})}),Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(x.a,{variant:"outlined",className:t.mainButton,onClick:this.handleRemoveGroup,children:"Remove"})}),Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)(x.a,{variant:"outlined",className:t.mainButton,onClick:this.handleEndAttributeChecks,children:"Done"})})]})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsxs)("div",{className:t.tableContainer,children:[s===Cn&&Object(V.jsx)(mn,{attributes:d,selectedAttributeId:i,focusAttributeName:c,handleAttributeNameChange:this.handleAttributeNameChange,handleClickRow:this.handleClickRow,handleDataTypeChange:this.handleDataTypeChange,handleDataTypeSizeChange:this.handleDataTypeSizeChange}),s===wn&&Object(V.jsx)(pn,{attributes:d,checkedAttributeIds:o,handleAttributeChecked:this.handleAttributeChecked}),s===An&&Object(V.jsx)(pn,{attributes:d,checkedAttributeIds:o,handleAttributeChecked:this.handleAttributeChecked}),s===En&&Object(V.jsx)(pn,{attributes:d,checkedAttributeIds:o,handleAttributeChecked:this.handleAttributeChecked}),s===Tn&&Object(V.jsx)(pn,{attributes:d,checkedAttributeIds:o,handleAttributeChecked:this.handleAttributeChecked,disabledAttributes:d.filter((function(e){return e.pkMember}))}),s===Dn&&Object(V.jsx)(pn,{attributes:d,checkedAttributeIds:o,handleAttributeChecked:this.handleGroupAttributeChecked}),s===Sn&&Object(V.jsx)(yn,{attributes:d,handleAttributeMoveUp:this.handleAttributeOrderSwap,handleAttributeMoveDown:this.handleAttributeOrderSwap})]})})]})}}]),a}(c.Component),kn=Object(f.a)((function(e){return{tableContainer:{overflow:"auto"},cell:{textAlign:"center",paddingLeft:0,paddingRight:0},input:{width:"100%"},formControl:{marginTop:16,width:"100%"},textField:{marginTop:0,width:"100%"},mainButton:{width:"100%"}}}))(Object(m.f)(Object(p.b)((function(e,t){return{}}),(function(e){return{}}))(In))),Nn=window.erd,Rn=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).tryLoadDiagram=function(){var t=e.props,a=t.editDiagram,n=t.setCanvasSize;if(!e.isReady&&a){e.isReady=!0;var r=new Nn.DiagramArchive(e.stage).fromJson(a.content);"number"===typeof r.width&&"number"===typeof r.height&&n(r.width,r.height)}e.stage&&e.isReady&&setTimeout((function(){return e.stage.draw()}),0),e.setUndoRedo()},e.setUndoRedo=function(){e.stage&&e.props.setUndoRedo(e.stage.undoManager.canUndo(),e.stage.undoManager.canRedo())},e.activeItemChangedCallback=function(t){e.stage.undoManager.hasCurrentAction()&&e.stage.undoManager.endAction(),t?e.props.setContext(t.details,t.getType()):e.props.clearContext()},e.startMoveCallback=function(){e.stage.undoManager.hasCurrentAction()&&e.stage.undoManager.endAction(),e.stage.undoManager.startAction()},e.endMoveCallback=function(){e.stage.undoManager.endAction(),e.dirtyCallback()},e.connectModeEndCallback=function(){},e.dirtyCallback=function(){e.setUndoRedo(),e.props.setIsDirty(!0),e.autoSaveTimer&&(clearTimeout(e.autoSaveTimer),e.autoSaveTimer=null),e.autoSaveTimer=setTimeout(e.handleSave,8e3)},e.handleSave=function(){e.autoSaveTimer&&(clearTimeout(e.autoSaveTimer),e.autoSaveTimer=null);var t=e.props,a=t.saveEditDiagram,n=t.editDiagram,r=new Nn.DiagramArchive(e.stage);a(Object(j.a)(Object(j.a)({},n),{},{content:r.toJson()}))},e.mouseModeResetCallback=function(t){e.props.setMouseMode(t)},e.selectedCountChange=function(){e.props.setCanDelete(e.stage.selectedCount())},e.getStage=function(){return e.stage},e.isReady=!1,e.autoSaveTimer=null,e.canvasElement=s.a.createRef(),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.gtag("event","page_view",{page_path:"/edit-diagram"}),document.getElementById("root").style.height="100%";var e={activeItemChangedCallback:this.activeItemChangedCallback,startMoveCallback:this.startMoveCallback,endMoveCallback:this.endMoveCallback,connectModeEndCallback:this.connectModeEndCallback,dirtyCallback:this.dirtyCallback,mouseModeResetCallback:this.mouseModeResetCallback,selectedCountChange:this.selectedCountChange};this.stage=new Nn.DiagramStage(this.canvasElement.current,e),this.tryLoadDiagram()}},{key:"componentDidUpdate",value:function(){this.tryLoadDiagram()}},{key:"componentWillUnmount",value:function(){this.props.clearContext(),this.autoSaveTimer&&this.handleSave()}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.editDiagram,n=e.canvasWidth,r=e.canvasHeight,i=e.contextType,c=e.contextDetails,s=e.mouseMode,o=a?a.diagramType:"none",l=[t.canvas];return"connect"===s&&l.push(t.canvasConnectMode),Object(V.jsxs)("section",{className:t.section,children:[Object(V.jsx)(J,{}),Object(V.jsx)(qa,{}),Object(V.jsx)(Ha,{getStage:this.getStage}),Object(V.jsx)(Ua,{diagramType:o,getStage:this.getStage,handleSave:this.handleSave}),Object(V.jsxs)("div",{className:t.workArea,children:[Object(V.jsx)("div",{className:t.canvasParent,children:Object(V.jsx)("canvas",{className:l.join(" "),width:n,height:r,ref:this.canvasElement})}),Object(V.jsxs)("div",{className:t.contextArea,children:["Entity"===i&&Object(V.jsx)(Va,{contextDetails:c,getStage:this.getStage},c.id),"Attribute"===i&&Object(V.jsx)(Xa,{contextDetails:c,getStage:this.getStage},c.id),"Relationship"===i&&Object(V.jsx)(an,{contextDetails:c,getStage:this.getStage},c.id),"Label"===i&&Object(V.jsx)(rn,{contextDetails:c,getStage:this.getStage},c.id),"Table"===i&&Object(V.jsx)(kn,{contextDetails:c,getStage:this.getStage},c.id),"Dimension"===i&&Object(V.jsx)(kn,{contextDetails:c,getStage:this.getStage},c.id),"Fact"===i&&Object(V.jsx)(kn,{contextDetails:c,getStage:this.getStage},c.id)]})]})]})}}]),a}(c.Component),Mn=Object(f.a)((function(e){return{section:{height:"100%",display:"flex",flexFlow:"column"},workArea:{display:"flex",overflow:"hidden"},contextArea:{width:320,height:"100%",overflow:"auto",background:"#eeeeee",padding:5},canvasParent:{flex:1,overflow:"scroll",height:"100%"},canvas:{border:"1px solid #aaa",margin:0,backgroundColor:e.palette.background.paper},canvasConnectMode:{cursor:"crosshair"}}}))(Object(m.f)(Object(p.b)((function(e,t){return{editDiagram:ze(e,t),canvasWidth:e.edit.canvasWidth,canvasHeight:e.edit.canvasHeight,contextDetails:e.edit.contextDetails,contextType:e.edit.contextType,mouseMode:e.edit.mouseMode}}),(function(e){return{setContext:function(t,a){return e(kt.setContext(t,a))},setIsDirty:function(t){return e(kt.setIsDirty(t))},clearContext:function(){return e(kt.clearContext())},setMouseMode:function(t){return e(kt.setMouseMode(t))},setUndoRedo:function(t,a){return e(kt.setUndoRedo(t,a))},setCanDelete:function(t){return e(kt.setCanDelete(t))},setCanvasSize:function(t,a){return e(kt.setCanvasSize(t,a))},saveEditDiagram:function(t){return e(kt.saveEditDiagram(t))}}}))(Rn))),Fn=Object(D.createActions)({resetPasswordStart:["email"],resetPasswordStartSuccess:["email","duration"],resetPasswordStartFailure:null,resetPasswordComplete:["token","password","history"],resetPasswordCompleteSuccess:null,resetPasswordCompleteFailure:null}),Pn=Fn.Types,_n=Fn.Creators,Ln=Object(D.createReducer)({email:null,error:null,forgotSuccess:!1},(vn={},Object(w.a)(vn,Pn.RESET_PASSWORD_START,(function(e){return Object(j.a)(Object(j.a)({},e),{},{forgotSuccess:!1})})),Object(w.a)(vn,Pn.RESET_PASSWORD_START_SUCCESS,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{email:t.email,duration:t.duration,forgotSuccess:!0})})),Object(w.a)(vn,Pn.RESET_PASSWORD_START_FAILURE,(function(e,t){return Object(j.a)(Object(j.a)({},e),{},{error:t.error})})),Object(w.a)(vn,Pn.RESET_PASSWORD_COMPLETE,(function(e){return e})),Object(w.a)(vn,Pn.RESET_PASSWORD_COMPLETE_SUCCESS,(function(e){return e})),Object(w.a)(vn,Pn.RESET_PASSWORD_COMPLETE_FAILURE,(function(e){return e})),vn)),Bn=Pn,Un=_n,Gn=Object(Ue.a)([function(e,t){return t.history.location.pathname}],(function(e){var t=e.split("/");return 3===t.length&&"reset-password"===t[1]?t[2]:null})),qn=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={password:"",confirmPassword:"",isPasswordDirty:!1,isConfirmPasswordDirty:!1},e.handlePasswordChange=function(t){e.setState({password:t.target.value,isPasswordDirty:!0})},e.handleConfirmPasswordChange=function(t){e.setState({confirmPassword:t.target.value,isConfirmPasswordDirty:!0})},e.handleSubmit=function(){e.props.resetPasswordComplete(e.props.token,e.state.password,e.props.history)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.gtag("event","page_view",{page_path:"/reset-password"})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.password,n=t.confirmPassword,r=t.isPasswordDirty,i=t.isConfirmPasswordDirty,c=!a||a.length<8||a!==n,s=r&&a.length<8?"Password must be longer than 8 characters":"",o=i&&a!==n?"Passwords do not match":"";return Object(V.jsxs)("section",{className:e.section,children:[Object(V.jsx)(J,{}),Object(V.jsxs)(X.a,{container:!0,className:e.grid,spacing:3,children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Z.a,{variant:"h4",children:"Reset Forgotten Password"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)($.a,{id:"password",label:"Password",margin:"normal",className:e.textField,value:a,onChange:this.handlePasswordChange,helperText:s,type:"password"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)($.a,{id:"confirmPassword",label:"Confirm Password",margin:"normal",className:e.textField,value:n,onChange:this.handleConfirmPasswordChange,helperText:o,type:"password"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(x.a,{className:e.submitButton,disabled:c,variant:"outlined",color:"primary",onClick:this.handleSubmit,children:"Set Password"})})]})]})}}]),a}(c.Component),zn=Object(f.a)((function(e){return{textField:{margin:e.spacing(1),width:300},submitButton:{margin:e.spacing(1),width:200},section:{height:"100%",display:"flex",flexFlow:"column"},grid:{paddingTop:e.spacing(3),textAlign:"center"}}}))(Object(m.f)(Object(p.b)((function(e,t){return{duration:e.resetPassword.duration,token:Gn(e,t)}}),(function(e){return{resetPasswordComplete:function(t,a,n){return e(Un.resetPasswordComplete(t,a,n))}}}))(qn))),Wn=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={email:""},e.catchReturn=function(t){"Enter"===t.key&&(t.preventDefault(),e.handleSubmit())},e.handleEmailChange=function(t){e.setState({email:t.target.value})},e.handleSubmit=function(){var t=e.state.email;t&&e.props.resetPasswordStart(t)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.gtag("event","page_view",{page_path:"/forgot-password"})}},{key:"render",value:function(){var e=this.state.email,t=this.props,a=t.classes,n=t.forgotSuccess,r=!e;return Object(V.jsxs)("section",{className:a.section,children:[Object(V.jsx)(J,{}),Object(V.jsxs)(X.a,{container:!0,className:a.grid,spacing:3,children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Z.a,{variant:"h4",children:"Forgot Password"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)($.a,{id:"email",label:"Email",margin:"normal",className:a.textField,value:e,onChange:this.handleEmailChange,onKeyPress:this.catchReturn})}),!n&&Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(x.a,{className:a.submitButton,disabled:r,variant:"outlined",color:"primary",onClick:this.handleSubmit,children:"Submit"})}),n&&Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Z.a,{variant:"body1",children:"Check your email for the reset password link."})})]})]})}}]),a}(c.Component),Hn=Object(f.a)((function(e){return{textField:{margin:e.spacing(1),width:300},submitButton:{margin:e.spacing(1),width:200},section:{height:"100%",display:"flex",flexFlow:"column"},grid:{paddingTop:e.spacing(3),textAlign:"center"}}}))(Object(m.f)(Object(p.b)((function(e){return{forgotSuccess:e.resetPassword.forgotSuccess}}),(function(e){return{resetPasswordStart:function(t){return e(Un.resetPasswordStart(t))}}}))(Wn))),Kn=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.gtag("event","page_view",{page_path:"/privacy-policy"})}},{key:"render",value:function(){var e=this.props.classes;return Object(V.jsxs)("section",{className:e.section,children:[Object(V.jsx)(J,{}),Object(V.jsxs)(X.a,{container:!0,spacing:1,children:[Object(V.jsx)(X.a,{item:!0,md:3}),Object(V.jsxs)(X.a,{item:!0,xs:12,md:6,className:e.words,children:[Object(V.jsx)(Z.a,{variant:"h3",className:e.title,children:"Privacy Policy"}),Object(V.jsx)(Z.a,{variant:"body1",children:"This privacy policy discloses the privacy practices for https://erdplus.com. This privacy policy applies solely to information collected by this web site. It will notify you of the following:"}),Object(V.jsxs)("ol",{children:[Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"What personally identifiable information is collected from you through the web site, how it is used and with whom it may be shared."})}),Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"What choices are available to you regarding the use of your data."})}),Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"The security procedures in place to protect the misuse of your information."})})]}),Object(V.jsx)(Z.a,{variant:"h6",children:"Information Collection, Use, and Sharing"}),Object(V.jsx)(Z.a,{variant:"body1",children:"We are the sole owners of the information collected on this site. We only have access to/collect information that you voluntarily give us via email or other direct contact from you. We will not sell or rent this information to anyone. We will use your information to respond to you, regarding the reason you contacted us. We will not share your information with any third party outside of our organization."}),Object(V.jsx)(Z.a,{variant:"h6",children:"Your Access to and Control Over Information"}),Object(V.jsx)(Z.a,{variant:"body1",children:"You can do the following at any time by contacting us via the email address on our website:"}),Object(V.jsxs)("ul",{children:[Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"See what data we have about you, if any."})}),Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Change/correct any data we have about you."})}),Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Have us delete any data we have about you."})}),Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Express any concern you have about our use of your data."})})]}),Object(V.jsx)(Z.a,{variant:"h6",children:"Security"}),Object(V.jsx)(Z.a,{variant:"body1",children:"We take precautions to protect your information. When you submit sensitive information via the website, your information is protected both online and offline."}),Object(V.jsx)(Z.a,{variant:"body1",children:'Wherever we collect sensitive information (such as passwords), that information is encrypted and transmitted to us in a secure way. You can verify this by looking for a closed lock icon at the bottom of your web browser, or looking for "https" at the beginning of the address of the web page.'}),Object(V.jsx)(Z.a,{variant:"body1",children:"While we use encryption to protect sensitive information transmitted online, we also protect your information offline. Only employees who need the information to perform a specific job are granted access to personally identifiable information. The computers/servers in which we store personally identifiable information are kept in a secure environment."}),Object(V.jsx)(Z.a,{variant:"h6",children:"Registration"}),Object(V.jsx)(Z.a,{variant:"body1",children:"In order to use this website, a user may first optionally complete the registration form. Registration is required to use some features of the site. During registration a user is required to give certain information (such as name and email address). This information is used to contact you about the products/services on our site in which you have expressed interest."}),Object(V.jsx)(Z.a,{variant:"h6",children:"Cookies"}),Object(V.jsx)(Z.a,{variant:"body1",children:'We use "cookies" on this site. A cookie is a piece of data stored on a site visitor\'s hard drive to help us improve your access to our site and identify repeat visitors to our site. For instance, when we use a cookie to identify you, you would not have to log in a password more than once, thereby saving time while on our site. Cookies can also enable us to track and target the interests of our users to enhance the experience on our site. Usage of a cookie is in no way linked to any personally identifiable information on our site.'}),Object(V.jsx)(Z.a,{variant:"h6",children:"Updates"}),Object(V.jsx)(Z.a,{variant:"body1",children:"Our Privacy Policy may change from time to time and all updates will be posted on this page."}),Object(V.jsx)(Z.a,{variant:"body1",children:"If you feel that we are not abiding by this privacy policy, you should contact us immediately via email to info@erdplus.com."})]}),Object(V.jsx)(X.a,{item:!0,md:3})]})]})}}]),a}(c.Component),Yn=Object(f.a)((function(e){return{section:{height:"100%",display:"flex",flexFlow:"column"},title:{marginTop:20,marginBottom:10},words:{margin:10}}}))(Object(p.b)((function(e){return{}}),(function(e){return{}}))(Kn)),Vn=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.gtag("event","page_view",{page_path:"/"})}},{key:"render",value:function(){var e=this.props.classes;return Object(V.jsxs)("section",{className:e.section,children:[Object(V.jsx)(J,{className:e.header}),Object(V.jsx)(Ca,{className:e.headerAdd,dataAdSlot:"6806589100"}),Object(V.jsxs)(X.a,{container:!0,className:e.grid,spacing:3,children:[Object(V.jsx)(X.a,{item:!0,xs:3}),Object(V.jsx)(X.a,{item:!0,xs:6,style:{textAlign:"center"},children:Object(V.jsx)("img",{alt:"ERDPlus logo",src:"erdplus_logo_large.png"})}),Object(V.jsx)(X.a,{item:!0,xs:3}),Object(V.jsx)(X.a,{item:!0,xs:12,style:{textAlign:"center"},children:Object(V.jsx)(Z.a,{variant:"h5",children:"A database modeling tool for creating Entity Relationship Diagrams, Relational Schemas, Star Schemas, and SQL DDL statements."})}),Object(V.jsx)(X.a,{item:!0,xs:4,className:e.descriptionGridItem,children:Object(V.jsxs)(ee.a,{className:e.descriptionPaper,elevation:2,children:[Object(V.jsx)(Z.a,{variant:"h6",children:"Database Modeling"}),Object(V.jsx)(Z.a,{variant:"body1",children:"ERDPlus is a web-based database modeling tool that lets you quickly and easily create"}),Object(V.jsxs)("ul",{children:[Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Entity Relationship Diagrams (ERDs)"})}),Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Relational Schemas (Relational Diagrams)"})}),Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Star Schemas (Dimensional Models)"})})]}),Object(V.jsx)(Z.a,{variant:"body1",children:"More features"}),Object(V.jsxs)("ul",{children:[Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Automatically convert ER Diagrams into Relational Schemas"})}),Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Export SQL"})}),Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Export diagrams as a PNG"})}),Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Save diagrams safely on our server"})})]})]})}),Object(V.jsx)(X.a,{item:!0,xs:4,className:e.descriptionGridItem,children:Object(V.jsxs)(ee.a,{className:e.descriptionPaper,elevation:2,children:[Object(V.jsx)(Z.a,{variant:"h6",children:"SQL DDL Statements"}),Object(V.jsx)(Z.a,{variant:"body1",children:"Export standard SQL"}),Object(V.jsxs)("ul",{children:[Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Generate SQL from Relational Schemas and Star Schemas"})}),Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Select from common data types and data sizes"})}),Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Works with most contemporary RDBMS tools including Oracle, MySQL, Microsoft SQL Server, PostgresSQL, Teradata, IBM DB2, Microsoft Access, and others."})})]})]})}),Object(V.jsx)(X.a,{item:!0,xs:4,children:Object(V.jsxs)(ee.a,{className:e.descriptionPaper,elevation:2,children:[Object(V.jsx)(Z.a,{variant:"h6",children:"Textbook"}),Object(V.jsx)(Z.a,{variant:"body1",children:"The Edition 2.0 of the textbook using ERDPlus is now available."}),Object(V.jsx)("a",{href:"https://www.prospectpressvt.com/textbooks/jukic-database-systems-introduction-to-databases-and-data-warehouses-2-0?hsLang=en",children:Object(V.jsx)("img",{alt:"Database systems textbook cover",src:"dbtextbook_cover_2nd.webp",className:e.textbookImage})})]})}),Object(V.jsx)(X.a,{item:!0,xs:12,style:{textAlign:"center"},children:Object(V.jsx)(Ca,{dataAdSlot:"5087156909"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(ee.a,{elevation:2,children:Object(V.jsxs)(X.a,{container:!0,className:e.grid,spacing:3,children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Z.a,{variant:"h3",children:"Entity Relationship Diagrams (ERDs)"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)("img",{alt:"Sample entity-relation diagram",src:"ERDSample.png"})}),Object(V.jsxs)(X.a,{item:!0,xs:4,className:e.textAlignLeft,children:[Object(V.jsx)(Z.a,{variant:"h6",children:"ERDPlus enables drawing standard ERD components."}),Object(V.jsxs)("ul",{children:[Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Entities"})}),Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Attributes"})}),Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Relationships"})})]}),Object(V.jsx)(Z.a,{variant:"body1",children:"The notation supports drawing regular and weak entities, various types of attributes (regular, unique, multi-valued, derived, composite, and optional), and all possible cardinality constraints of relationships (mandatory-many, optional-many, mandatory-one and optional-one)."})]}),Object(V.jsx)(X.a,{item:!0,xs:8,children:Object(V.jsx)("img",{className:e.gifs,alt:"Animation showing creating an ER diagram",src:"v2_01ERDDiagrams.gif"})})]})})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(ee.a,{elevation:2,children:Object(V.jsxs)(X.a,{container:!0,className:e.grid,spacing:3,children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Z.a,{variant:"h3",children:"Relational Schemas"})}),Object(V.jsxs)(X.a,{item:!0,xs:4,className:e.textAlignLeft,children:[Object(V.jsx)(Z.a,{variant:"h6",children:"ERDPlus enables drawing standard Relational Schema components"}),Object(V.jsxs)("ul",{children:[Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Tables (Relations)"})}),Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Table Columns (including Primary and Foreign Keys)"})}),Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Referential Integrity Constraint Lines (pointing from a Foreign Key to the Primary Key it refers to)"})})]}),Object(V.jsx)(Z.a,{variant:"body1",children:"The tool supports quick creation of foreign keys and referential integrity lines by simple click-point-connect actions. This simplifies and quickens the process of creating relational schemas."})]}),Object(V.jsx)(X.a,{item:!0,xs:8,children:Object(V.jsx)("img",{className:e.gifs,alt:"Short animation creating a relational schema",src:"v2_02RelationalSchemas.gif"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)("img",{alt:"Sample relational schema diagram",src:"RelationalSchemaSample.png"})})]})})}),Object(V.jsx)(X.a,{item:!0,xs:12,style:{textAlign:"center"},children:Object(V.jsx)(Ca,{dataAdSlot:"9142202976"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(ee.a,{elevation:2,children:Object(V.jsxs)(X.a,{container:!0,className:e.grid,spacing:3,children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Z.a,{variant:"h3",children:"Automatically Convert ER Diagrams to Relational Schemas"})}),Object(V.jsxs)(X.a,{item:!0,xs:4,className:e.textAlignLeft,children:[Object(V.jsx)(Z.a,{variant:"h6",children:"Convert ER Diagrams"}),Object(V.jsx)(Z.a,{variant:"body1",children:"ERDPlus enables automatic conversion of ER Diagrams to Relational Schemas with one click of a button. This vastly speeds up the process of creating a Relational Schema based on an ER Diagram."}),Object(V.jsx)(Z.a,{variant:"h6",children:"To use this feature"}),Object(V.jsxs)("ol",{children:[Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Log into your account."})}),Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Click on the drop menu next to the name of any ER Diagram and chose \u201cConvert to Relational Schema\u201d option."})}),Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"This will create a diagram containing the converted Relational Schema."})})]}),Object(V.jsx)(Z.a,{variant:"body1"})]}),Object(V.jsx)(X.a,{item:!0,xs:8,children:Object(V.jsx)("img",{className:e.gifs,alt:"Short animation creating a relational schema",src:"v2_03ConvertingERDtoRelationalSchema.gif"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)("img",{alt:"An ER diagram that can be converted into a relational schema",src:"ERDSample.png"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)("img",{alt:"Sample relational schema automatically created from the ER diagram",src:"RelationalSchemaSample.png"})})]})})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(ee.a,{elevation:2,children:Object(V.jsxs)(X.a,{container:!0,className:e.grid,spacing:3,children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Z.a,{variant:"h3",children:"Star Schemas"})}),Object(V.jsxs)(X.a,{item:!0,xs:4,className:e.textAlignLeft,children:[Object(V.jsx)(Z.a,{variant:"h6",children:"ERDPlus enables drawing Star Schema components."}),Object(V.jsxs)("ul",{children:[Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Fact Tables (Facts)"})}),Object(V.jsx)("li",{children:Object(V.jsx)(Z.a,{variant:"body1",children:"Dimension Tables (Dimensions)"})})]}),Object(V.jsx)(Z.a,{variant:"body1",children:"The notation distinguishes fact tables from dimension tables by using a thicker frame around fact tables. This makes star schema diagrams easier to interpret. As with relational schemas, the tool supports quick creation of foreign keys and referential integrity lines by simple click-point-connect actions. This simplifies and quickens the process of creating star schemas."})]}),Object(V.jsx)(X.a,{item:!0,xs:8,children:Object(V.jsx)("img",{className:e.gifs,alt:"Short animation creating a star schema",src:"v2_04StarSchema.gif"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)("img",{alt:"An example star schema",src:"StarSchemaSample.png"})})]})})}),Object(V.jsx)(X.a,{item:!0,xs:12,style:{textAlign:"center"},children:Object(V.jsx)(Ca,{dataAdSlot:"3889876296"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(ee.a,{elevation:2,children:Object(V.jsxs)(X.a,{container:!0,className:e.grid,spacing:3,children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Z.a,{variant:"h3",children:"Export SQL"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)("img",{style:{width:"80%",height:"80%",objectFit:"contain"},alt:"Short animation creating a star schema",src:"v2_05GenerateSql.gif"})}),Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)("img",{alt:"An example relational schema that can be converted to SQL",src:"RelationalSchemaForSql.png"})}),Object(V.jsx)(X.a,{item:!0,xs:6,children:Object(V.jsx)("pre",{className:e.sqlBlock,children:"CREATE TABLE PRODUCT\n(\n  ProductID INT NOT NULL,\n  ProductName VARCHAR(64) NOT NULL,\n  ProductPrice DECIMAL(4, 2) NOT NULL,\n  PRIMARY KEY (ProductID)\n);\n\nCREATE TABLE CUSTOMER\n(\n  CustomerID INT NOT NULL,\n  CustomerName VARCHAR(40) NOT NULL,\n  CustomerZip VARCHAR(10) NOT NULL,\n  PRIMARY KEY (CustomerID)\n);\n\nCREATE TABLE SALESTRANSACTION\n(\n  TID INT NOT NULL,\n  Tdate DATE NOT NULL,\n  CustomerID INTEGER NOT NULL,\n  PRIMARY KEY (TID),\n  FOREIGN KEY (CustomerID) REFERENCES CUSTOMER(CustomerID)\n);\n\nCREATE TABLE SOLDVIA\n(\n  ProductID INT NOT NULL,\n  TID INT NOT NULL,\n  PRIMARY KEY (ProductID, TID),\n  FOREIGN KEY (ProductID) REFERENCES PRODUCT(ProductID),\n  FOREIGN KEY (TID) REFERENCES SALESTRANSACTION(TID)\n);"})})]})})}),Object(V.jsx)(X.a,{item:!0,xs:4,children:"Copyright \xa9 ERDPlus 2015-2023"}),Object(V.jsx)(X.a,{item:!0,xs:4,children:Object(V.jsx)(C.a,{to:"/privacy-policy",children:"Privacy Policy"})}),Object(V.jsx)(X.a,{item:!0,xs:4,children:Object(V.jsx)(C.a,{to:"mailto:info@erdplus.com",children:"info@erdplus.com"})}),Object(V.jsx)(X.a,{item:!0,xs:4,className:e.version,children:Object(V.jsxs)(Z.a,{variant:"caption",children:[""," / ","169012000117727"," / ","17e43ce32b2ba3a1cf8d0b4f3683559e554dcc31"]})})]})]})}}]),a}(c.Component),Qn=Object(f.a)((function(e){return{section:{height:"100%",display:"flex",flexFlow:"column"},contentArea:{height:"100%"},grid:{padding:e.spacing(3),textAlign:"center",marginTop:e.spacing(1),marginBottom:e.spacing(1)},descriptionGridItem:{},descriptionPaper:{textAlign:"left",padding:20,height:440},textbookImage:{width:200,textAlign:"center",margin:20,border:"1px solid #aaa"},partnerLoyolaImage:{width:175},parnterAptitiveImage:{width:175,border:"1px solid #ddd"},sqlBlock:{textAlign:"left"},textAlignLeft:{textAlign:"left"},footerGrid:{backgroundColor:"#eeeeee",textAlign:"center",paddingTop:40,paddingBottom:40},version:{textAlign:"center"},upgrade:{border:"5px solid #11aa11"},header:{position:"fixed",width:"100%",zIndex:1e3},headerAdd:{marginTop:"72px",marginLeft:"16px"},gifs:{width:"95%",height:"95%",objectFit:"contain"}}}))(Object(p.b)((function(e){return{}}),(function(e){return{}}))(Vn)),Jn=window.gapi,Xn=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.componentDidMount=function(){window.gtag("event","page_view",{page_path:"/login"}),Jn.load("auth2",(function(){Jn.auth2.init({client_id:"935519046542-t7la3ci754e31p6lot2mo9r36mq5d2d4.apps.googleusercontent.com"}).attachClickHandler("google-login",{},(function(t){var a=t.getAuthResponse().id_token;e.props.googleLogin(a,e.props.history)}),(function(e){console.log(e)}))}))},e.handleEmailChange=function(t){e.setState({email:t.target.value})},e.handlePasswordChange=function(t){e.setState({password:t.target.value})},e.handleSubmit=function(){var t=e.state,a=t.email,n=t.password;e.props.login(a,n,e.props.history)},e.catchReturn=function(t){if("Enter"===t.key){t.preventDefault();var a=e.state,n=a.email,r=a.password;n&&r&&e.handleSubmit()}},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=this.props.classes,r=!t||!a;return Object(V.jsxs)("section",{className:n.section,children:[Object(V.jsx)(J,{}),Object(V.jsxs)(X.a,{container:!0,className:n.grid,spacing:3,children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Z.a,{variant:"h4",children:"Login"})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)($.a,{id:"email",label:"Email",margin:"normal",className:n.textField,value:t,onChange:this.handleEmailChange,onKeyPress:this.catchReturn})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)($.a,{id:"password",label:"Password",margin:"normal",className:n.textField,value:a,onChange:this.handlePasswordChange,type:"password",onKeyPress:this.catchReturn})}),Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(x.a,{className:n.loginButton,disabled:r,variant:"outlined",color:"primary",onClick:this.handleSubmit,children:"Login"})}),Object(V.jsxs)(X.a,{item:!0,xs:12,children:[Object(V.jsx)(x.a,{component:C.a,to:"/create-account",children:"Create Account"}),Object(V.jsx)(x.a,{component:C.a,to:"/forgot-password",children:"Forgot Password"})]}),Object(V.jsxs)(X.a,{item:!0,xs:12,children:[Object(V.jsx)("p",{children:"New users are encouraged to create an account with an email and password."}),Object(V.jsxs)(x.a,{id:"google-login",variant:"outlined",className:n.loginButton,children:[Object(V.jsx)("img",{alt:"Google Logo",src:"g-logo.png",className:n.socialButtonImage}),"Signin with Google"]})]})]})]})}}]),a}(c.Component),$n=Object(f.a)((function(e){return{textField:{margin:e.spacing(1),width:300},submitButton:{margin:e.spacing(1),width:200},section:{height:"100%",display:"flex",flexFlow:"column"},grid:{paddingTop:e.spacing(3),textAlign:"center"},loginButton:{margin:e.spacing(1),width:250},socialButtonImage:{height:24,marginRight:5,backgroundColor:"#ffffff"}}}))(Object(m.f)(Object(p.b)((function(e){return{}}),(function(e){return{login:function(t,a,n){return e(k.login(t,a,n))},googleLogin:function(t,a){return e(k.googleLogin(t,a))}}}))(Xn))),Zn=window.erd,er={none:[],er:[{name:"Select",mouseMode:"select"},{name:"Connect",mouseMode:"connect"},{name:"Entity",mouseMode:"entity"},{name:"Attribute",mouseMode:"attribute"},{name:"Relationship",mouseMode:"relationship"},{name:"Label",mouseMode:"label"}],relational:[{name:"Select",mouseMode:"select"},{name:"Connect",mouseMode:"connect"},{name:"Table",mouseMode:"table"},{name:"Label",mouseMode:"label"}],star:[{name:"Select",mouseMode:"select"},{name:"Connect",mouseMode:"connect"},{name:"Fact",mouseMode:"fact"},{name:"Dimension",mouseMode:"dimension"},{name:"Label",mouseMode:"label"}]},tr=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={menuAnchor:null},e.handleSave=function(){var t=e.props,a=t.saveDiagram,n=t.editDiagram,r=e.props.getStage(),i=new Zn.DiagramArchive(r);a(Object(j.a)(Object(j.a)({},n),{},{content:i.toJson()})),e.handleMenuClose()},e.handleImport=function(){e.props.importDiagramDialogShow(),e.handleMenuClose()},e.handleUndo=function(){var t=e.props.getStage();e.props.clearContext(),t.undoManager.undo()},e.handleRedo=function(){var t=e.props.getStage();e.props.clearContext(),t.undoManager.redo()},e.handleDelete=function(){var t=e.props.getStage();t.deleteSelection(),e.props.clearContext(),t.draw()},e.changeMode=function(t){var a=e.props.getStage(),n=e.props.setMouseMode;a.undoManager.hasCurrentAction()&&a.undoManager.endAction(),a.mouseMode=t,n(t)},e.handleMenuClick=function(t){e.setState({menuAnchor:t})},e.handleMenuClose=function(){e.setState({menuAnchor:null})},e.handleExportImage=function(){var t=e.props,a=t.showExportImageDialog,n=t.createExportImageData,r=t.exportImageTransparent,i=t.exportImageScale,c=e.props.getStage(),s=new Zn.DiagramArchive(c).toJson();a(s),n(s,r,i),e.handleMenuClose()},e.handleResize=function(){var t=e.props.getStage().getBounds(!1);e.props.showCanvasSizeDialog(t.right,t.bottom),e.setState({menuAnchor:null})},e.newERDiagram=function(){e.handleMenuClose(),e.props.newERDiagram()},e.newRelationalSchema=function(){e.handleMenuClose(),e.props.newRelationalSchema()},e.newStarSchema=function(){e.handleMenuClose(),e.props.newStarSchema()},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state.menuAnchor,a=this.props,n=a.classes,r=a.diagramType,i=a.mouseMode,c=a.canUndo,s=a.canRedo,o=a.canDelete,l=er[r];return Object(V.jsxs)("div",{className:n.buttonBar,children:[Object(V.jsxs)(Qe.a,{id:"diagram-menu",open:Boolean(t),anchorEl:t,onClose:this.handleMenuClose,children:[Object(V.jsx)(Je.a,{onClick:this.newERDiagram,children:"New ER Diagram"}),Object(V.jsx)(Je.a,{onClick:this.newRelationalSchema,children:"New Relational Schema"}),Object(V.jsx)(Je.a,{onClick:this.newStarSchema,children:"New Star Schema"}),Object(V.jsx)("hr",{}),Object(V.jsx)(Je.a,{onClick:this.handleSave,children:"Export ..."}),Object(V.jsx)(Je.a,{onClick:this.handleImport,children:"Import ..."}),Object(V.jsx)("hr",{}),Object(V.jsx)(Je.a,{onClick:this.handleExportImage,children:"Export Image ..."}),Object(V.jsx)(Je.a,{onClick:this.handleResize,children:"Canvas Size ..."})]}),Object(V.jsxs)(x.a,{variant:"outlined",className:n.button,onClick:function(t){return e.handleMenuClick(t.currentTarget)},children:[Object(V.jsx)(Ma.a,{})," Menu"]}),"none"!==r&&Object(V.jsxs)(x.a,{variant:"outlined",className:n.button,onClick:this.handleUndo,disabled:!c,children:[Object(V.jsx)(Ea.a,{})," Undo"]}),"none"!==r&&Object(V.jsxs)(x.a,{variant:"outlined",className:n.button,onClick:this.handleRedo,disabled:!s,children:[Object(V.jsx)(Ia.a,{})," Redo"]}),"none"!==r&&Object(V.jsxs)(x.a,{variant:"outlined",className:n.button,onClick:this.handleDelete,disabled:!o,children:[Object(V.jsx)(Na.a,{})," Delete"]}),l.map((function(t){return Object(V.jsx)(x.a,{variant:"outlined",className:n.button,color:t.mouseMode===i?"primary":"default",onClick:function(){return e.changeMode(t.mouseMode)},children:t.name},t.mouseMode)}))]})}}]),a}(c.Component),ar=Object(f.a)((function(e){return{button:{marginTop:e.spacing(1),marginBottom:0,marginLeft:e.spacing(1),marginRight:0},buttonBar:{background:"#eeeeee",paddingBottom:10,zIndex:1e3}}}))(Object(m.f)(Object(p.b)((function(e,t){return{exportImageTransparent:e.edit.exportImageTransparent,exportImageScale:e.edit.exportImageScale}}),(function(e){return{showExportImageDialog:function(t){return e(kt.showExportImageDialog(t))},createExportImageData:function(t,a,n){return e(kt.createExportImageData(t,a,n))},importDiagramDialogShow:function(){return e(nt.importDiagramDialogShow())}}}))(tr))),nr=window.erd,rr=window.saveAs,ir=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).state={diagramType:"er",contextType:"",contextDetails:null,mouseMode:"none",editDiagram:null,canUndo:!1,canRedo:!1,canDelete:!1,exportImageTransparent:!1,exportImageScale:null},e.activeItemChangedCallback=function(t){e.stage.undoManager.hasCurrentAction()&&e.stage.undoManager.endAction(),t?e.setState({contextType:t.getType(),contextDetails:t.details}):e.setState({contextType:"",contextDetails:null})},e.clearContext=function(){e.setState({contextType:"",contextDetails:null})},e.startMoveCallback=function(){e.stage.undoManager.hasCurrentAction()&&e.stage.undoManager.endAction(),e.stage.undoManager.startAction()},e.endMoveCallback=function(){e.stage.undoManager.endAction(),e.dirtyCallback()},e.connectModeEndCallback=function(){},e.dirtyCallback=function(){e.setState({canUndo:e.stage.undoManager.canUndo(),canRedo:e.stage.undoManager.canRedo()})},e.mouseModeResetCallback=function(t){e.setState({mouseMode:t})},e.selectedCountChange=function(){e.setState({canDelete:e.stage.selectedCount()>0})},e.newERDiagram=function(){e.newDiagram("er")},e.newRelationalSchema=function(){e.newDiagram("relational")},e.newStarSchema=function(){e.newDiagram("star")},e.newDiagram=function(t){var a=JSON.stringify({version:2,www:"erdplus.com",shapes:[],connectors:[],width:2e3,height:1e3}),n=new nr.DiagramArchive(e.stage).fromJson(a);e.setState({diagramType:t}),e.props.setCanvasSize(n.width,n.height)},e.getStage=function(){return e.stage},e.setMouseMode=function(t){e.setState({mouseMode:t})},e.saveDiagram=function(e){var t=new Blob([e.content],{type:"text/plain;charset=utf-8"});rr(t,"".concat(e.name,".erdplus"))},e.importDiagrams=function(t){if(1===t.length){var a=t[0],n=new nr.DiagramArchive(e.stage).fromJson(a.content);e.setState({diagramType:a.diagramType}),e.props.setCanvasSize(n.width,n.height),e.props.importDiagramDialogCancel(),setTimeout((function(){return e.stage.draw()}),0)}},e.showCanvasSizeDialog=function(t,a){e.props.showCanvasSizeDialog(t,a)},e.isReady=!1,e.canvasElement=s.a.createRef(),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.gtag("event","page_view",{page_path:"/standalone"}),document.getElementById("root").style.height="100%";var e={activeItemChangedCallback:this.activeItemChangedCallback,startMoveCallback:this.startMoveCallback,endMoveCallback:this.endMoveCallback,connectModeEndCallback:this.connectModeEndCallback,dirtyCallback:this.dirtyCallback,mouseModeResetCallback:this.mouseModeResetCallback,selectedCountChange:this.selectedCountChange};this.stage=new nr.DiagramStage(this.canvasElement.current,e)}},{key:"render",value:function(){var e=this.state,t=e.diagramType,a=e.contextType,n=e.contextDetails,r=e.mouseMode,i=e.editDiagram,c=e.canUndo,s=e.canRedo,o=e.canDelete,l=e.exportImageTransparent,d=e.exportImageScale,u=this.props,h=u.classes,b=u.canvasWidth,j=u.canvasHeight,m=[h.canvas];return"connect"===r&&m.push(h.canvasConnectMode),Object(V.jsxs)("section",{className:h.section,children:[Object(V.jsx)(J,{}),Object(V.jsx)(qa,{}),Object(V.jsx)(Ha,{getStage:this.getStage}),Object(V.jsx)(ba,{importDiagrams:this.importDiagrams,standalone:!0}),Object(V.jsx)(ar,{diagramType:t,getStage:this.getStage,setMouseMode:this.setMouseMode,saveDiagram:this.saveDiagram,showCanvasSizeDialog:this.showCanvasSizeDialog,mouseMode:r,editDiagram:i,canUndo:c,canRedo:s,canDelete:o,exportImageTransparent:l,exportImageScale:d,newERDiagram:this.newERDiagram,newRelationalSchema:this.newRelationalSchema,newStarSchema:this.newStarSchema,clearContext:this.clearContext}),Object(V.jsxs)("div",{className:h.workArea,children:[Object(V.jsx)("div",{className:h.canvasParent,children:Object(V.jsx)("canvas",{className:m.join(" "),width:b,height:j,ref:this.canvasElement})}),Object(V.jsxs)("div",{className:h.contextArea,children:["Entity"===a&&Object(V.jsx)(Va,{contextDetails:n,getStage:this.getStage},n.id),"Attribute"===a&&Object(V.jsx)(Xa,{contextDetails:n,getStage:this.getStage},n.id),"Relationship"===a&&Object(V.jsx)(an,{contextDetails:n,getStage:this.getStage},n.id),"Label"===a&&Object(V.jsx)(rn,{contextDetails:n,getStage:this.getStage},n.id),"Table"===a&&Object(V.jsx)(kn,{contextDetails:n,getStage:this.getStage},n.id),"Dimension"===a&&Object(V.jsx)(kn,{contextDetails:n,getStage:this.getStage},n.id),"Fact"===a&&Object(V.jsx)(kn,{contextDetails:n,getStage:this.getStage},n.id)]})]})]})}}]),a}(c.Component),cr=Object(f.a)((function(e){return{section:{height:"100%",display:"flex",flexFlow:"column"},workArea:{display:"flex",overflow:"hidden"},contextArea:{width:320,height:"100%",overflow:"auto",background:"#eeeeee",padding:5},canvasParent:{flex:1,overflow:"scroll",height:"100%"},canvas:{border:"1px solid #aaa",margin:0,backgroundColor:e.palette.background.paper},canvasConnectMode:{cursor:"crosshair"}}}))(Object(m.f)(Object(p.b)((function(e,t){return{canvasWidth:e.edit.canvasWidth,canvasHeight:e.edit.canvasHeight}}),(function(e){return{setCanvasSize:function(t,a){return e(kt.setCanvasSize(t,a))},showCanvasSizeDialog:function(t,a){return e(kt.showCanvasSizeDialog(t,a))},importDiagramDialogCancel:function(){return e(nt.importDiagramDialogCancel())}}}))(ir))),sr=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(V.jsxs)("section",{className:e.section,children:[Object(V.jsx)(J,{}),Object(V.jsxs)(X.a,{container:!0,spacing:1,children:[Object(V.jsx)(X.a,{item:!0,xs:12,className:e.center,children:Object(V.jsx)(Z.a,{variant:"h3",children:"404"})}),Object(V.jsx)(X.a,{item:!0,xs:12,className:e.center,children:Object(V.jsx)(Z.a,{variant:"h3",children:"Page Not Found"})})]})]})}}]),a}(c.Component),or=Object(f.a)((function(e){return{section:{height:"100%",display:"flex",flexFlow:"column"},center:{textAlign:"center",marginTop:25}}}))(Object(p.b)((function(e){return{}}),(function(e){return{}}))(sr)),lr="#4C3310",dr={default:{zIndex:{appBar:1250},typography:{}},amber:{palette:{primary:{main:"#536DFE"},secondary:{main:"#FF5C93"},warning:{main:"#FFC260"},success:{main:"#3CD4A0"},info:{main:"#9013FE"},text:{primary:lr,secondary:lr,hint:lr}},zIndex:{appBar:1250},typography:{}}},ur=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.classes;return Object(V.jsx)("section",{className:e.section,children:Object(V.jsxs)(X.a,{container:!0,spacing:1,children:[Object(V.jsx)(X.a,{item:!0,xs:12,className:e.center,children:Object(V.jsx)(L.a,{className:e.spinner})}),Object(V.jsx)(X.a,{item:!0,xs:12,className:e.center,children:Object(V.jsx)(Z.a,{variant:"h4",children:"Loading"})})]})})}}]),a}(c.Component),hr=Object(f.a)((function(e){return{section:{height:"100%",display:"flex",flexFlow:"column",backgroundColor:"#d0d0d0"},"@keyframes rotator":{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},spinner:{animation:"$rotator 1.4s linear infinite",width:125,height:125,color:"#4C3310"},center:{textAlign:"center"}}}))(Object(m.f)(Object(p.b)((function(e){return{}}),(function(e){return{}}))(ur))),br=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).toggleAnswer=function(){n.setState((function(e){return{isActive:!e.isActive}}))},n.state={isActive:!1},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.question,n=e.answer,r=this.state.isActive;return Object(V.jsxs)("div",{children:[Object(V.jsxs)(ee.a,{className:r?t.active:t.question,onClick:this.toggleAnswer,children:[Object(V.jsx)(Z.a,{variant:"h6",children:a}),Object(V.jsx)("div",{className:t.plusCircle,children:Object(V.jsx)("div",{className:t.plusSign,children:"+"})})]}),r&&Object(V.jsx)("div",{className:t.answer,children:Object(V.jsxs)(Z.a,{children:[Object(V.jsx)("b",{children:"Answer:"})," ",n]})})]})}}]),a}(c.Component),jr=Object(f.a)((function(e){return{body:{fontFamily:"Mastro Sans DEMO Regular, sans-serif"},h3:{fontWeight:"normal"},faq:{margin:"10px"},question:{padding:"10px",backgroundColor:"white",marginBottom:"10px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",border:"2px solid #ddd",borderRadius:"10px",boxShadow:"0 3px 5px rgba(0, 0, 0, 0.1)",transition:"background-color 0.3s, border-color 0.3s","&:hover":{backgroundColor:"#f0f0f0",borderColor:"blue","& $plusCircle":{backgroundColor:"blue",borderColor:"blue"}}},answer:{display:"block",marginTop:"5px",backgroundColor:"#F9F9F9",marginBottom:"10px",padding:"10px",textAlign:"left",borderRadius:"0 0 5px 5px","& p":{margin:"0"}},plusCircle:{display:"inline-block",width:"20px",height:"20px",backgroundColor:"white",border:"2px solid #ddd",borderRadius:"50%",marginLeft:"10px",transition:"background-color 0.3s, border-color 0.3s"},plusSign:{display:"block",color:"#ddd",textAlign:"center",lineHeight:"18px"},active:{padding:"10px",backgroundColor:"white",cursor:"pointer",borderColor:"blue",display:"flex",justifyContent:"space-between",alignItems:"center",border:"2px solid #ddd",borderRadius:"10px",boxShadow:"0 3px 5px rgba(0, 0, 0, 0.1)",transition:"background-color 0.3s, border-color 0.3s","& $plusCircle":{backgroundColor:"blue",borderColor:"blue"},"& $plusSign":{color:"white"}}}}))(Object(p.b)((function(e){return{}}),(function(e){return{}}))(br)),mr=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).toggleAnswer=function(){n.setState((function(e){return{isActive:!e.isActive}}))},n.state={isActive:!1},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.gtag("event","page_view",{page_path:"/about"})}},{key:"render",value:function(){var e=this.props.classes;this.state.isActive;return Object(V.jsxs)("section",{className:e.section,children:[Object(V.jsx)(J,{className:e.header}),Object(V.jsxs)(X.a,{container:!0,className:e.grid,spacing:3,children:[Object(V.jsx)(X.a,{item:!0,xs:12,children:Object(V.jsx)(Z.a,{variant:"h4",children:"About"})}),Object(V.jsx)(X.a,{item:!0,xs:3,children:Object(V.jsx)(Ca,{dataAdSlot:"3646789906"})}),Object(V.jsxs)(X.a,{item:!0,xs:6,style:{marginBottom:"16px"},children:[Object(V.jsx)(jr,{question:"What is ERDPlus?",answer:"ERDPlus is an online tool for creating Entity-Relationship Diagrams (ERDs), Relational Schemas, Star Schemas, and SQL DDL statements. ERDPlus allows you to visualize your database diagrams and create your databases quickly and efficiently."}),Object(V.jsx)(jr,{question:"Is ERDPlus free to use?",answer:"Yes, ERDPlus is a free software plan that allows you to create and save your diagrams."}),Object(V.jsx)(jr,{question:"How do I get started with ERDPlus?",answer:"To get started with ERDPlus, simply visit the website and sign up for a free account. Once registered, you can begin creating your database diagrams and schemas right away. You can also sign in with your Google account."}),Object(V.jsx)(jr,{question:"Can I export the images of my diagrams from ERDPlus?",answer:"Yes, ERDPlus allows you to export images as PNG files using the Export Image option in the Menu tab when you create or open your diagram."}),Object(V.jsx)(jr,{question:"Is ERDPlus suitable for academic and professional use?",answer:"Yes, ERDPlus is used by academics, students, and professionals in database development in over 180 countries across the world."}),Object(V.jsx)(jr,{question:"Do I need to install any software to use ERDPlus?",answer:"No, ERDPlus is a web-based application, and you can access it through your web browser. There is no need to install any software on your computer."}),Object(V.jsx)(jr,{question:"What types of diagrams can I create with ERDPlus?",answer:"ERDPlus supports the creation of Entity-Relationship Diagrams (ERDs), Relational Schemas, Star Schemas, and SQL DDL statements."})]}),Object(V.jsx)(X.a,{item:!0,xs:3,children:Object(V.jsx)(Ca,{dataAdSlot:"2450926600"})})]})]})}}]),a}(c.Component),pr=Object(f.a)((function(e){return{section:{height:"100%",display:"flex",flexFlow:"column"},contentArea:{height:"100%"},grid:{padding:e.spacing(3),textAlign:"center",marginTop:"48px",marginBottom:e.spacing(1)},body:{fontFamily:"Mastro Sans DEMO Regular, sans-serif"},header:{position:"fixed",width:"100%",zIndex:1e3}}}))(Object(p.b)((function(e){return{}}),(function(e){return{}}))(mr)),gr=Object(g.a)(Object(j.a)({},dr.amber)),Or=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.verifyToken(this.props.history)}},{key:"render",value:function(){var e=this.props,t=e.isLoggedIn,a=e.verifyTokenComplete;return Object(V.jsxs)(O.a,{theme:gr,children:[!a&&Object(V.jsx)(m.a,{component:hr}),a&&Object(V.jsxs)(m.c,{children:[Object(V.jsx)(m.a,{exact:!0,path:"/",component:Qn}),Object(V.jsx)(m.a,{exact:!0,path:"/about",component:pr}),Object(V.jsx)(m.a,{exact:!0,path:"/privacy-policy",component:Yn}),Object(V.jsx)(m.a,{exact:!0,path:"/reset-password/:token",component:zn}),!t&&Object(V.jsx)(m.a,{exact:!0,path:"/standalone",component:cr}),!t&&Object(V.jsx)(m.a,{exact:!0,path:"/login",component:$n}),!t&&Object(V.jsx)(m.a,{exact:!0,path:"/create-account",component:he}),!t&&Object(V.jsx)(m.a,{exact:!0,path:"/forgot-password",component:Hn}),t&&Object(V.jsx)(m.a,{exact:!0,path:"/account",component:de}),t&&Object(V.jsx)(m.a,{exact:!0,path:"/documents",component:Sa}),t&&Object(V.jsx)(m.a,{exact:!0,path:"/edit-diagram/:id",component:Mn}),Object(V.jsx)(m.a,{component:or})]})]})}}]),a}(c.Component),fr=Object(m.f)(Object(p.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn,verifyTokenComplete:e.auth.verifyTokenComplete}}),(function(e){return{verifyToken:function(t){return e(k.verifyToken(t))},getFolders:function(){return e(Dt.getFolders())},getDiagrams:function(){return e(nt.getDiagrams())},getAccount:function(){return e(ce.getAccount())}}}))(Or)),xr=a(373);var vr=function(e){var t=e.history;return Object(V.jsxs)(s.a.Fragment,{children:[Object(V.jsx)(xr.a,{}),Object(V.jsx)(m.b,{history:t,children:Object(V.jsx)(fr,{})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var yr=a(72),Cr=a(190),wr=a(9),Dr=a(4),Sr=a(187),Ar=a.n(Sr),Er=a(188),Tr=a.n(Er),Ir="ApiToken",kr=function(){return window.localStorage.getItem(Ir)},Nr=function(e){window.localStorage.setItem(Ir,e)},Rr=function(){window.localStorage.removeItem(Ir)},Mr=function(e){try{return e?Tr()(e):null}catch(t){return Rr(),null}},Fr={apiUrl:"https://delcgtquxh.execute-api.us-east-1.amazonaws.com/prod/"},Pr=Object(j.a)({},Fr),_r=Ar.a.create({baseURL:Pr.apiUrl});function Lr(){var e={accept:"application/json"},t=kr();return t&&(e.Authorization=t),e}function Br(e){return _r.get(e,{headers:Lr()})}function Ur(e,t){return _r.post(e,t,{headers:Lr()})}function Gr(e,t){return _r.put(e,t,{headers:Lr()})}function qr(e){return _r.delete(e,{headers:Lr()})}function zr(){return Br("/api/session")}function Wr(e){return Ur("/api/session",e)}function Hr(e){return Ur("/api/google-session",e)}function Kr(){return Br("/api/folders")}function Yr(e){return Ur("/api/folders",e)}function Vr(e){return Gr("/api/folders/".concat(e.id),e)}function Qr(e){return qr("/api/folders/".concat(e))}function Jr(){return qr("/api/folders/trash")}function Xr(){return Br("/api/diagrams")}function $r(e){return Gr("/api/diagrams/".concat(e.id),e)}function Zr(e){return Ur("/api/diagrams",e)}function ei(e){return qr("/api/diagrams/".concat(e))}function ti(){return Br("/api/account")}function ai(e){return Ur("/api/account",e)}function ni(e){return Gr("/api/account",e)}function ri(){return qr("/api/account")}function ii(e){return Ur("/api/account/password",e)}function ci(e){return Ur("/api/account/migrate-social",e)}function si(e){return Ur("/api/reset-password",e)}function oi(e){return Gr("/api/reset-password/".concat(e.token),{password:e.password})}var li=Object(wr.a)().mark(gi),di=Object(wr.a)().mark(Oi),ui=Object(wr.a)().mark(xi),hi=Object(wr.a)().mark(vi),bi=Object(wr.a)().mark(yi),ji=Object(wr.a)().mark(Ci),mi=Object(wr.a)().mark(wi),pi=Object(wr.a)().mark(Di);function gi(e){var t,a,n;return Object(wr.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Dr.c)(P.setBusy());case 3:return r.next=5,Object(Dr.b)(Wr,{email:e.email,password:e.password});case 5:return t=r.sent,a=t.data.accessToken,Nr(a),n=Mr(a),r.next=11,Object(Dr.c)(nt.getDiagrams());case 11:return r.next=13,Object(Dr.c)(Dt.getFolders());case 13:return r.next=15,Object(Dr.c)(ce.getAccount());case 15:return r.next=17,Object(Dr.c)(k.loginSuccess(n));case 17:e.history.push("/documents"),r.next=24;break;case 20:return r.prev=20,r.t0=r.catch(0),r.next=24,Object(Dr.c)(P.showToast("Unknown account or password",r.t0));case 24:return r.prev=24,r.next=27,Object(Dr.c)(P.clearBusy());case 27:return r.finish(24);case 28:case"end":return r.stop()}}),li,null,[[0,20,24,28]])}function Oi(e){return Object(wr.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Dr.c)(P.setBusy());case 3:return Rr(),t.next=6,Object(Dr.c)(k.logoutSuccess());case 6:return t.next=8,Object(Dr.c)(nt.getDiagramsSuccess([]));case 8:return t.next=10,Object(Dr.c)(Dt.getFoldersSuccess([]));case 10:return t.next=12,Object(Dr.c)(ce.getAccountSuccess({}));case 12:e.history.push("/"),t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(0),t.next=19,Object(Dr.c)(P.showToast("Error"));case 19:return t.prev=19,t.next=22,Object(Dr.c)(P.clearBusy());case 22:return t.finish(19);case 23:case"end":return t.stop()}}),di,null,[[0,15,19,23]])}var fi=new RegExp("^(/account|/documents|/edit-diagram)");function xi(e){var t;return Object(wr.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Dr.c)(P.setBusy());case 3:return a.next=5,Object(Dr.b)(zr);case 5:if(200!==a.sent.status){a.next=18;break}return t=Mr(kr()),a.next=10,Object(Dr.c)(nt.getDiagrams());case 10:return a.next=12,Object(Dr.c)(Dt.getFolders());case 12:return a.next=14,Object(Dr.c)(ce.getAccount());case 14:return a.next=16,Object(Dr.c)(k.verifyTokenSuccess(t));case 16:a.next=23;break;case 18:return fi.test(e.history.location.pathname)&&e.history.push("/"),a.next=21,Object(Dr.b)(Rr);case 21:return a.next=23,Object(Dr.c)(k.verifyTokenFailure());case 23:a.next=32;break;case 25:return a.prev=25,a.t0=a.catch(0),fi.test(e.history.location.pathname)&&e.history.push("/"),a.next=30,Object(Dr.b)(Rr);case 30:return a.next=32,Object(Dr.c)(k.verifyTokenFailure());case 32:return a.prev=32,a.next=35,Object(Dr.c)(P.clearBusy());case 35:return a.finish(32);case 36:case"end":return a.stop()}}),ui,null,[[0,25,32,36]])}function vi(e){var t,a,n,r;return Object(wr.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(Dr.c)(P.setBusy());case 3:return t=e.idToken,i.next=6,Object(Dr.b)(Hr,{idToken:t});case 6:return a=i.sent,n=a.data.accessToken,Nr(n),r=Mr(n),i.next=12,Object(Dr.c)(nt.getDiagrams());case 12:return i.next=14,Object(Dr.c)(Dt.getFolders());case 14:return i.next=16,Object(Dr.c)(ce.getAccount());case 16:return i.next=18,Object(Dr.c)(k.loginSuccess(r));case 18:e.history.push("/documents"),i.next=25;break;case 21:return i.prev=21,i.t0=i.catch(0),i.next=25,Object(Dr.c)(P.showToast("Google login failed",i.t0));case 25:return i.prev=25,i.next=28,Object(Dr.c)(P.clearBusy());case 28:return i.finish(25);case 29:case"end":return i.stop()}}),hi,null,[[0,21,25,29]])}function yi(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(I.LOGIN,gi);case 2:case"end":return e.stop()}}),bi)}function Ci(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(I.LOGOUT,Oi);case 2:case"end":return e.stop()}}),ji)}function wi(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(I.VERIFY_TOKEN,xi);case 2:case"end":return e.stop()}}),mi)}function Di(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(I.GOOGLE_LOGIN,vi);case 2:case"end":return e.stop()}}),pi)}var Si=Object(wr.a)().mark(Pi),Ai=Object(wr.a)().mark(_i),Ei=Object(wr.a)().mark(Li),Ti=Object(wr.a)().mark(Bi),Ii=Object(wr.a)().mark(Ui),ki=Object(wr.a)().mark(Gi),Ni=Object(wr.a)().mark(qi),Ri=Object(wr.a)().mark(zi),Mi=Object(wr.a)().mark(Wi),Fi=Object(wr.a)().mark(Hi);function Pi(){var e,t;return Object(wr.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Dr.c)(P.setBusy());case 3:return a.next=5,Object(Dr.b)(Kr);case 5:return e=a.sent,t=e.data,a.next=9,Object(Dr.c)(Dt.getFoldersSuccess(t));case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(0),a.next=15,Object(Dr.c)(P.showToast("Error",a.t0));case 15:return a.prev=15,a.next=18,Object(Dr.c)(P.clearBusy());case 18:return a.finish(15);case 19:case"end":return a.stop()}}),Si,null,[[0,11,15,19]])}function _i(e){var t,a;return Object(wr.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Dr.c)(P.setBusy());case 3:return n.next=5,Object(Dr.b)(Yr,{name:e.name,parentId:e.parentId});case 5:return t=n.sent,a=t.data,n.next=9,Object(Dr.c)(Dt.createFolderSuccess(a));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(Dr.c)(P.showToast("Error",n.t0));case 15:return n.prev=15,n.next=18,Object(Dr.c)(P.clearBusy());case 18:return n.finish(15);case 19:case"end":return n.stop()}}),Ai,null,[[0,11,15,19]])}function Li(e){var t,a;return Object(wr.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Dr.c)(P.setBusy());case 3:return n.next=5,Object(Dr.b)(Vr,e.folder);case 5:return t=n.sent,a=t.data,n.next=9,Object(Dr.c)(Dt.renameFolderSuccess(a));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(Dr.c)(P.showToast("Error",n.t0));case 15:return n.prev=15,n.next=18,Object(Dr.c)(P.clearBusy());case 18:return n.finish(15);case 19:case"end":return n.stop()}}),Ei,null,[[0,11,15,19]])}function Bi(e){return Object(wr.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Dr.c)(P.setBusy());case 3:return t.next=5,Object(Dr.b)(Qr,e.folderId);case 5:return t.next=7,Object(Dr.c)(nt.getDiagrams());case 7:return t.next=9,Object(Dr.c)(Dt.getFolders());case 9:return t.next=11,Object(Dr.c)(Dt.deleteFolderSuccess());case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),t.next=17,Object(Dr.c)(P.showToast("Error",t.t0));case 17:return t.prev=17,t.next=20,Object(Dr.c)(P.clearBusy());case 20:return t.finish(17);case 21:case"end":return t.stop()}}),Ti,null,[[0,13,17,21]])}function Ui(e){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Dr.c)(P.setBusy());case 3:return e.next=5,Object(Dr.b)(Jr);case 5:return e.next=7,Object(Dr.c)(nt.getDiagrams());case 7:return e.next=9,Object(Dr.c)(Dt.emptyTrashSuccess());case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(Dr.c)(P.showToast("Error",e.t0));case 15:return e.prev=15,e.next=18,Object(Dr.c)(P.clearBusy());case 18:return e.finish(15);case 19:case"end":return e.stop()}}),Ii,null,[[0,11,15,19]])}function Gi(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(wt.GET_FOLDERS,Pi);case 2:case"end":return e.stop()}}),ki)}function qi(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(wt.CREATE_FOLDER,_i);case 2:case"end":return e.stop()}}),Ni)}function zi(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(wt.RENAME_FOLDER,Li);case 2:case"end":return e.stop()}}),Ri)}function Wi(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(wt.DELETE_FOLDER,Bi);case 2:case"end":return e.stop()}}),Mi)}function Hi(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(wt.EMPTY_TRASH,Ui);case 2:case"end":return e.stop()}}),Fi)}var Ki="er",Yi="relational",Vi="star",Qi=["Entity","Attribute","Relationship"],Ji=["Table"],Xi=["Dimension","Fact"],$i=function(e,t){return new Promise((function(a,n){var r=new FileReader;r.onabort=function(){n({name:e.name,ok:!1})},r.onerror=function(){n({name:e.name,ok:!1})},r.onload=function(r){try{var i=JSON.parse(r.target.result),c=function(e){if(e&&Array.isArray(e.shapes)){var t=e.shapes;if(-1!==t.findIndex((function(e){return Qi.includes(e.type)})))return Ki;if(-1!==t.findIndex((function(e){return Ji.includes(e.type)})))return Yi;if(-1!==t.findIndex((function(e){return Xi.includes(e.type)})))return Vi}throw new Error("Unkwnon Diagram Type")}(i);a({name:e.name,ok:!0,diagram:{folderId:t,name:e.name,diagramType:c,content:JSON.stringify(i)}})}catch(s){n({name:e.name,ok:!1})}},r.readAsText(e)}))},Zi=window.erd,ec=function(e,t,a){var n={activeItemChangedCallback:function(){},startMoveCallback:function(){},endMoveCallback:function(){},connectModeEndCallback:function(){},dirtyCallback:function(){},mouseModeResetCallback:function(){}};return new Promise((function(r,i){var c=document.createElement("canvas"),s=document.createElement("canvas"),o=new Zi.DiagramStage(c,n);new Zi.DiagramArchive(o).fromJson(e);var l=o.getBounds(!1),d=l.left*a,u=l.right*a,h=l.top*a,b=l.bottom*a,j=u-d,m=b-h;d>0&&(d-=2,j+=2),h>0&&(h-=2,m+=2),c.width=u,c.height=b,s.width=j+50,s.height=m+50,o.setScale(a,a),o.draw();var p=s.getContext("2d");p.clearRect(0,0,s.width,s.height),t||(p.beginPath(),p.fillStyle="#fff",p.rect(0,0,s.width,s.height),p.fill()),p.drawImage(c,d,h,j,m,25,25,j,m);var g=s.toDataURL("image/png");s.toBlob((function(e){r({dataUrl:g,blob:e})}))}))},tc=Object(wr.a)().mark(gc),ac=Object(wr.a)().mark(Oc),nc=Object(wr.a)().mark(fc),rc=Object(wr.a)().mark(xc),ic=Object(wr.a)().mark(vc),cc=Object(wr.a)().mark(yc),sc=Object(wr.a)().mark(Cc),oc=Object(wr.a)().mark(wc),lc=Object(wr.a)().mark(Dc),dc=Object(wr.a)().mark(Sc),uc=Object(wr.a)().mark(Ac),hc=Object(wr.a)().mark(Ec),bc=Object(wr.a)().mark(Tc),jc=Object(wr.a)().mark(Ic),mc=Object(wr.a)().mark(kc),pc=Object(wr.a)().mark(Nc);function gc(){var e,t;return Object(wr.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Dr.c)(P.setBusy());case 3:return a.next=5,Object(Dr.b)(Xr);case 5:return e=a.sent,t=e.data,a.next=9,Object(Dr.c)(nt.getDiagramsSuccess(t));case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(0),a.next=15,Object(Dr.c)(P.showToast("Error",a.t0));case 15:return a.prev=15,a.next=18,Object(Dr.c)(P.clearBusy());case 18:return a.finish(15);case 19:case"end":return a.stop()}}),tc,null,[[0,11,15,19]])}function Oc(e){var t,a;return Object(wr.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Dr.c)(P.setBusy());case 3:return n.next=5,Object(Dr.b)($r,e.diagram);case 5:return t=n.sent,a=t.data,n.next=9,Object(Dr.c)(nt.saveDiagramSuccess(a));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(Dr.c)(P.showToast("Error",n.t0));case 15:return n.prev=15,n.next=18,Object(Dr.c)(P.clearBusy());case 18:return n.finish(15);case 19:case"end":return n.stop()}}),ac,null,[[0,11,15,19]])}function fc(e){var t,a;return Object(wr.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Dr.c)(P.setBusy());case 3:return n.next=5,Object(Dr.b)(Zr,e.diagram);case 5:return t=n.sent,a=t.data,n.next=9,Object(Dr.c)(nt.createDiagramSuccess(a));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(Dr.c)(P.showToast("Error",n.t0));case 15:return n.prev=15,n.next=18,Object(Dr.c)(P.clearBusy());case 18:return n.finish(15);case 19:case"end":return n.stop()}}),nc,null,[[0,11,15,19]])}function xc(e){return Object(wr.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Dr.c)(P.setBusy());case 3:return t.next=5,Object(Dr.b)(ei,e.diagramId);case 5:return t.next=7,Object(Dr.c)(nt.getDiagrams());case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(Dr.c)(P.showToast("Error",t.t0));case 13:return t.prev=13,t.next=16,Object(Dr.c)(P.clearBusy());case 16:return t.finish(13);case 17:case"end":return t.stop()}}),rc,null,[[0,9,13,17]])}function vc(e){var t;return Object(wr.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Dr.c)(P.setBusy());case 3:return a.next=5,Object(Dr.b)($i,e.file,e.currentFolderId);case 5:return t=a.sent,a.next=8,Object(Dr.c)(nt.dropImportFileSuccess(t));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(Dr.c)(nt.dropImportFileFailure(a.t0));case 14:return a.prev=14,a.next=17,Object(Dr.c)(P.clearBusy());case 17:return a.finish(14);case 18:case"end":return a.stop()}}),ic,null,[[0,10,14,18]])}function yc(e){var t,a,n;return Object(wr.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Dr.c)(P.setBusy());case 3:return t=e.diagrams,r.next=6,Object(Dr.a)(t.map((function(e){return Object(Dr.b)(Zr,e)})));case 6:return a=r.sent,n=a.map((function(e){return e.data})),r.next=10,Object(Dr.c)(nt.importDiagramsSuccess(n));case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(0),r.next=16,Object(Dr.c)(nt.importDiagramsFailure());case 16:return r.prev=16,r.next=19,Object(Dr.c)(P.clearBusy());case 19:return r.finish(16);case 20:case"end":return r.stop()}}),cc,null,[[0,12,16,20]])}function Cc(e){var t,a,n,r;return Object(wr.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.diagramContent,a=e.transparent,n=e.scale,i.next=4,Object(Dr.b)(ec,t,a,n);case 4:return r=i.sent,i.next=7,Object(Dr.c)(kt.createExportImageDataSuccess(r.dataUrl,r.blob));case 7:i.next=13;break;case 9:return i.prev=9,i.t0=i.catch(0),i.next=13,Object(Dr.c)(P.showToast("Error",i.t0));case 13:case"end":return i.stop()}}),sc,null,[[0,9]])}function wc(e){var t,a;return Object(wr.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Dr.c)(P.setBusy());case 3:return n.next=5,Object(Dr.a)(e.diagrams.map((function(e){return Object(Dr.b)($r,e)})));case 5:return t=n.sent,a=t.map((function(e){return e.data})),n.next=9,Object(Dr.c)(nt.saveManyDiagramsSuccess(a));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(Dr.c)(P.showToast("Error",n.t0));case 15:return n.prev=15,n.next=18,Object(Dr.c)(P.clearBusy());case 18:return n.finish(15);case 19:case"end":return n.stop()}}),oc,null,[[0,11,15,19]])}function Dc(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(at.GET_DIAGRAMS,gc);case 2:case"end":return e.stop()}}),lc)}function Sc(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(at.SAVE_DIAGRAM,Oc);case 2:case"end":return e.stop()}}),dc)}function Ac(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(at.CREATE_DIAGRAM,fc);case 2:case"end":return e.stop()}}),uc)}function Ec(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(at.DELETE_DIAGRAM,xc);case 2:case"end":return e.stop()}}),hc)}function Tc(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(at.DROP_IMPORT_FILE,vc);case 2:case"end":return e.stop()}}),bc)}function Ic(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(at.IMPORT_DIAGRAMS,yc);case 2:case"end":return e.stop()}}),jc)}function kc(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(It.CREATE_EXPORT_IMAGE_DATA,Cc);case 2:case"end":return e.stop()}}),mc)}function Nc(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(at.SAVE_MANY_DIAGRAMS,wc);case 2:case"end":return e.stop()}}),pc)}var Rc=Object(wr.a)().mark(Hc),Mc=Object(wr.a)().mark(Kc),Fc=Object(wr.a)().mark(Yc),Pc=Object(wr.a)().mark(Vc),_c=Object(wr.a)().mark(Qc),Lc=Object(wr.a)().mark(Jc),Bc=Object(wr.a)().mark(Xc),Uc=Object(wr.a)().mark($c),Gc=Object(wr.a)().mark(Zc),qc=Object(wr.a)().mark(es),zc=Object(wr.a)().mark(ts),Wc=Object(wr.a)().mark(as);function Hc(e){return Object(wr.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Dr.c)(P.setBusy());case 3:return t.next=5,Object(Dr.b)(ai,{name:e.name,email:e.email,password:e.password});case 5:return t.next=7,Object(Dr.c)(k.login(e.email,e.password,e.history));case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(Dr.c)(P.showToast("Error",t.t0));case 13:return t.prev=13,t.next=16,Object(Dr.c)(P.clearBusy());case 16:return t.finish(13);case 17:case"end":return t.stop()}}),Rc,null,[[0,9,13,17]])}function Kc(e){var t,a;return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Dr.c)(P.setBusy());case 3:return e.next=5,Object(Dr.b)(ti);case 5:return t=e.sent,a=t.data,e.next=9,Object(Dr.c)(ce.getAccountSuccess(a));case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(Dr.c)(P.showToast("Error",e.t0));case 15:return e.prev=15,e.next=18,Object(Dr.c)(P.clearBusy());case 18:return e.finish(15);case 19:case"end":return e.stop()}}),Mc,null,[[0,11,15,19]])}function Yc(e){var t,a;return Object(wr.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Dr.c)(P.setBusy());case 3:return n.next=5,Object(Dr.b)(ni,{name:e.name});case 5:return t=n.sent,a=t.data,n.next=9,Object(Dr.c)(ce.updateAccountSuccess(a));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(Dr.c)(P.showToast("Error",n.t0));case 15:return n.prev=15,n.next=18,Object(Dr.c)(P.clearBusy());case 18:return n.finish(15);case 19:case"end":return n.stop()}}),Fc,null,[[0,11,15,19]])}function Vc(e){var t,a;return Object(wr.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Dr.c)(P.setBusy());case 3:return t=e.currentPassword,a=e.newPassword,n.next=6,Object(Dr.b)(ii,{currentPassword:t,newPassword:a});case 6:return n.next=8,Object(Dr.c)(ce.changePasswordSuccess());case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(Dr.c)(P.showToast("Error",n.t0));case 14:return n.prev=14,n.next=17,Object(Dr.c)(P.clearBusy());case 17:return n.finish(14);case 18:case"end":return n.stop()}}),Pc,null,[[0,10,14,18]])}function Qc(e){return Object(wr.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Dr.c)(P.setBusy());case 3:return t.next=5,Object(Dr.b)(ri);case 5:return Rr(),t.next=8,Object(Dr.c)(k.logoutSuccess());case 8:return t.next=10,Object(Dr.c)(nt.getDiagramsSuccess([]));case 10:return t.next=12,Object(Dr.c)(Dt.getFoldersSuccess([]));case 12:return t.next=14,Object(Dr.c)(ce.getAccountSuccess({}));case 14:e.history.push("/"),t.next=21;break;case 17:return t.prev=17,t.t0=t.catch(0),t.next=21,Object(Dr.c)(P.showToast("Error",t.t0));case 21:return t.prev=21,t.next=24,Object(Dr.c)(P.clearBusy());case 24:return t.finish(21);case 25:case"end":return t.stop()}}),_c,null,[[0,17,21,25]])}function Jc(e){return Object(wr.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Dr.c)(P.setBusy());case 3:return t.next=5,Object(Dr.b)(ci,{email:e.email,password:e.password});case 5:return t.next=7,Object(Dr.c)(k.login(e.email,e.password,e.history));case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(Dr.c)(P.showToast("Error",t.t0));case 13:return t.prev=13,t.next=16,Object(Dr.c)(P.clearBusy());case 16:return t.finish(13);case 17:case"end":return t.stop()}}),Lc,null,[[0,9,13,17]])}function Xc(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(ie.CREATE_ACCOUNT,Hc);case 2:case"end":return e.stop()}}),Bc)}function $c(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(ie.GET_ACCOUNT,Kc);case 2:case"end":return e.stop()}}),Uc)}function Zc(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(ie.UPDATE_ACCOUNT,Yc);case 2:case"end":return e.stop()}}),Gc)}function es(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(ie.CHANGE_PASSWORD,Vc);case 2:case"end":return e.stop()}}),qc)}function ts(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(ie.DELETE_ACCOUNT,Qc);case 2:case"end":return e.stop()}}),zc)}function as(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(ie.DO_SOCIAL_MIGRATION,Jc);case 2:case"end":return e.stop()}}),Wc)}var ns=Object(wr.a)().mark(ss),rs=Object(wr.a)().mark(os),is=Object(wr.a)().mark(ls),cs=Object(wr.a)().mark(ds);function ss(e){var t,a,n,r;return Object(wr.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(Dr.c)(P.setBusy());case 3:return i.next=5,Object(Dr.b)(si,{email:e.email});case 5:return t=i.sent,a=t.data,n=a.email,r=a.duration,i.next=9,Object(Dr.c)(Un.resetPasswordStartSuccess(n,r));case 9:i.next=17;break;case 11:return i.prev=11,i.t0=i.catch(0),i.next=15,Object(Dr.c)(Un.resetPasswordStartFailure("some error"));case 15:return i.next=17,Object(Dr.c)(P.showToast("Error",i.t0));case 17:return i.prev=17,i.next=20,Object(Dr.c)(P.clearBusy());case 20:return i.finish(17);case 21:case"end":return i.stop()}}),ns,null,[[0,11,17,21]])}function os(e){var t,a,n;return Object(wr.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Dr.c)(P.setBusy());case 3:return r.next=5,Object(Dr.b)(oi,{token:e.token,password:e.password});case 5:return t=r.sent,r.next=8,Object(Dr.c)(Un.resetPasswordCompleteSuccess());case 8:return a=t.data.accessToken,Nr(a),n=Mr(a),r.next=13,Object(Dr.c)(nt.getDiagrams());case 13:return r.next=15,Object(Dr.c)(Dt.getFolders());case 15:return r.next=17,Object(Dr.c)(ce.getAccount());case 17:return r.next=19,Object(Dr.c)(k.loginSuccess(n));case 19:e.history.push("/documents"),r.next=28;break;case 22:return r.prev=22,r.t0=r.catch(0),r.next=26,Object(Dr.c)(Un.resetPasswordCompleteFailure("some error"));case 26:return r.next=28,Object(Dr.c)(P.showToast("Error",r.t0));case 28:return r.prev=28,r.next=31,Object(Dr.c)(P.clearBusy());case 31:return r.finish(28);case 32:case"end":return r.stop()}}),rs,null,[[0,22,28,32]])}function ls(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(Bn.RESET_PASSWORD_START,ss);case 2:case"end":return e.stop()}}),is)}function ds(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(Bn.RESET_PASSWORD_COMPLETE,os);case 2:case"end":return e.stop()}}),cs)}var us=a(27),hs=a(166).format;function bs(e){this.er="string"===typeof e?JSON.parse(e):e}bs.prototype.convert=function(){return this.init(),this.convertRegularEntities(),this.convertSupertypeRelationships(),this.convertRegularRelationships(),this.convertUnaryRelationships(),this.convertPendingMultivaluedAttributes(),this.convertPendingAssociativeEntities(),this.positionTables(),this.rs},bs.prototype.init=function(){this.pendingMultivaluedAttributes=[],this.pendingAssociativeEntities=[],this.idMap={},this.nextId=1,this.relationshipHistory=[],this.rs={version:2,www:"erdplus.com",shapes:[],connectors:[],width:this.er.width,height:this.er.height}},bs.prototype.convertRegularEntities=function(){var e,t=this.er.shapes.filter((function(e){return"Entity"===e.type})),a=Object(us.a)(t);try{for(a.s();!(e=a.n()).done;){var n=e.value,r=this.newTable(n.details.id);r.details.name=n.details.name,this.convertEntityAttributes(r,n),this.rs.shapes.push(r),"associative"===n.details.type&&this.pendingAssociativeEntities.push(r)}}catch(i){a.e(i)}finally{a.f()}},bs.prototype.convertPendingAssociativeEntities=function(){var e,t=Object(us.a)(this.pendingAssociativeEntities);try{for(t.s();!(e=t.n()).done;){var a,n=e.value,r=Object(us.a)(n.details.attributes);try{for(r.s();!(a=r.n()).done;){var i=a.value;i.fk&&(i.pkMember=!0)}}catch(c){r.e(c)}finally{r.f()}}}catch(c){t.e(c)}finally{t.f()}},bs.prototype.convertEntityAttributes=function(e,t){var a=this.getAttributesByOwnerId(t.details.id),n=void 0;if(!t.details.isSubtype){var r,i=Object(us.a)(a);try{for(i.s();!(r=i.n()).done;){var c=r.value;void 0!==n||!c.details.isUnique||"string"!==typeof c.details.name||"id"!==c.details.name.substr(-2).toLowerCase()||c.details.isDerived||c.details.isComposite||c.details.isMultivalued||(n=c.details.id)}}catch(f){i.e(f)}finally{i.f()}var s,o=Object(us.a)(a);try{for(o.s();!(s=o.n()).done;){var l=s.value;void 0!==n||!l.details.isUnique||l.details.isDerived||l.details.isComposite||l.details.isMultivalued||(n=l.details.id)}}catch(f){o.e(f)}finally{o.f()}var d,u=Object(us.a)(a);try{for(u.s();!(d=u.n()).done;){var h=d.value;void 0===n&&h.details.isUnique&&!h.details.isDerived&&h.details.isComposite&&!h.details.isMultivalued&&(n=h.details.id)}}catch(f){u.e(f)}finally{u.f()}}var b,j=Object(us.a)(a);try{for(j.s();!(b=j.n()).done;){var m=b.value;if(m.details.isDerived);else if(m.details.isComposite){var p=this.convertComponentAttributes(this.getAttributesByOwnerId(m.details.id));if(m.details.isUnique)if(m.details.id===n)p.forEach((function(e){e.pkMember=!0}));else{var g=p.map((function(e){return e.id}));e.details.uniqueGroups.push(g)}e.details.attributes=e.details.attributes.concat(p)}else if(m.details.isMultivalued)this.pendingMultivaluedAttributes.push({table:e,entity:t,attribute:m});else{var O=this.newColumn(m.details.id);O.names.push(m.details.name),O.optional=m.details.isOptional,m.details.isUnique&&(m.details.id===n?O.pkMember=!0:O.soloUnique=!0),e.details.attributes.push(O)}}}catch(f){j.e(f)}finally{j.f()}},bs.prototype.convertComponentAttributes=function(e){var t,a=[],n=Object(us.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=this.newColumn(r.details.id);i.names.push(r.details.name),a.push(i)}}catch(c){n.e(c)}finally{n.f()}return a},bs.prototype.convertPendingMultivaluedAttributes=function(){var e,t=Object(us.a)(this.pendingMultivaluedAttributes);try{for(t.s();!(e=t.n()).done;){var a=e.value,n=this.newColumn();n.pkMember=!0,n.names.push(a.attribute.details.name);var r=this.newTable();r.details.name=hs("%s_%s",a.table.details.name,a.attribute.details.name),r.details.attributes.push(n),this.rs.shapes.push(r),this.connectTables(a.table,r).pkMember=!0}}catch(i){t.e(i)}finally{t.f()}},bs.prototype.convertRegularRelationships=function(){var e,t=this.er.shapes.filter((function(e){return"Relationship"===e.type&&e.details.slots[0].entityId!==e.details.slots[1].entityId})),a=Object(us.a)(t);try{for(a.s();!(e=a.n()).done;){var n=e.value;n.details.isIdentifying&&this.convertOneRelationship(n)}}catch(s){a.e(s)}finally{a.f()}var r,i=Object(us.a)(t);try{for(i.s();!(r=i.n()).done;){var c=r.value;c.details.isIdentifying||this.convertOneRelationship(c)}}catch(s){i.e(s)}finally{i.f()}},bs.prototype.convertSupertypeRelationships=function(){var e,t=this.er.connectors.filter((function(e){return"Connector"===e.type&&e.details.isSupertypeConnector})),a=Object(us.a)(t);try{for(a.s();!(e=a.n()).done;){var n=e.value;this.connectTables(n.destination,n.source).pkMember=!0}}catch(r){a.e(r)}finally{a.f()}},bs.prototype.convertOneRelationship=function(e){var t,a=e.details.slots;if("one"===a[0].cardinality&&"one"===a[1].cardinality)"optional"===a[0].participation&&"optional"===a[1].participation?(t=this.connectTables(a[0].entityId,a[1].entityId,e)).optional=!0:t="mandatory"===a[1].participation?this.connectTables(a[0].entityId,a[1].entityId,e):this.connectTables(a[1].entityId,a[0].entityId,e),t.pkMember=e.details.isIdentifying;else if("one"===a[0].cardinality&&"many"===a[1].cardinality){var n=this.connectTables(a[1].entityId,a[0].entityId,e);n.optional="optional"===a[0].participation,n.pkMember=e.details.isIdentifying}else if("many"===a[0].cardinality&&"one"===a[1].cardinality){var r=this.connectTables(a[0].entityId,a[1].entityId,e);r.optional="optional"===a[1].participation,r.pkMember=e.details.isIdentifying}else if("many"===a[0].cardinality&&"many"===a[1].cardinality){var i=this.newTable(e.details.id);this.rs.shapes.push(i),i.details.name=e.details.name;var c,s=this.connectTables(a[0].entityId,i,e),o=this.connectTables(a[1].entityId,i,e),l=!1,d=this.getAttributesByOwnerId(e.details.id),u=Object(us.a)(d);try{for(u.s();!(c=u.n()).done;){var h=c.value,b=this.newColumn(h.details.id);b.names.push(h.details.name),!l&&h.details.isUnique&&(b.pkMember=!0,l=!0),i.details.attributes.push(b)}}catch(j){u.e(j)}finally{u.f()}l?i.details.uniqueGroups.push([s.id,o.id]):(s.pkMember=!0,o.pkMember=!0)}},bs.prototype.convertUnaryRelationships=function(){var e,t=this.er.shapes.filter((function(e){return"Relationship"===e.type&&!e.details.isIdentifying&&e.details.slots[0].entityId===e.details.slots[1].entityId})),a=Object(us.a)(t);try{for(a.s();!(e=a.n()).done;){var n=e.value,r=n.details.slots;if("one"===r[0].cardinality||"one"===r[1].cardinality){var i=this.connectTables(r[0].entityId,r[1].entityId,n);i.names[0]=hs("%s_%s",n.details.name,i.names[0]),i.optional="optional"===r[0].participation||"optional"===r[1].participation}else if("many"===r[0].cardinality&&"many"===r[1].cardinality){var c=this.newTable(n.details.id);c.details.name=n.details.name,this.rs.shapes.push(c);var s=this.connectTables(r[0].entityId,n.details.id,n);s.names[0]=hs("%s_1",s.names[0]),s.pkMember=!0;var o=this.connectTables(r[0].entityId,n.details.id,n);o.names[0]=hs("%s_2",o.names[0]),o.pkMember=!0}}}catch(l){a.e(l)}finally{a.f()}},bs.prototype.newTable=function(e){return{type:"Table",details:{name:"",x:0,y:0,sort:"automatic",attributes:[],uniqueGroups:[],id:this.mapId(e)}}},bs.prototype.newColumn=function(e){return{names:[],order:0,pkMember:!1,optional:!1,soloUnique:!1,fk:!1,dataType:"int",dataTypeSize:null,id:this.mapId(e)}},bs.prototype.newConnector=function(){return{type:"TableConnector",details:{fkAttributeId:null,id:this.mapId()},source:null,destination:null}},bs.prototype.createFk=function(e){var t=this.newColumn();t.references=[],t.fk=!0;for(var a=0;a<e.details.attributes.length;++a){var n=e.details.attributes[a];if(n.pkMember)if(n.fk)for(var r=0;r<n.names.length;++r)t.names.push(n.names[r]),t.references.push({tableId:e.details.id,attributeId:n.id,fkSubIndex:r});else t.names.push(n.names[0]),t.references.push({tableId:e.details.id,attributeId:n.id})}return t},bs.prototype.connectTables=function(e,t,a){"number"===typeof e&&(e=this.findTableyByMappedId(e)),"number"===typeof t&&(t=this.findTableyByMappedId(t));var n=this.recordRelationshipHistory(e.details.id,t.details.id),r=this.createFk(e);if(t.details.attributes.push(r),n>1){var i,c=[],s=Object(us.a)(r.names);try{for(s.s();!(i=s.n()).done;){var o=i.value;c.push(a.details.name+o)}}catch(d){s.e(d)}finally{s.f()}r.names=c}var l=this.newConnector();return l.details.fkAttributeId=r.id,l.source=e.details.id,l.destination=t.details.id,this.rs.connectors.push(l),r},bs.prototype.recordRelationshipHistory=function(e,t){var a=this.relationshipHistory.find((function(a){return a.pkTableId===e&&a.fkTableId===t}));return a?(a.count=a.count+1,a.count):(this.relationshipHistory.push({pkTableId:e,fkTableId:t,count:1}),1)},bs.prototype.mapId=function(e){if(this.idMap.hasOwnProperty(e))return this.idMap[e];var t=this.nextId;return this.nextId+=1,"number"===typeof e&&(this.idMap[e]=t),t},bs.prototype.positionTables=function(){for(var e=this.rs.shapes.filter((function(e){return"Table"===e.type})),t=Math.ceil(Math.sqrt(e.length)),a=10,n=0;n<e.length;){var r=e.slice(n,n+t);n+=t;for(var i=0,c=0;c<r.length;++c){var s=r[c];i=Math.max(i,s.details.attributes.length),s.details.x=10+165*c,s.details.y=a}a+=15*(i+1)}},bs.prototype.getAttributesByOwnerId=function(e){var t=this;return this.er.shapes.filter((function(a){return"Attribute"===a.type&&t.er.connectors.some((function(t){return t.source===a.details.id&&t.destination===e}))}),this)},bs.prototype.findTableyByMappedId=function(e){var t=this.mapId(e);return this.rs.shapes.find((function(e){return"Table"===e.type&&e.details.id===t}))};var js=bs,ms=a(166).format;function ps(e){this.diagram="string"===typeof e?JSON.parse(e):e}ps.prototype.columnTypes=[{id:"none",name:"No Data Type",sql:"NODATATYPE",hasSize:!1},{id:"custom",name:"Custom Data Type",sql:"",hasSize:!0},{id:"charn",name:"CHAR(n)",sql:"CHAR",hasSize:!0},{id:"varcharn",name:"VARCHAR(n)",sql:"VARCHAR",hasSize:!0},{id:"int",name:"INT",sql:"INT",hasSize:!1},{id:"numeric",name:"NUMERIC(p s)",sql:"NUMERIC",hasSize:!0},{id:"date",name:"DATE",sql:"DATE",hasSize:!1},{id:"float",name:"FLOAT",sql:"FLOAT",hasSize:!1}],ps.prototype.generate=function(){return this.initSqlTables(),this.processAttributes(),this.processUnique(),this.resolveFkColumnDataTypes(),this.resolveFkReferenceNames(),this.sortTables(),this.toSqlLines(),this.toSql()},ps.prototype.initSqlTables=function(){this.tables={};var e,t=Object(us.a)(this.diagram.shapes);try{for(t.s();!(e=t.n()).done;){var a=e.value;"Table"!==a.type&&"Fact"!==a.type&&"Dimension"!==a.type||(this.tables[a.details.id]={name:a.details.name,original:a,columns:{},foreignKeys:[],requiredTables:[]})}}catch(n){t.e(n)}finally{t.f()}},ps.prototype.processAttributes=function(){for(var e in this.tables){var t,a=this.tables[e],n=Object(us.a)(a.original.details.attributes);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.fk){a.foreignKeys.push({names:r.names,references:r.references});var i=0;for(var c in r.names){var s=r.names[c],o=r.references[i];a.columns[ms("%s-%s",r.id,i)]={name:s,pkMember:r.pkMember,optional:r.optional,fk:!0,reference:{tableId:o.tableId,columnId:o.attributeId,fkSubIndex:o.fkSubIndex}},i+=1}}else a.columns[r.id]={name:r.names[0],pkMember:r.pkMember,optional:r.optional,dataType:this.getSqlDataType(r.dataType,r.dataTypeSize)}}}catch(l){n.e(l)}finally{n.f()}}},ps.prototype.processUnique=function(){for(var e in this.tables){var t=this.tables[e];t.unique=[];var a,n=Object(us.a)(t.original.details.attributes);try{for(n.s();!(a=n.n()).done;){var r=a.value;r.soloUnique&&!r.pkMember&&t.unique.push([r.id])}}catch(i){n.e(i)}finally{n.f()}t.unique=t.unique.concat(t.original.details.uniqueGroups)}},ps.prototype.resolveFkColumnDataTypes=function(){for(var e in this.tables){var t=this.tables[e];for(var a in t.columns){var n=t.columns[a];n.fk&&(n.dataType=this.resolveDataType(n.reference.tableId,n.reference.columnId,n.reference.fkSubIndex))}}},ps.prototype.resolveDataType=function(e,t,a){var n=void 0;if("number"===typeof a){var r=ms("%s-%s",t,a);n=this.tables[e].columns[r]}else n=this.tables[e].columns[t];if(void 0===n)return"(not found)";if("string"===typeof n.dataType)return n.dataType;if(n.fk){var i=this.resolveDataType(n.reference.tableId,n.reference.columnId,n.reference.fkSubIndex);return n.dataType=i,i}},ps.prototype.resolveFkReferenceNames=function(){for(var e in this.tables){var t,a=this.tables[e],n=Object(us.a)(a.foreignKeys);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.references[0].tableId;r.referencedTableName=this.tables[i].name;var c,s=Object(us.a)(r.references);try{for(s.s();!(c=s.n()).done;){var o=c.value,l=this.resolveFkReferenceName(o.tableId,o.attributeId,o.fkSubIndex);o.name=l}}catch(d){s.e(d)}finally{s.f()}}}catch(d){n.e(d)}finally{n.f()}}},ps.prototype.resolveFkReferenceName=function(e,t,a){var n=void 0;if("number"===typeof a){var r=ms("%s-%s",t,a);n=this.tables[e].columns[r]}else n=this.tables[e].columns[t];return n?n.name:"missing"},ps.prototype.resolveAllFkReferenceNames=function(e,t){for(var a=[],n=0,r=ms("%s-%s",t,n);e.columns.hasOwnProperty(r);)a.push(e.columns[r].name),r=ms("%s-%s",t,n+=1);return a},ps.prototype.sortTables=function(){var e,t=Object(us.a)(this.diagram.connectors);try{for(t.s();!(e=t.n()).done;){var a=e.value;if("TableConnector"===a.type){var n=a.source,r=a.destination;this.tables[r].requiredTables.push(n)}}}catch(j){t.e(j)}finally{t.f()}var i=[],c=0,s={};do{for(var o in c=0,this.tables){var l,d=!0,u=Object(us.a)(this.tables[o].requiredTables);try{for(u.s();!(l=u.n()).done;){var h=l.value;d=d&&s[h]}}catch(j){u.e(j)}finally{u.f()}d&&(c+=1,i.push(this.tables[o]),delete this.tables[o],s[o]=!0)}}while(c>0);for(var b in this.tables)i.push(this.tables[b]),delete this.tables[b];this.tables=i},ps.prototype.toSqlLines=function(){var e,t=Object(us.a)(this.tables);try{for(t.s();!(e=t.n()).done;){var a=e.value;a.lines=[],a.lines.push(this.formatCreateTable(a.name)),a.lines.push("(");var n=[];for(var r in a.columns){var i=a.columns[r];n.push(this.formatColumn(i.name,i.dataType,i.optional))}var c=[];for(var s in a.columns){var o=a.columns[s];o.pkMember&&c.push(o.name)}c.length>0&&n.push(this.formatPrimaryKey(c));var l,d=Object(us.a)(a.foreignKeys);try{for(d.s();!(l=d.n()).done;){var u=l.value,h=u.references.map((function(e){return e.name}));n.push(this.formatForeignKey(u.names,h,u.referencedTableName))}}catch(y){d.e(y)}finally{d.f()}var b,j=Object(us.a)(a.unique);try{for(j.s();!(b=j.n()).done;){var m,p=b.value,g=[],O=Object(us.a)(p);try{for(O.s();!(m=O.n()).done;){var f=m.value;if(void 0===a.columns[f]){var x=this.resolveAllFkReferenceNames(a,f);g=g.concat(x)}else g.push(a.columns[f].name)}}catch(y){O.e(y)}finally{O.f()}n.push(this.formatUnique(g))}}catch(y){j.e(y)}finally{j.f()}for(var v=0;v<n.length-1;++v)n[v]=n[v]+",";a.lines=a.lines.concat(n),a.lines.push(");"),a.lines.push("")}}catch(y){t.e(y)}finally{t.f()}},ps.prototype.toSql=function(){var e,t=[],a=Object(us.a)(this.tables);try{for(a.s();!(e=a.n()).done;){var n=e.value;t=t.concat(n.lines)}}catch(r){a.e(r)}finally{a.f()}return t.join("\n")},ps.prototype.formatCreateTable=function(e){return ms("CREATE TABLE %s",this.sanitizeName(e))},ps.prototype.formatColumn=function(e,t,a){return ms(a?"  %s %s":"  %s %s NOT NULL",this.sanitizeName(e),t)},ps.prototype.formatUnique=function(e){return ms("  UNIQUE (%s)",this.sanitizeName(e).join(", "))},ps.prototype.formatPrimaryKey=function(e){return ms("  PRIMARY KEY (%s)",this.sanitizeName(e).join(", "))},ps.prototype.formatForeignKey=function(e,t,a){return ms("  FOREIGN KEY (%s) REFERENCES %s(%s)",this.sanitizeName(e).join(", "),this.sanitizeName(a),this.sanitizeName(t).join(", "))},ps.prototype.getSqlDataType=function(e,t){if("custom"===e)return t;var a=t;return"string"===typeof a&&a.length>0?("("!==a.charAt(0)&&(a="("+a),")"!==a.charAt(a.length-1)&&(a+=")")):a="",ms("%s%s",this.mapSqlDataType(e),a)},ps.prototype.mapSqlDataType=function(e){for(var t=0;t<this.columnTypes.length;++t){var a=this.columnTypes[t];if(a.id===e)return a.sql}return e},ps.prototype.sanitizeName=function(e){if(Array.isArray(e)){var t,a=[],n=Object(us.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;a.push(this.sanitizeName(r))}}catch(i){n.e(i)}finally{n.f()}return a}return e.replace(new RegExp(" ","g"),"_")};var gs=ps,Os=Object(wr.a)().mark(ys),fs=Object(wr.a)().mark(Cs),xs=Object(wr.a)().mark(ws),vs=Object(wr.a)().mark(Ds);function ys(e){var t,a,n,r,i,c,s,o,l,d;return Object(wr.a)().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Object(Dr.c)(P.setBusy());case 3:return t=e.folderId,a=e.name,n=e.content,r=e.edit,i=e.history,c=new js(n),s=JSON.stringify(c.convert()),o={folderId:t,name:a,content:s,diagramType:"relational"},u.next=9,Object(Dr.b)(Zr,o);case 9:return l=u.sent,d=l.data,u.next=13,Object(Dr.c)(nt.createDiagramSuccess(d));case 13:return u.next=15,Object(Dr.c)(lt.hideConvertToRelationalDialog());case 15:r&&i.push("/edit-diagram/".concat(d.id)),u.next=22;break;case 18:return u.prev=18,u.t0=u.catch(0),u.next=22,Object(Dr.c)(P.showToast("Error",u.t0));case 22:return u.prev=22,u.next=25,Object(Dr.c)(P.clearBusy());case 25:return u.finish(22);case 26:case"end":return u.stop()}}),Os,null,[[0,18,22,26]])}function Cs(e){var t,a,n;return Object(wr.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Dr.c)(P.setBusy());case 3:return t=e.content,a=new gs(t),n=a.generate(),r.next=8,Object(Dr.c)(lt.generateSqlSuccess(n));case 8:r.next=16;break;case 10:return r.prev=10,r.t0=r.catch(0),r.next=14,Object(Dr.c)(P.showToast("Error",r.t0));case 14:return r.next=16,Object(Dr.c)(lt.generateSqlFailure());case 16:return r.prev=16,r.next=19,Object(Dr.c)(P.clearBusy());case 19:return r.finish(16);case 20:case"end":return r.stop()}}),fs,null,[[0,10,16,20]])}function ws(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(ot.CONVERT_TO_RELATIONAL,ys);case 2:case"end":return e.stop()}}),xs)}function Ds(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(ot.GENERATE_SQL,Cs);case 2:case"end":return e.stop()}}),vs)}var Ss=Object(wr.a)().mark(Es),As=Object(wr.a)().mark(Ts);function Es(e){var t,a;return Object(wr.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Dr.c)(P.setBusy());case 3:return n.next=5,Object(Dr.b)($r,e.diagram);case 5:return t=n.sent,a=t.data,n.next=9,Object(Dr.c)(nt.saveDiagramSuccess(a));case 9:return n.next=11,Object(Dr.c)(kt.setIsDirty(!1));case 11:n.next=17;break;case 13:return n.prev=13,n.t0=n.catch(0),n.next=17,Object(Dr.c)(P.showToast("Error",n.t0));case 17:return n.prev=17,n.next=20,Object(Dr.c)(P.clearBusy());case 20:return n.finish(17);case 21:case"end":return n.stop()}}),Ss,null,[[0,13,17,21]])}function Ts(){return Object(wr.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Dr.d)(It.SAVE_EDIT_DIAGRAM,Es);case 2:case"end":return e.stop()}}),As)}var Is,ks=Object(yr.b)({account:re,auth:T,diagram:tt,edit:Tt,folder:Ct,resetPassword:Ln,convert:st,global:F}),Ns=a(39),Rs=Object(Ns.a)(),Ms=function(){var e=Object(Cr.a)(),t=[e].map((function(e){return Object(yr.a)(e)})),a=yr.c.apply(void 0,Object(be.a)(t)),n=Object(yr.d)(ks,{},a);return e.run(yi),e.run(Ci),e.run(wi),e.run(Di),e.run(Gi),e.run(qi),e.run(zi),e.run(Wi),e.run(Hi),e.run(Dc),e.run(Sc),e.run(Ac),e.run(Ec),e.run(Tc),e.run(Ic),e.run(kc),e.run(Nc),e.run(Xc),e.run($c),e.run(Zc),e.run(es),e.run(ts),e.run(as),e.run(ls),e.run(ds),e.run(ws),e.run(Ds),e.run(Ts),n}();Is=vr,l.a.render(Object(V.jsx)(p.a,{store:Ms,children:Object(V.jsx)(Is,{history:Rs})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[303,1,2]]]);
//# sourceMappingURL=main.b78760b8.chunk.js.map